import{r as _}from"./validators-BHkKs9Dp.js";import{m as $,n as E,r as o,j as N,f as J,w as i,u as e,T as O,E as Q,o as k,a,b as v,c as q,d as j,F as B,t as z,g as L,e as M,i as y,k as P}from"./main-Io5vp2x9.js";import{_ as G}from"./ShowAlert-B-O02ezA.js";import{_ as H}from"./AppSelect-CCTW22dq.js";import{Q as T}from"./vue-quill.esm-bundler-DwT3C5_2.js";/* empty css                       */import{u as I}from"./useApi-Bjuyvn6w.js";import{c as K}from"./createUrl-KboHiMjg.js";import{$ as W}from"./api-CRuhXnGs.js";import{V as X}from"./VCard-DTGvH92s.js";import{V as S}from"./VCardText-Cnn5iMV8.js";import{V as w,a as g}from"./VRow-wQwuRkbI.js";import{V as Y}from"./VForm-BV4uDMac.js";import"./VOverlay-DPFD_kGR.js";import"./forwardRefs-D3j0TLhE.js";import"./VImg-C0eAd2Wn.js";import"./VInput-8lQvlspd.js";import"./VTextField-78XBChJq.js";import"./VList-b_Gx9KJj.js";import"./ssrBoot-u6dU8eEs.js";import"./VAvatar-Duc7tMPq.js";import"./VDivider-LRAhXPmM.js";import"./dialog-transition-CsRSG8uj.js";import"./VMenu-BOjzGfAv.js";import"./VCheckboxBtn-ObTlpa0T.js";import"./VSelectionControl-CzvF-nnH.js";import"./VChip-DMsLZLfZ.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BxkgbwWS.js";/* empty css              */const Z={class:"d-flex gap-4 align-center flex-wrap"},ee={class:"d-flex align-center flex-wrap gap-4"},De={__name:"[id]",async setup(te){let d,h;const U=O(),F=Q(),{data:A,execute:ae}=([d,h]=$(()=>I(K("/referensi/show",{query:{data:"materi-sesi",sesi_latihan_id:F.params.id}}))),d=await d,h(),d),c=E(()=>A.value),r=o({icon:null,title:null,text:null,color:null}),p=o(!1),n=o(!1),m=o({sesi_latihan_id:c.value.sesi_latihan_id,deskripsi:null,jawaban:[{opsi:"A",deskripsi:null,benar:0},{opsi:"B",deskripsi:null,benar:0},{opsi:"C",deskripsi:null,benar:0},{opsi:"D",deskripsi:null,benar:0},{opsi:"E",deskripsi:null,benar:0}]}),b=o(!1),x=o(),f=o(!1),D=async()=>{var s;(s=x.value)==null||s.validate().then(async({valid:t})=>{console.log(t),t&&(f.value=!0,await W("/referensi/store",{method:"POST",body:{data:"tes-sesi",input:JSON.stringify(m.value)},onResponse({request:C,response:V,options:l}){let u=V._data;r.value=u,p.value=!0,f.value=!1}}))})};N(n,()=>{n.value&&U.push({name:"pelatihan-sesi-tes-formatif-id",params:{id:c.value.sesi_latihan_id}})});const R=[{key:0,val:"Salah"},{key:1,val:"Benar"}];return(s,t)=>{const C=H,V=G;return k(),J(X,{title:`Tambah Tes Formatif Sesi ${e(c).judul}`},{default:i(()=>[a(Y,{ref_key:"refForm",ref:x,modelValue:e(b),"onUpdate:modelValue":t[1]||(t[1]=l=>y(b)?b.value=l:null),onSubmit:P(D,["prevent"])},{default:i(()=>[a(S,{class:"pb-12"},{default:i(()=>[a(w,null,{default:i(()=>[a(g,{cols:"12",class:"mb-6"},{default:i(()=>[t[4]||(t[4]=v("label",{for:""},"Soal Tes",-1)),a(e(T),{theme:"snow",toolbar:"full",content:e(m).deskripsi,"onUpdate:content":t[0]||(t[0]=l=>e(m).deskripsi=l),contentType:"html",rules:["requiredValidator"in s?s.requiredValidator:e(_)]},null,8,["content","rules"])]),_:1})]),_:1}),(k(!0),q(B,null,j(e(m).jawaban,l=>(k(),q(B,null,[a(S,{class:"d-flex justify-space-between align-center flex-wrap gap-4 px-0 mt-14"},{default:i(()=>[v("div",Z,"Jawaban "+z(l.opsi),1),v("div",ee,[a(C,{items:R,modelValue:l.benar,"onUpdate:modelValue":u=>l.benar=u,placeholder:"Jawaban Benar","item-title":"val","item-value":"key",style:{"inline-size":"12rem"},rules:["requiredValidator"in s?s.requiredValidator:e(_)]},null,8,["modelValue","onUpdate:modelValue","rules"])])]),_:2},1024),a(w,null,{default:i(()=>[a(g,{cols:"12"},{default:i(()=>[a(e(T),{theme:"snow",toolbar:"full",content:l.deskripsi,"onUpdate:content":u=>l.deskripsi=u,contentType:"html",rules:["requiredValidator"in s?s.requiredValidator:e(_)]},null,8,["content","onUpdate:content","rules"])]),_:2},1024)]),_:2},1024)],64))),256))]),_:1}),a(S,{class:"mt-16"},{default:i(()=>[a(w,null,{default:i(()=>[a(g,{cols:"12"},{default:i(()=>[a(L,{type:"submit",loading:e(f),disabled:e(f)},{default:i(()=>t[5]||(t[5]=[M("Submit")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(V,{color:e(r).color,icon:e(r).icon,title:e(r).title,text:e(r).text,"disable-time-out":!1,isSnackbarVisible:e(p),"onUpdate:isSnackbarVisible":t[2]||(t[2]=l=>y(p)?p.value=l:null),isSnackbarClicked:e(n),"onUpdate:isSnackbarClicked":t[3]||(t[3]=l=>y(n)?n.value=l:null)},null,8,["color","icon","title","text","isSnackbarVisible","isSnackbarClicked"])]),_:1},8,["title"])}}};export{De as default};
