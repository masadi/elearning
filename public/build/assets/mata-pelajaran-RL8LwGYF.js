import{_ as le}from"./ConfirmDialog-DB7nlQCn.js";import{_ as oe}from"./ShowAlert-B-O02ezA.js";import{r as E}from"./validators-BHkKs9Dp.js";import{r as n,j as M,o as P,f as R,w as o,a as e,u as l,k as ie,b as q,g as O,e as z,m as se,n as S,c as ne,i as v,p as re,q as ue,l as h}from"./main-Io5vp2x9.js";import{_ as L}from"./AppTextField-Bg4WkDel.js";import{$ as Q}from"./api-CRuhXnGs.js";import{V as G}from"./VCard-DTGvH92s.js";import{V as de}from"./VForm-BV4uDMac.js";import{V as $}from"./VCardText-Cnn5iMV8.js";import{V as j,a as k}from"./VRow-wQwuRkbI.js";import{V as me}from"./VDialog-DsWdgZMk.js";import{V as pe,_ as fe}from"./VDataTableServer-VtzMq7h6.js";import{_ as ce}from"./AppSelect-CCTW22dq.js";import{u as ve}from"./useApi-Bjuyvn6w.js";import{c as Ve}from"./createUrl-KboHiMjg.js";import{V as ge}from"./VSpacer-caXuwDMs.js";import{V as _e}from"./VDivider-LRAhXPmM.js";import"./VOverlay-DPFD_kGR.js";import"./forwardRefs-D3j0TLhE.js";import"./VImg-C0eAd2Wn.js";import"./VInput-8lQvlspd.js";import"./VTextField-78XBChJq.js";import"./index-BxkgbwWS.js";import"./VAvatar-Duc7tMPq.js";/* empty css              */import"./dialog-transition-CsRSG8uj.js";import"./VCheckboxBtn-ObTlpa0T.js";import"./VSelectionControl-CzvF-nnH.js";import"./VChip-DMsLZLfZ.js";import"./filter-DikfXYgU.js";import"./VList-b_Gx9KJj.js";import"./ssrBoot-u6dU8eEs.js";import"./VMenu-BOjzGfAv.js";const be={__name:"AddMataPelajaranDialog",props:{isDialogVisible:{type:Boolean,required:!0},sekolahId:{type:String,required:!0},detilData:{type:Object,required:!1,default:null}},emits:["update:isDialogVisible","notif"],setup(T,{emit:g}){const r=T,d=g,m=n(!1),V=n(),i=n({data:"mata-pelajaran",id:null,sekolah_id:r.sekolahId,nama:null,alias:null}),f=async()=>{var p;(p=V.value)==null||p.validate().then(async({valid:s})=>{s&&await Q("/induk/store",{method:"POST",body:i.value,onResponse({request:D,response:c,options:_}){let A=c._data;d("notif",A),y()}})})},y=()=>{d("update:isDialogVisible",!1),i.value={data:"mata-pelajaran",id:null,sekolah_id:r.sekolahId,nama:null,alias:null}};return M(r,async()=>{r.isDialogVisible&&r.detilData&&(i.value={data:"mata-pelajaran",id:r.detilData.id,sekolah_id:r.detilData.sekolah_id,nama:r.detilData.nama,alias:r.detilData.alias})}),(p,s)=>{const D=L;return P(),R(me,{width:"500","model-value":r.isDialogVisible,"onUpdate:modelValue":y},{default:o(()=>[e(G,{title:i.value.id?"Edit Mata Pelajaran":"Tambah Mata Pelajaran"},{default:o(()=>[e(l(de),{ref_key:"refForm",ref:V,modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=c=>m.value=c),onSubmit:ie(f,["prevent"])},{default:o(()=>[e($,null,{default:o(()=>[e(j,null,{default:o(()=>[e(k,{cols:"12"},{default:o(()=>[e(j,{"no-gutters":""},{default:o(()=>[e(k,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>s[3]||(s[3]=[q("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama"},"Nama",-1)])),_:1}),e(k,{cols:"12",md:"9"},{default:o(()=>[e(D,{id:"nama",modelValue:i.value.nama,"onUpdate:modelValue":s[0]||(s[0]=c=>i.value.nama=c),rules:["requiredValidator"in p?p.requiredValidator:l(E)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(k,{cols:"12"},{default:o(()=>[e(j,{"no-gutters":""},{default:o(()=>[e(k,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>s[4]||(s[4]=[q("label",{class:"v-label text-body-2 text-high-emphasis",for:"alias"},"Alias",-1)])),_:1}),e(k,{cols:"12",md:"9"},{default:o(()=>[e(D,{id:"alias",modelValue:i.value.alias,"onUpdate:modelValue":s[1]||(s[1]=c=>i.value.alias=c),rules:["requiredValidator"in p?p.requiredValidator:l(E)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e($,{class:"d-flex justify-end"},{default:o(()=>[e(O,{type:"submit"},{default:o(()=>s[5]||(s[5]=[z(" Simpan ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])]),_:1},8,["model-value"])}}},ke={class:"d-flex gap-2 align-center"},ye={class:"d-flex align-center flex-wrap gap-4"},aa={__name:"mata-pelajaran",async setup(T){let g,r;const d=n({icon:null,title:null,text:null,color:null}),m=n(!1),V=n(""),i=n(10),f=n(1),y=n("id"),p=n("ASC"),s=u=>{var a,b;u.sortBy.length&&(y.value=(a=u.sortBy[0])==null?void 0:a.key,p.value=(b=u.sortBy[0])==null?void 0:b.order)},D=[{title:"ID",key:"id"},{title:"nama",key:"nama"},{title:"alias",key:"alias"},{title:"Actions",key:"actions",align:"center",sortable:!1}],c=u=>{d.value=u,m.value=!0},{data:_,execute:A}=([g,r]=se(()=>ve(Ve("/induk",{query:{data:"mata-pelajaran",q:V,per_page:i,page:f,sortBy:y,orderBy:p}}))),g=await g,r(),g);_.value.color&&(d.value=_.value,m.value=!0);const H=S(()=>_.value.lists.data),N=S(()=>_.value.lists.total),B=S(()=>_.value.sekolah_id),x=n(!1),I=n(),C=n(),J=async u=>{I.value=u.id,C.value=!0},K=async u=>{u&&await Q(`/induk/destroy/kelompok/${I.value}`,{method:"DELETE",onResponse({request:a,response:b,options:F}){let U=b._data;d.value=U,m.value=!0,I.value=null,A()}})},w=n(),W=async u=>{x.value=!0,w.value=u};M(m,()=>{m.value||A()});const X=()=>{x.value=!0,w.value=null};return(u,a)=>{const b=ce,F=L,U=ue("IconBtn"),Y=fe,Z=be,ee=oe,ae=le;return P(),ne("section",null,[e(G,null,{default:o(()=>[e($,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[q("div",ke,[e(b,{"model-value":l(i),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=parseInt(t,10))},null,8,["model-value"])]),e(ge),q("div",ye,[e(F,{modelValue:l(V),"onUpdate:modelValue":a[1]||(a[1]=t=>v(V)?V.value=t:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),e(O,{onClick:X},{default:o(()=>[a[10]||(a[10]=z("Tambah ")),e(h,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),e(_e),e(pe,{"items-per-page":l(i),"onUpdate:itemsPerPage":a[3]||(a[3]=t=>v(i)?i.value=t:null),page:l(f),"onUpdate:page":a[4]||(a[4]=t=>v(f)?f.value=t:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:l(H),"items-length":l(N),headers:D,class:"text-no-wrap","onUpdate:options":s},{"item.actions":o(({item:t})=>[e(U,{onClick:te=>J(t)},{default:o(()=>[e(h,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),e(U,{onClick:te=>W(t)},{default:o(()=>[e(h,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:o(()=>[e(Y,{page:l(f),"onUpdate:page":a[2]||(a[2]=t=>v(f)?f.value=t:null),"items-per-page":l(i),"total-items":l(N)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),e(Z,{"is-dialog-visible":l(x),"onUpdate:isDialogVisible":a[5]||(a[5]=t=>v(x)?x.value=t:null),onNotif:c,sekolahId:l(B),"onUpdate:sekolahId":a[6]||(a[6]=t=>v(B)?B.value=t:null),"detil-data":l(w),"onUpdate:detilData":a[7]||(a[7]=t=>v(w)?w.value=t:null)},null,8,["is-dialog-visible","sekolahId","detil-data"]),l(d).color?(P(),R(ee,{key:0,color:l(d).color,icon:l(d).icon,title:l(d).title,text:l(d).text,"disable-time-out":!1,isSnackbarVisible:l(m),"onUpdate:isSnackbarVisible":a[8]||(a[8]=t=>v(m)?m.value=t:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):re("",!0),e(ae,{isDialogVisible:l(C),"onUpdate:isDialogVisible":a[9]||(a[9]=t=>v(C)?C.value=t:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:K},null,8,["isDialogVisible"])])}}};export{aa as default};
