import{C as A}from"./vue3-perfect-scrollbar-BHo674hM.js";import{X as B,Y as h,_ as w,$ as C,a2 as D,a as e,T,W as d,u as r,o as l,f as p,w as t,e as n,t as V,c as g,F as y,d as F,z as R,l as N,s as z,b as E,g as S,p as $}from"./main-Io5vp2x9.js";import{u as M}from"./useAbility-u_WLIaAl.js";import{$ as q}from"./api-CRuhXnGs.js";import{V as _}from"./VAvatar-Duc7tMPq.js";import{V as v}from"./VImg-C0eAd2Wn.js";import{V as G}from"./VMenu-BOjzGfAv.js";import{a as U,V as b,b as k,c as W}from"./VList-b_Gx9KJj.js";import{V as f}from"./VBadge-B623BY48.js";import{V as X}from"./VDivider-LRAhXPmM.js";import"./index-BxkgbwWS.js";import"./VOverlay-DPFD_kGR.js";import"./forwardRefs-D3j0TLhE.js";import"./dialog-transition-CsRSG8uj.js";import"./ssrBoot-u6dU8eEs.js";const Y=B({start:Boolean,end:Boolean,...h(),...w()},"VListItemAction"),j=C()({name:"VListItemAction",props:Y(),setup(a,i){let{slots:u}=i;return D(()=>e(a.tag,{class:["v-list-item-action",{"v-list-item-action--start":a.start,"v-list-item-action--end":a.end},a.class],style:a.style},u)),{}}}),I="/build/assets/avatar-1-DMk2FF1-.png",H={class:"px-4 py-2"},ct={__name:"UserProfile",setup(a){const i=T(),u=M(),c=d("userData"),L=async()=>{await q("/auth/logout",{method:"GET",async onResponse({request:m,response:s,options:o}){let x=s._data;console.log(x),d("accessToken").value=null,c.value=null,d("userAbilityRules").value=null,u.update([]),await i.push("/login")},onResponseError({response:m}){console.log(m._data.errors)}})},P=[{type:"divider"},{type:"navItem",icon:"tabler-user",title:"Profile",to:{name:"profile"}},{type:"divider"}];return(m,s)=>r(c)?(l(),p(f,{key:0,dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(_,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>[e(v,{src:r(I)},null,8,["src"]),e(G,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(U,null,{default:t(()=>[e(b,null,{prepend:t(()=>[e(j,{start:""},{default:t(()=>[e(f,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[e(_,{color:"primary",variant:"tonal"},{default:t(()=>[e(v,{src:r(I)},null,8,["src"])]),_:1})]),_:1})]),_:1})]),default:t(()=>[e(k,{class:"font-weight-semibold"},{default:t(()=>[n(V(r(c).name),1)]),_:1}),e(W,null,{default:t(()=>s[0]||(s[0]=[n("Admin")])),_:1})]),_:1}),e(r(A),{options:{wheelPropagation:!1}},{default:t(()=>[(l(),g(y,null,F(P,o=>(l(),g(y,{key:o.title},[o.type==="navItem"?(l(),p(b,{key:0,to:o.to},R({prepend:t(()=>[e(N,{icon:o.icon,size:"22"},null,8,["icon"])]),default:t(()=>[e(k,null,{default:t(()=>[n(V(o.title),1)]),_:2},1024)]),_:2},[o.badgeProps?{name:"append",fn:t(()=>[e(f,z({rounded:"sm",class:"me-3",ref_for:!0},o.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to"])):(l(),p(X,{key:1,class:"my-2"}))],64))),64)),E("div",H,[e(S,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:L},{default:t(()=>s[1]||(s[1]=[n(" Logout ")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0)}};export{ct as default};
