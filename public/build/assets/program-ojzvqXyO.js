import{_ as J}from"./ConfirmDialog-DB7nlQCn.js";import{_ as K}from"./ShowAlert-B-O02ezA.js";import{_ as W}from"./LamanAddDialog-YiJ0GHVe.js";import{V as X,_ as Y}from"./VDataTableServer-VtzMq7h6.js";import{_ as Z}from"./AppTextField-Bg4WkDel.js";import{_ as ee}from"./AppSelect-CCTW22dq.js";import{u as te}from"./useApi-Bjuyvn6w.js";import{c as ae}from"./createUrl-KboHiMjg.js";import{$ as le}from"./api-CRuhXnGs.js";import{V as oe}from"./VCard-DTGvH92s.js";import{V as ie}from"./VCardText-Cnn5iMV8.js";import{V as se}from"./VSpacer-caXuwDMs.js";import{r as i,m as ne,n as y,j as re,c as pe,a as l,w as n,u as a,i as s,f as me,p as ue,q as de,o as N,b as U,g as ce,e as P,l as w,t as fe}from"./main-Io5vp2x9.js";import{V as ve}from"./VDivider-LRAhXPmM.js";import"./VDialog-DsWdgZMk.js";import"./VOverlay-DPFD_kGR.js";import"./forwardRefs-D3j0TLhE.js";import"./VImg-C0eAd2Wn.js";import"./dialog-transition-CsRSG8uj.js";import"./validators-BHkKs9Dp.js";import"./vue-quill.esm-bundler-DwT3C5_2.js";import"./_commonjsHelpers-Cpj98o6Y.js";/* empty css                       */import"./VToolbar-C4SRpPYj.js";import"./VToolbarItems-BI_wELjJ.js";import"./VForm-BV4uDMac.js";import"./VInput-8lQvlspd.js";import"./VRow-wQwuRkbI.js";/* empty css              */import"./VAutocomplete-CtFk9xe3.js";import"./VTextField-78XBChJq.js";import"./filter-DikfXYgU.js";import"./VList-b_Gx9KJj.js";import"./ssrBoot-u6dU8eEs.js";import"./VAvatar-Duc7tMPq.js";import"./VMenu-BOjzGfAv.js";import"./VCheckboxBtn-ObTlpa0T.js";import"./VSelectionControl-CzvF-nnH.js";import"./VChip-DMsLZLfZ.js";import"./VFileInput-B5wT0RPB.js";import"./index-BxkgbwWS.js";const ge={class:"d-flex gap-2 align-center"},ke={class:"d-flex align-center flex-wrap gap-4"},_e=["innerHTML"],A="program",nt={__name:"program",async setup(Ve){let g,B;const r=i({icon:null,title:null,text:null,color:null}),p=i(!1),k=i(""),m=i(10),u=i(1),T=i("created_at"),$=i("DESC"),q=o=>{var e,c;o.sortBy.length&&(T.value=(e=o.sortBy[0])==null?void 0:e.key,$.value=(c=o.sortBy[0])==null?void 0:c.order)},E=[{title:"sekolah",key:"sekolah",sortable:!1},{title:"nama",key:"nama",sortable:!1},{title:"deskripsi",key:"deskripsi",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],L=o=>{r.value=o,p.value=!0},{data:d,execute:h}=([g,B]=ne(()=>te(ae("/table",{query:{data:A,q:k,per_page:m,page:u,sortBy:T,orderBy:$}}))),g=await g,B(),g);d.value.color&&(r.value=d.value,p.value=!0);const z=y(()=>d.value.lists.data),I=y(()=>d.value.lists.total),D=y(()=>d.value.sekolah),x=y(()=>d.value.sekolah_id),f=i(!1),C=i(),_=i(),F=async o=>{C.value=o,_.value=!0},H=async o=>{o&&await le(`/laman/destroy/${C.value}`,{method:"DELETE",onResponse({request:e,response:c,options:S}){let V=c._data;r.value=V,p.value=!0,C.value=null,h()}})},v=i(),M=async o=>{f.value=!0,v.value=o},R=()=>{f.value=!0,v.value=null};return re(p,()=>{p.value||h()}),(o,e)=>{const c=ee,S=Z,V=de("IconBtn"),j=Y,O=W,Q=K,G=J;return N(),pe("section",null,[l(oe,null,{default:n(()=>[l(ie,{class:"d-flex flex-wrap gap-4"},{default:n(()=>[U("div",ge,[l(c,{"model-value":a(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=parseInt(t,10))},null,8,["model-value"])]),l(se),U("div",ke,[l(S,{modelValue:a(k),"onUpdate:modelValue":e[1]||(e[1]=t=>s(k)?k.value=t:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),l(ce,{onClick:R},{default:n(()=>[e[12]||(e[12]=P("Tambah ")),l(w,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),l(ve),l(X,{"items-per-page":a(m),"onUpdate:itemsPerPage":e[3]||(e[3]=t=>s(m)?m.value=t:null),page:a(u),"onUpdate:page":e[4]||(e[4]=t=>s(u)?u.value=t:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:a(z),"items-length":a(I),headers:E,class:"text-no-wrap","onUpdate:options":q},{"item.sekolah":n(({item:t})=>{var b;return[P(fe(((b=t.sekolah)==null?void 0:b.nama)??"-"),1)]}),"item.deskripsi":n(({item:t})=>[U("span",{innerHTML:t.deskripsi},null,8,_e)]),"item.actions":n(({item:t})=>[l(V,{onClick:b=>F(t.id)},{default:n(()=>[l(w,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),l(V,{onClick:b=>M(t)},{default:n(()=>[l(w,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:n(()=>[l(j,{page:a(u),"onUpdate:page":e[2]||(e[2]=t=>s(u)?u.value=t:null),"items-per-page":a(m),"total-items":a(I)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(O,{"is-dialog-visible":a(f),"onUpdate:isDialogVisible":e[5]||(e[5]=t=>s(f)?f.value=t:null),sekolah:a(D),"onUpdate:sekolah":e[6]||(e[6]=t=>s(D)?D.value=t:null),sekolahId:a(x),"onUpdate:sekolahId":e[7]||(e[7]=t=>s(x)?x.value=t:null),pageType:A,"onUpdate:pageType":e[8]||(e[8]=t=>A=t),"detil-data":a(v),"onUpdate:detilData":e[9]||(e[9]=t=>s(v)?v.value=t:null),onNotif:L},null,8,["is-dialog-visible","sekolah","sekolahId","detil-data"]),a(r).color?(N(),me(Q,{key:0,color:a(r).color,icon:a(r).icon,title:a(r).title,text:a(r).text,"disable-time-out":!1,isSnackbarVisible:a(p),"onUpdate:isSnackbarVisible":e[10]||(e[10]=t=>s(p)?p.value=t:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):ue("",!0),l(G,{isDialogVisible:a(_),"onUpdate:isDialogVisible":e[11]||(e[11]=t=>s(_)?_.value=t:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:H},null,8,["isDialogVisible"])])}}};export{nt as default};
