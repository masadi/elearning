import{a as _l}from"./formatters-DULOiX1-.js";import{_ as vl}from"./ConfirmDialog-Ur9Ht3WQ.js";import{_ as xl}from"./ShowAlert-DT3fq-Oi.js";import{r as C}from"./validators-BHkKs9Dp.js";import{r as f,h as ll,j as el,o as h,f as N,w as a,a as l,u as t,i as y,k as tl,b as n,g as W,e as I,l as z,c as A,F as H,d as al,t as F,m as yl,n as O,p as kl,q as hl}from"./main-7VsEs_iv.js";import{_ as cl}from"./AppAutocomplete-Cb0wqSN-.js";import{_ as X}from"./AppTextField-BFUxML1D.js";import{_ as Dl}from"./DialogCloseBtn-61IcwPoQ.js";import{V as Y}from"./VCard-Bi7fi0EQ.js";import{V as Z}from"./VCardText-DUbz6ciM.js";import{V as ol}from"./VForm-MqJRZS1o.js";import{V as r,a as o}from"./VRow-VfDmxwHI.js";import{V as il}from"./VFileInput-D8zulQLv.js";import{V as sl}from"./VDialog-BzLx60pX.js";import{$ as Q}from"./api-9jLT_bnU.js";import{V as Ul,a as wl}from"./VToolbar--8tuowYL.js";import{V as nl}from"./VSpacer-B4duUqP_.js";import{V as Pl}from"./VToolbarItems-_mDy5DMZ.js";import{V as jl}from"./filter-B2BO5yTb.js";import{V as Al,_ as ql}from"./VDataTableServer-C8q0RNr7.js";import{_ as Tl}from"./AppSelect-DYn_euGS.js";import{u as Sl}from"./useApi-Dj_tuXfl.js";import{c as Cl}from"./createUrl-CHpkFwHR.js";import{V as Il}from"./VDivider-CZf2QChD.js";import{V as $l}from"./VAvatar-CHT1f-YN.js";import{V as Fl}from"./VImg-QB9y-vDk.js";import"./VOverlay-DWeYos2y.js";import"./forwardRefs-D3j0TLhE.js";import"./VInput-BxEjwi15.js";import"./VAutocomplete-C6XRwPXx.js";import"./VTextField-DNKv3UMP.js";import"./VList-C-S1-TZ0.js";import"./ssrBoot-COh_i0im.js";import"./VMenu-Bzm2Wd2a.js";import"./dialog-transition-D31dM4md.js";import"./VCheckboxBtn-4pNovB4d.js";import"./VSelectionControl-Bpl91RdZ.js";import"./VChip-BJpUDo2h.js";/* empty css              */import"./index-BxkgbwWS.js";const Nl={__name:"PdEditDialog",props:{isDialogVisible:{type:Boolean,required:!0},detilData:{type:Object,required:!1,default:()=>({nama:"",nipd:"",nisn:"",jenis_kelamin:"",tempat_lahir:!1,tanggal_lahir:"",alamat:"",agama_id:"",telepon:"",nama_ayah:"",nama_ibu:"",kerja_ayah:"",kerja_ibu:"",agama_ayah:"",agama_ibu:"",nama_wali:"",kerja_wali:"",agama_wali:"",alamat_wali:"",sekolah_asal:"",diterima:"",surat_pindah:"",nipd_asal:"",program_pilihan:"",nilai_un:""})},agama:{type:Array,required:!0},pekerjaan:{type:Array,required:!0}},emits:["update:isDialogVisible","submit"],setup(K,{emit:P}){const b=K,V=f(!1),g=P,c=p=>{g("update:isDialogVisible",p)},s=f(structuredClone(ll(b.detilData)));el(b,()=>{V.value=!1,s.value=structuredClone(ll(b.detilData)),s.value.avatar=null});const k=f(!1),j=f(),q=()=>{var p;(p=j.value)==null||p.validate().then(async({valid:e})=>{e&&(V.value=!0,g("submit",s.value))})},B=[{title:"Laki-laki",value:"L"},{title:"Perempuan",value:"P"}];return(p,e)=>{const _=Dl,u=X,x=cl;return h(),N(sl,{width:p.$vuetify.display.smAndDown?"auto":800,"model-value":b.isDialogVisible,scrollable:"","content-class":"scrollable-dialog","onUpdate:modelValue":c},{default:a(()=>[l(_,{onClick:e[0]||(e[0]=i=>c(!1))}),l(Y,{title:`Edit Data ${t(s).nama}`},{default:a(()=>[l(Z,null,{default:a(()=>[l(ol,{ref_key:"refForm",ref:j,modelValue:t(k),"onUpdate:modelValue":e[27]||(e[27]=i=>y(k)?k.value=i:null),onSubmit:tl(q,["prevent"])},{default:a(()=>[l(r,null,{default:a(()=>[l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[28]||(e[28]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama"},"Nama Lengkap",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nama",modelValue:t(s).nama,"onUpdate:modelValue":e[1]||(e[1]=i=>t(s).nama=i),rules:["requiredValidator"in p?p.requiredValidator:t(C)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[29]||(e[29]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nipd"},"NIPD",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nipd",modelValue:t(s).nipd,"onUpdate:modelValue":e[2]||(e[2]=i=>t(s).nipd=i),rules:["requiredValidator"in p?p.requiredValidator:t(C)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[30]||(e[30]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nisn"},"NISN",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nisn",modelValue:t(s).nisn,"onUpdate:modelValue":e[3]||(e[3]=i=>t(s).nisn=i),rules:["requiredValidator"in p?p.requiredValidator:t(C)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[31]||(e[31]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"jenis_kelamin"},"Jenis Kelamin",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:B,modelValue:t(s).jenis_kelamin,"onUpdate:modelValue":e[4]||(e[4]=i=>t(s).jenis_kelamin=i),rules:["requiredValidator"in p?p.requiredValidator:t(C)],placeholder:"== Pilih Jenis Kelamin =="},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[32]||(e[32]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"tempat_lahir"},"Tempat Lahir",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"tempat_lahir",modelValue:t(s).tempat_lahir,"onUpdate:modelValue":e[5]||(e[5]=i=>t(s).tempat_lahir=i),rules:["requiredValidator"in p?p.requiredValidator:t(C)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[33]||(e[33]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"tanggal_lahir"},"Tanggal Lahir",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"tanggal_lahir",modelValue:t(s).tanggal_lahir,"onUpdate:modelValue":e[6]||(e[6]=i=>t(s).tanggal_lahir=i),rules:["requiredValidator"in p?p.requiredValidator:t(C),p.dateValidator]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[34]||(e[34]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"alamat"},"Alamat",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"alamat",modelValue:t(s).alamat,"onUpdate:modelValue":e[7]||(e[7]=i=>t(s).alamat=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[35]||(e[35]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"telepon"},"Telepon/HP",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"telepon",modelValue:t(s).telepon,"onUpdate:modelValue":e[8]||(e[8]=i=>t(s).telepon=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[36]||(e[36]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"agama_id"},"Agama",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:b.agama,"item-title":"nama","item-value":"id",modelValue:t(s).agama_id,"onUpdate:modelValue":e[9]||(e[9]=i=>t(s).agama_id=i),placeholder:"== Pilih Agama =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[37]||(e[37]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama_ayah"},"Nama Ayah",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nama_ayah",modelValue:t(s).nama_ayah,"onUpdate:modelValue":e[10]||(e[10]=i=>t(s).nama_ayah=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[38]||(e[38]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"kerja_ayah"},"Pekerjaan Ayah",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:b.pekerjaan,"item-title":"nama","item-value":"id",modelValue:t(s).kerja_ayah,"onUpdate:modelValue":e[11]||(e[11]=i=>t(s).kerja_ayah=i),placeholder:"== Pilih Pekerjaan =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[39]||(e[39]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"agama_ayah"},"Agama Ayah",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:b.agama,"item-title":"nama","item-value":"id",modelValue:t(s).agama_ayah,"onUpdate:modelValue":e[12]||(e[12]=i=>t(s).agama_ayah=i),placeholder:"== Pilih Agama =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[40]||(e[40]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama_ibu"},"Nama Ibu",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nama_ibu",modelValue:t(s).nama_ibu,"onUpdate:modelValue":e[13]||(e[13]=i=>t(s).nama_ibu=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[41]||(e[41]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"kerja_ibu"},"Pekerjaan Ibu",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:b.pekerjaan,"item-title":"nama","item-value":"id",modelValue:t(s).kerja_ibu,"onUpdate:modelValue":e[14]||(e[14]=i=>t(s).kerja_ibu=i),placeholder:"== Pilih Pekerjaan =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[42]||(e[42]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"agama_ibu"},"Agama Ibu",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:b.agama,"item-title":"nama","item-value":"id",modelValue:t(s).agama_ibu,"onUpdate:modelValue":e[15]||(e[15]=i=>t(s).agama_ibu=i),placeholder:"== Pilih Agama =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[43]||(e[43]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama_wali"},"Nama Wali",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nama_wali",modelValue:t(s).nama_wali,"onUpdate:modelValue":e[16]||(e[16]=i=>t(s).nama_wali=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[44]||(e[44]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"kerja_wali"},"Pekerjaan Wali",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:b.pekerjaan,"item-title":"nama","item-value":"id",modelValue:t(s).kerja_wali,"onUpdate:modelValue":e[17]||(e[17]=i=>t(s).kerja_wali=i),placeholder:"== Pilih Pekerjaan =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[45]||(e[45]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"agama_wali"},"Agama Wali",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:b.agama,"item-title":"nama","item-value":"id",modelValue:t(s).agama_wali,"onUpdate:modelValue":e[18]||(e[18]=i=>t(s).agama_wali=i),placeholder:"== Pilih Agama =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[46]||(e[46]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"alamat_wali"},"Alamat Wali",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"alamat_wali",modelValue:t(s).alamat_wali,"onUpdate:modelValue":e[19]||(e[19]=i=>t(s).alamat_wali=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[47]||(e[47]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"sekolah_asal"},"Sekolah Asal",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"sekolah_asal",modelValue:t(s).sekolah_asal,"onUpdate:modelValue":e[20]||(e[20]=i=>t(s).sekolah_asal=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[48]||(e[48]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"diterima"},"Tanggal Diterima",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"diterima",modelValue:t(s).diterima,"onUpdate:modelValue":e[21]||(e[21]=i=>t(s).diterima=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[49]||(e[49]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"surat_pindah"},"Nomor Surat Pindah",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"surat_pindah",modelValue:t(s).surat_pindah,"onUpdate:modelValue":e[22]||(e[22]=i=>t(s).surat_pindah=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[50]||(e[50]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nipd_asal"},"NIPD Asal",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nipd_asal",modelValue:t(s).nipd_asal,"onUpdate:modelValue":e[23]||(e[23]=i=>t(s).nipd_asal=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[51]||(e[51]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"program_pilihan"},"Program Pilihan",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"program_pilihan",modelValue:t(s).program_pilihan,"onUpdate:modelValue":e[24]||(e[24]=i=>t(s).program_pilihan=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[52]||(e[52]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nilai_un"},"Nilai UN",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nilai_un",modelValue:t(s).nilai_un,"onUpdate:modelValue":e[25]||(e[25]=i=>t(s).nilai_un=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[53]||(e[53]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"avatar"},"Foto Profil",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(il,{accept:"image/*",modelValue:t(s).avatar,"onUpdate:modelValue":e[26]||(e[26]=i=>t(s).avatar=i),id:"avatar",label:"Foto Profil"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[l(W,{loading:t(V),disabled:t(V),type:"submit"},{default:a(()=>e[54]||(e[54]=[I("Simpan")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["title"])]),_:1},8,["width","model-value"])}}},Bl={__name:"PdAddDialog",props:{sekolahId:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible","notif"],setup(K,{emit:P}){const b=K,V=P,g=f(!1),c=f(""),s=f(!1),k=f(),j=async()=>{var _;(_=k.value)==null||_.validate().then(async({valid:u})=>{u&&(g.value=!0,await Q("/induk/store",{method:"POST",body:{data:"peserta-didik",sekolah_id:b.sekolahId,item:p.value},onResponse({request:x,response:i,options:$}){let U=i._data;V("update:isDialogVisible",!1),V("notif",U),p.value=[],c.value=""}}))})},q=()=>{g.value=!1,V("update:isDialogVisible",!1),c.value=""},B=f(!1),p=f([]),e=async _=>{g.value=!0;const u=new FormData;u.append("file_excel",_),await Q("/induk/import",{method:"POST",body:u,onResponse({request:x,response:i,options:$}){let U=i._data;p.value=U.imported_data,B.value=!0,g.value=!1}})};return(_,u)=>{const x=X;return h(),N(sl,{fullscreen:"",scrim:!1,scrollable:"","content-class":"scrollable-dialog",transition:"dialog-bottom-transition","model-value":b.isDialogVisible,"onUpdate:modelValue":q},{default:a(()=>[l(Y,null,{default:a(()=>[n("div",null,[l(Ul,{color:"primary"},{default:a(()=>[l(W,{icon:"",variant:"plain",onClick:q},{default:a(()=>[l(z,{color:"white",icon:"tabler-x"})]),_:1}),l(wl,null,{default:a(()=>u[2]||(u[2]=[I("Tambah Peserta Didik")])),_:1}),l(nl),l(Pl,null,{default:a(()=>[l(W,{variant:"text",href:"/unduhan/template-pd",target:"_blank"},{default:a(()=>[u[3]||(u[3]=I("Unduh Template ")),l(z,{end:"",icon:"tabler-cloud-download"})]),_:1}),l(W,{variant:"text",onClick:j,loading:t(g),disabled:t(g)},{default:a(()=>u[4]||(u[4]=[I("Simpan")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),l(Z,null,{default:a(()=>[l(t(ol),{ref_key:"refForm",ref:k,modelValue:t(s),"onUpdate:modelValue":u[1]||(u[1]=i=>y(s)?s.value=i:null),onSubmit:tl(j,["prevent"])},{default:a(()=>[l(il,{accept:".xlsx",modelValue:t(c),"onUpdate:modelValue":[u[0]||(u[0]=i=>y(c)?c.value=i:null),e],label:"Import Excel"},null,8,["modelValue"]),l(jl,{class:"permission-table text-no-wrap mb-6 mt-4"},{default:a(()=>[u[5]||(u[5]=n("thead",null,[n("tr",null,[n("th",null,"no"),n("th",null,"nama"),n("th",null,"nipd"),n("th",null,"nisn"),n("th",null,"jenis_kelamin"),n("th",null,"tempat_lahir"),n("th",null,"tanggal_lahir"),n("th",null,"agama"),n("th",null,"alamat"),n("th",null,"telepon"),n("th",null,"nama_ayah"),n("th",null,"agama_ayah"),n("th",null,"pekerjaan_ayah"),n("th",null,"nama_ibu"),n("th",null,"agama_ibu"),n("th",null,"pekerjaan_ibu"),n("th",null,"nama_wali"),n("th",null,"agama_wali"),n("th",null,"pekerjaan_wali"),n("th",null,"alamat_wali"),n("th",null,"sekolah_asal"),n("th",null,"tanggal_diterima"),n("th",null,"nomor_surat_pindah"),n("th",null,"nipd_asal"),n("th",null,"program_pilihan"),n("th",null,"nilai_un")])],-1)),n("tbody",null,[(h(!0),A(H,null,al(t(p),(i,$)=>(h(),A("tr",{key:i.no},[(h(!0),A(H,null,al(i,(U,D,E)=>(h(),A("td",null,[D=="no"?(h(),A(H,{key:0},[I(F(U),1)],64)):(h(),A(H,{key:1},[D!="nipd"?(h(),N(x,{key:0,modelValue:i[D],"onUpdate:modelValue":T=>i[D]=T,rules:["requiredValidator"in _?_.requiredValidator:t(C)]},null,8,["modelValue","onUpdate:modelValue","rules"])):(h(),N(x,{key:1,modelValue:i[D],"onUpdate:modelValue":T=>i[D]=T},null,8,["modelValue","onUpdate:modelValue"]))],64))]))),256))]))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}},El={class:"d-flex gap-2 align-center"},Ll={class:"d-flex align-center flex-wrap gap-4"},Rl={class:"d-flex align-center gap-x-4"},Ol={key:1},Wl={class:"d-flex flex-column"},zl={class:"text-base"},Kl={class:"text-sm"},Sa={__name:"peserta-didik",async setup(K){let P,b;const V=f({icon:null,title:null,text:null,color:null}),g=f(!1),c=f(""),s=f(10),k=f(1),j=f("nama"),q=f("ASC"),B=v=>{var m,w;v.sortBy.length&&(j.value=(m=v.sortBy[0])==null?void 0:m.key,q.value=(w=v.sortBy[0])==null?void 0:w.order)},p=[{title:"nama",key:"nama"},{title:"nipd",key:"nipd"},{title:"nisn",key:"nisn"},{title:"tempat, tanggal lahir",key:"ttl",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],e=v=>{V.value=v,g.value=!0},{data:_,execute:u}=([P,b]=yl(()=>Sl(Cl("/induk",{query:{data:"peserta-didik",q:c,per_page:s,page:k,sortBy:j,orderBy:q}}))),P=await P,b(),P);_.value.color&&(V.value=_.value,g.value=!0);const x=O(()=>_.value.lists.data),i=O(()=>_.value.lists.total),$=O(()=>_.value.sekolah_id),U=O(()=>_.value.agama),D=O(()=>_.value.pekerjaan),E=f(!1),T=f(),J=f(),dl=async v=>{T.value=v.id,J.value=!0},ul=async v=>{v&&await Q(`/induk/destroy/pd/${T.value}`,{method:"DELETE",onResponse({request:m,response:w,options:S}){let R=w._data;V.value=R,g.value=!0,T.value=null,u()}})},L=f(!1),M=f(),ml=async v=>{L.value=!0,M.value=v};el(g,()=>{g.value||u()});const rl=async v=>{console.log(v);const m=new FormData;m.append("data","peserta-didik");for(const[w,S]of Object.entries(v))m.append(w,S||"");await Q("/induk/store",{method:"POST",body:m,onResponse({request:w,response:S,options:R}){let G=S._data;V.value=G,g.value=!0,L.value=!1}})};return(v,m)=>{const w=Tl,S=X,R=hl("IconBtn"),G=ql,pl=Bl,fl=Nl,gl=xl,Vl=vl;return h(),A("section",null,[l(Y,null,{default:a(()=>[l(Z,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[n("div",El,[l(w,{"model-value":t(s),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":m[0]||(m[0]=d=>s.value=parseInt(d,10))},null,8,["model-value"])]),l(nl),n("div",Ll,[l(S,{modelValue:t(c),"onUpdate:modelValue":m[1]||(m[1]=d=>y(c)?c.value=d:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),l(W,{onClick:m[2]||(m[2]=d=>E.value=!0)},{default:a(()=>[m[14]||(m[14]=I("Tambah ")),l(z,{end:"",icon:"tabler-cloud-upload"})]),_:1})])]),_:1}),l(Il),l(Al,{"items-per-page":t(s),"onUpdate:itemsPerPage":m[4]||(m[4]=d=>y(s)?s.value=d:null),page:t(k),"onUpdate:page":m[5]||(m[5]=d=>y(k)?k.value=d:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:t(x),"items-length":t(i),headers:p,class:"text-no-wrap","onUpdate:options":B},{"item.user":a(({item:d})=>[n("div",Rl,[l($l,{size:"34",variant:d.avatar?void 0:"tonal",color:d.avatar?void 0:"success"},{default:a(()=>[d.avatar?(h(),N(Fl,{key:0,src:d.avatar},null,8,["src"])):(h(),A("span",Ol,F(("avatarText"in v?v.avatarText:t(_l))(d.name)),1))]),_:2},1032,["variant","color"]),n("div",Wl,[n("h6",zl,F(d.nama),1),n("div",Kl,F(d.email),1)])])]),"item.ttl":a(({item:d})=>[I(F(d.tempat_lahir)+", "+F(new Date(d.tanggal_lahir).toLocaleString("id-ID",{hour12:!1,day:"numeric",month:"long",year:"numeric"})),1)]),"item.actions":a(({item:d})=>[l(R,{onClick:bl=>ml(d)},{default:a(()=>[l(z,{icon:"tabler-pencil"})]),_:2},1032,["onClick"]),l(R,{onClick:bl=>dl(d)},{default:a(()=>[l(z,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),bottom:a(()=>[l(G,{page:t(k),"onUpdate:page":m[3]||(m[3]=d=>y(k)?k.value=d:null),"items-per-page":t(s),"total-items":t(i)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(pl,{"is-dialog-visible":t(E),"onUpdate:isDialogVisible":m[6]||(m[6]=d=>y(E)?E.value=d:null),onNotif:e,sekolahId:t($),"onUpdate:sekolahId":m[7]||(m[7]=d=>y($)?$.value=d:null)},null,8,["is-dialog-visible","sekolahId"]),l(fl,{"is-dialog-visible":t(L),"onUpdate:isDialogVisible":m[8]||(m[8]=d=>y(L)?L.value=d:null),detilData:t(M),"onUpdate:detilData":m[9]||(m[9]=d=>y(M)?M.value=d:null),agama:t(U),"onUpdate:agama":m[10]||(m[10]=d=>y(U)?U.value=d:null),pekerjaan:t(D),"onUpdate:pekerjaan":m[11]||(m[11]=d=>y(D)?D.value=d:null),onSubmit:rl},null,8,["is-dialog-visible","detilData","agama","pekerjaan"]),t(V).color?(h(),N(gl,{key:0,color:t(V).color,icon:t(V).icon,title:t(V).title,text:t(V).text,"disable-time-out":!1,isSnackbarVisible:t(g),"onUpdate:isSnackbarVisible":m[12]||(m[12]=d=>y(g)?g.value=d:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):kl("",!0),l(Vl,{isDialogVisible:t(J),"onUpdate:isDialogVisible":m[13]||(m[13]=d=>y(J)?J.value=d:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:ul},null,8,["isDialogVisible"])])}}};export{Sa as default};
