import{_ as O}from"./ConfirmDialog-ES8pfz9W.js";import{_ as Q}from"./ShowAlert-Bg8yN5PD.js";import{V as J,_ as K}from"./VDataTableServer-Barle3nY.js";import{_ as M}from"./AppTextField-DoQvrXTr.js";import{_ as W}from"./AppSelect-Dwj8BhUD.js";import{e as i,f as X,g as b,E as Y,b as Z,a as t,w as s,u as a,c as ee,i as d,D as te,y as ae,x as oe,G as le,o as h,d as U,h as ie,j as y,V as k}from"./main-CEjGga9M.js";import{u as se}from"./useApi-DGp68wOC.js";import{c as ne}from"./createUrl-9EKZ_Zm3.js";import{$ as re}from"./api-DRcSWCHG.js";import{V as ue}from"./VCard-CoF4e_07.js";import{V as me}from"./VCardText-TXwKQ-Sv.js";import{V as pe}from"./VSpacer-DzrH_ItE.js";import{V as de}from"./VDivider-CJjvO3re.js";import{V as S}from"./VTooltip-Dr3ho4rR.js";import"./VDialog-zdsmQbUs.js";import"./VOverlay-6JlYqKla.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-BneWAmAl.js";import"./dialog-transition-Bg4eJ2tu.js";import"./VCheckboxBtn-CvuVlxZw.js";import"./VSelectionControl-DJLQ1G6M.js";import"./VInput-CRQnwpDr.js";import"./VChip-Cibs4rtB.js";import"./VAvatar-Cuw9PevO.js";import"./VTextField-DgnDvul_.js";import"./VList-B0YIKWZ2.js";import"./VMenu-BgnBlBFp.js";import"./index-BxkgbwWS.js";/* empty css              */const ce={class:"d-flex gap-2 align-center"},fe={class:"d-flex align-center flex-wrap gap-4"},Oe={__name:"[id]",async setup(ge){let f,x;const n=i({icon:null,title:null,text:null,color:null}),r=i(!1),g=i(""),u=i(10),m=i(1),D=i("created_at"),C=i("DESC"),E=l=>{var e,p;l.sortBy.length&&(D.value=(e=l.sortBy[0])==null?void 0:e.key,C.value=(p=l.sortBy[0])==null?void 0:p.order)},P=[{title:"judul",key:"judul",sortable:!1},{title:"jml dokumen",key:"dokumen_count",align:"center",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],w=ae(),A=oe(),{data:c,execute:B}=([f,x]=X(()=>se(ne("/table",{query:{data:"tugas-sesi",sesi_latihan_id:A.params.id,q:g,itemsPerPage:u,page:m,sortBy:D,orderBy:C}}))),f=await f,x(),f);c.value.color&&(n.value=c.value,r.value=!0);const j=b(()=>c.value.lists.data),$=b(()=>c.value.lists.total),I=b(()=>c.value.data),N=()=>{w.push({name:"pelatihan-sesi-tugas-tambah-id",params:{id:A.params.id}})},V=i(),v=i(),q=async l=>{V.value=l,v.value=!0},R=async l=>{l&&await re(`/referensi/destroy/tugas/${V.value}`,{method:"DELETE",onResponse({request:e,response:p,options:T}){let _=p._data;n.value=_,r.value=!0,V.value=null,B()}})},z=async l=>{w.push({name:"pelatihan-sesi-tugas-edit-id",params:{id:l}})};return Y(r,()=>{r.value||B()}),(l,e)=>{const p=W,T=M,_=le("IconBtn"),F=K,L=Q,G=O;return h(),Z("section",null,[t(ue,{title:`Data Tugas (${a(I).judul})`},{default:s(()=>[t(me,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[U("div",ce,[t(p,{"model-value":a(u),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=o=>u.value=parseInt(o,10))},null,8,["model-value"])]),t(pe),U("div",fe,[t(T,{modelValue:a(g),"onUpdate:modelValue":e[1]||(e[1]=o=>d(g)?g.value=o:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),t(ie,{onClick:N},{default:s(()=>[e[7]||(e[7]=y("Tambah ")),t(k,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),t(de),t(J,{"items-per-page":a(u),"onUpdate:itemsPerPage":e[3]||(e[3]=o=>d(u)?u.value=o:null),page:a(m),"onUpdate:page":e[4]||(e[4]=o=>d(m)?m.value=o:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:a(j),"items-length":a($),headers:P,class:"text-no-wrap","onUpdate:options":E},{"item.actions":s(({item:o})=>[t(_,{onClick:H=>z(o.tugas_sesi_id)},{default:s(()=>[t(S,{activator:"parent",location:"top"},{default:s(()=>e[8]||(e[8]=[y("Edit Tugas")])),_:1}),t(k,{icon:"tabler-pencil"})]),_:2},1032,["onClick"]),t(_,{onClick:H=>q(o.tugas_sesi_id)},{default:s(()=>[t(S,{activator:"parent",location:"top"},{default:s(()=>e[9]||(e[9]=[y("Hapus Tugas")])),_:1}),t(k,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),bottom:s(()=>[t(F,{page:a(m),"onUpdate:page":e[2]||(e[2]=o=>d(m)?m.value=o:null),"items-per-page":a(u),"total-items":a($)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1},8,["title"]),a(n).color?(h(),ee(L,{key:0,color:a(n).color,icon:a(n).icon,title:a(n).title,text:a(n).text,"disable-time-out":!1,isSnackbarVisible:a(r),"onUpdate:isSnackbarVisible":e[5]||(e[5]=o=>d(r)?r.value=o:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):te("",!0),t(G,{isDialogVisible:a(v),"onUpdate:isDialogVisible":e[6]||(e[6]=o=>d(v)?v.value=o:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:R},null,8,["isDialogVisible"])])}}};export{Oe as default};
