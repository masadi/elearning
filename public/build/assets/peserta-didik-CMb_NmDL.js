import{a as vl}from"./formatters-DULOiX1-.js";import{_ as xl}from"./ConfirmDialog-Ci8QRQ78.js";import{_ as kl}from"./ShowAlert-DlVAy-iH.js";import{r as S}from"./validators-BHkKs9Dp.js";import{r as f,h as al,j as tl,o as h,f as E,w as a,a as l,u as t,i as k,k as ol,b as n,g as z,e as I,l as B,c as A,F as H,d as el,t as N,m as yl,n as W,p as hl,q as cl}from"./main-f4VlJwOg.js";import{_ as Dl}from"./AppAutocomplete-Bd6MTDER.js";import{_ as X}from"./AppTextField-xsOT0NHb.js";import{_ as Ul}from"./DialogCloseBtn-B-2b-WI5.js";import{V as Y}from"./VCard-RIKT7WFX.js";import{V as Z}from"./VCardText-MLGvjMdr.js";import{V as il}from"./VForm-DHngTA6A.js";import{V as r,a as o}from"./VRow-X2vNbtv3.js";import{V as sl}from"./VFileInput-DrcDG8Gj.js";import{V as nl}from"./VDialog-DTIfn9nh.js";import{$ as Q}from"./api-CN96_VO7.js";import{V as wl,a as Pl}from"./VToolbar-BpXIaNxQ.js";import{V as dl}from"./VSpacer-D7L0s_nz.js";import{V as jl}from"./VToolbarItems-DsByzc0r.js";import{V as Al}from"./filter-CoRhWHJK.js";import{V as ql,_ as Tl}from"./VDataTableServer-Dba85XKF.js";import{_ as Cl}from"./AppSelect-C0xSxBLS.js";import{u as Sl}from"./useApi-DqZdjXPJ.js";import{c as Il}from"./createUrl-DGLfnL-g.js";import{V as $l}from"./VDivider-VXlt56K-.js";import{V as Fl}from"./VAvatar-NphjgQuv.js";import{V as Nl}from"./VImg-DQz3FLna.js";import"./VOverlay-B3fVNl8L.js";import"./forwardRefs-D3j0TLhE.js";import"./VInput-ByRFpa3-.js";import"./VAutocomplete-CSWXZYqH.js";import"./VTextField-BNP7-qxO.js";import"./VList-DIjV9Bav.js";import"./ssrBoot-4xGDYzla.js";import"./VMenu-hTz7ZZeT.js";import"./dialog-transition-BnsgCXEA.js";import"./VCheckboxBtn-CeVcd1Qt.js";import"./VSelectionControl-DYBwGcj2.js";import"./VChip-CfXbAmSN.js";/* empty css              */import"./index-BxkgbwWS.js";const Bl={__name:"PdEditDialog",props:{isDialogVisible:{type:Boolean,required:!0},detilData:{type:Object,required:!1,default:()=>({nama:"",nipd:"",nisn:"",jenis_kelamin:"",tempat_lahir:!1,tanggal_lahir:"",alamat:"",agama_id:"",telepon:"",nama_ayah:"",nama_ibu:"",kerja_ayah:"",kerja_ibu:"",agama_ayah:"",agama_ibu:"",nama_wali:"",kerja_wali:"",agama_wali:"",alamat_wali:"",sekolah_asal:"",diterima:"",surat_pindah:"",nipd_asal:"",program_pilihan:"",nilai_un:""})},agama:{type:Array,required:!0},pekerjaan:{type:Array,required:!0}},emits:["update:isDialogVisible","submit"],setup(K,{emit:P}){const _=K,b=f(!1),g=P,c=p=>{g("update:isDialogVisible",p)},s=f(structuredClone(al(_.detilData)));tl(_,()=>{b.value=!1,s.value=structuredClone(al(_.detilData)),s.value.avatar=null});const y=f(!1),j=f(),q=()=>{var p;(p=j.value)==null||p.validate().then(async({valid:e})=>{e&&(b.value=!0,g("submit",s.value))})},L=[{title:"Laki-laki",value:"L"},{title:"Perempuan",value:"P"}];return(p,e)=>{const v=Ul,u=X,x=Dl;return h(),E(nl,{width:p.$vuetify.display.smAndDown?"auto":800,"model-value":_.isDialogVisible,scrollable:"","content-class":"scrollable-dialog","onUpdate:modelValue":c},{default:a(()=>[l(v,{onClick:e[0]||(e[0]=i=>c(!1))}),l(Y,{title:`Edit Data ${t(s).nama}`},{default:a(()=>[l(Z,null,{default:a(()=>[l(il,{ref_key:"refForm",ref:j,modelValue:t(y),"onUpdate:modelValue":e[27]||(e[27]=i=>k(y)?y.value=i:null),onSubmit:ol(q,["prevent"])},{default:a(()=>[l(r,null,{default:a(()=>[l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[28]||(e[28]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama"},"Nama Lengkap",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nama",modelValue:t(s).nama,"onUpdate:modelValue":e[1]||(e[1]=i=>t(s).nama=i),rules:["requiredValidator"in p?p.requiredValidator:t(S)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[29]||(e[29]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nipd"},"NIPD",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nipd",modelValue:t(s).nipd,"onUpdate:modelValue":e[2]||(e[2]=i=>t(s).nipd=i),rules:["requiredValidator"in p?p.requiredValidator:t(S)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[30]||(e[30]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nisn"},"NISN",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nisn",modelValue:t(s).nisn,"onUpdate:modelValue":e[3]||(e[3]=i=>t(s).nisn=i),rules:["requiredValidator"in p?p.requiredValidator:t(S)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[31]||(e[31]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"jenis_kelamin"},"Jenis Kelamin",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:L,modelValue:t(s).jenis_kelamin,"onUpdate:modelValue":e[4]||(e[4]=i=>t(s).jenis_kelamin=i),rules:["requiredValidator"in p?p.requiredValidator:t(S)],placeholder:"== Pilih Jenis Kelamin =="},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[32]||(e[32]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"tempat_lahir"},"Tempat Lahir",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"tempat_lahir",modelValue:t(s).tempat_lahir,"onUpdate:modelValue":e[5]||(e[5]=i=>t(s).tempat_lahir=i),rules:["requiredValidator"in p?p.requiredValidator:t(S)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[33]||(e[33]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"tanggal_lahir"},"Tanggal Lahir",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"tanggal_lahir",modelValue:t(s).tanggal_lahir,"onUpdate:modelValue":e[6]||(e[6]=i=>t(s).tanggal_lahir=i),rules:["requiredValidator"in p?p.requiredValidator:t(S),p.dateValidator]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[34]||(e[34]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"alamat"},"Alamat",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"alamat",modelValue:t(s).alamat,"onUpdate:modelValue":e[7]||(e[7]=i=>t(s).alamat=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[35]||(e[35]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"telepon"},"Telepon/HP",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"telepon",modelValue:t(s).telepon,"onUpdate:modelValue":e[8]||(e[8]=i=>t(s).telepon=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[36]||(e[36]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"agama_id"},"Agama",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:_.agama,"item-title":"nama","item-value":"id",modelValue:t(s).agama_id,"onUpdate:modelValue":e[9]||(e[9]=i=>t(s).agama_id=i),placeholder:"== Pilih Agama =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[37]||(e[37]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama_ayah"},"Nama Ayah",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nama_ayah",modelValue:t(s).nama_ayah,"onUpdate:modelValue":e[10]||(e[10]=i=>t(s).nama_ayah=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[38]||(e[38]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"kerja_ayah"},"Pekerjaan Ayah",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:_.pekerjaan,"item-title":"nama","item-value":"id",modelValue:t(s).kerja_ayah,"onUpdate:modelValue":e[11]||(e[11]=i=>t(s).kerja_ayah=i),placeholder:"== Pilih Pekerjaan =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[39]||(e[39]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"agama_ayah"},"Agama Ayah",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:_.agama,"item-title":"nama","item-value":"id",modelValue:t(s).agama_ayah,"onUpdate:modelValue":e[12]||(e[12]=i=>t(s).agama_ayah=i),placeholder:"== Pilih Agama =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[40]||(e[40]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama_ibu"},"Nama Ibu",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nama_ibu",modelValue:t(s).nama_ibu,"onUpdate:modelValue":e[13]||(e[13]=i=>t(s).nama_ibu=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[41]||(e[41]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"kerja_ibu"},"Pekerjaan Ibu",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:_.pekerjaan,"item-title":"nama","item-value":"id",modelValue:t(s).kerja_ibu,"onUpdate:modelValue":e[14]||(e[14]=i=>t(s).kerja_ibu=i),placeholder:"== Pilih Pekerjaan =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[42]||(e[42]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"agama_ibu"},"Agama Ibu",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:_.agama,"item-title":"nama","item-value":"id",modelValue:t(s).agama_ibu,"onUpdate:modelValue":e[15]||(e[15]=i=>t(s).agama_ibu=i),placeholder:"== Pilih Agama =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[43]||(e[43]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama_wali"},"Nama Wali",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nama_wali",modelValue:t(s).nama_wali,"onUpdate:modelValue":e[16]||(e[16]=i=>t(s).nama_wali=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[44]||(e[44]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"kerja_wali"},"Pekerjaan Wali",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:_.pekerjaan,"item-title":"nama","item-value":"id",modelValue:t(s).kerja_wali,"onUpdate:modelValue":e[17]||(e[17]=i=>t(s).kerja_wali=i),placeholder:"== Pilih Pekerjaan =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[45]||(e[45]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"agama_wali"},"Agama Wali",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(x,{items:_.agama,"item-title":"nama","item-value":"id",modelValue:t(s).agama_wali,"onUpdate:modelValue":e[18]||(e[18]=i=>t(s).agama_wali=i),placeholder:"== Pilih Agama =="},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[46]||(e[46]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"alamat_wali"},"Alamat Wali",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"alamat_wali",modelValue:t(s).alamat_wali,"onUpdate:modelValue":e[19]||(e[19]=i=>t(s).alamat_wali=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[47]||(e[47]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"sekolah_asal"},"Sekolah Asal",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"sekolah_asal",modelValue:t(s).sekolah_asal,"onUpdate:modelValue":e[20]||(e[20]=i=>t(s).sekolah_asal=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[48]||(e[48]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"diterima"},"Tanggal Diterima",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"diterima",modelValue:t(s).diterima,"onUpdate:modelValue":e[21]||(e[21]=i=>t(s).diterima=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[49]||(e[49]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"surat_pindah"},"Nomor Surat Pindah",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"surat_pindah",modelValue:t(s).surat_pindah,"onUpdate:modelValue":e[22]||(e[22]=i=>t(s).surat_pindah=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[50]||(e[50]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nipd_asal"},"NIPD Asal",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nipd_asal",modelValue:t(s).nipd_asal,"onUpdate:modelValue":e[23]||(e[23]=i=>t(s).nipd_asal=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[51]||(e[51]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"program_pilihan"},"Program Pilihan",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"program_pilihan",modelValue:t(s).program_pilihan,"onUpdate:modelValue":e[24]||(e[24]=i=>t(s).program_pilihan=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[52]||(e[52]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"nilai_un"},"Nilai UN",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(u,{id:"nilai_un",modelValue:t(s).nilai_un,"onUpdate:modelValue":e[25]||(e[25]=i=>t(s).nilai_un=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12"},{default:a(()=>[l(r,{"no-gutters":""},{default:a(()=>[l(o,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>e[53]||(e[53]=[n("label",{class:"v-label text-body-2 text-high-emphasis",for:"avatar"},"Foto Profil",-1)])),_:1}),l(o,{cols:"12",md:"9"},{default:a(()=>[l(sl,{accept:"image/*",modelValue:t(s).avatar,"onUpdate:modelValue":e[26]||(e[26]=i=>t(s).avatar=i),id:"avatar",label:"Foto Profil"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[l(z,{loading:t(b),disabled:t(b),type:"submit"},{default:a(()=>e[54]||(e[54]=[I("Simpan")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["title"])]),_:1},8,["width","model-value"])}}},El={__name:"PdAddDialog",props:{sekolahId:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible","notif"],setup(K,{emit:P}){const _=K,b=P,g=f(!1),c=f(""),s=f(!1),y=f(),j=async()=>{var v;(v=y.value)==null||v.validate().then(async({valid:u})=>{u&&(g.value=!0,await Q("/induk/store",{method:"POST",body:{data:"peserta-didik",sekolah_id:_.sekolahId,item:p.value},onResponse({request:x,response:i,options:$}){let U=i._data;b("update:isDialogVisible",!1),b("notif",U),p.value=[],c.value=""}}))})},q=()=>{g.value=!1,b("update:isDialogVisible",!1),c.value=""},L=f(!1),p=f([]),e=async v=>{g.value=!0;const u=new FormData;u.append("file_excel",v),await Q("/induk/import",{method:"POST",body:u,onResponse({request:x,response:i,options:$}){let U=i._data;p.value=U.imported_data,L.value=!0,g.value=!1}})};return(v,u)=>{const x=X;return h(),E(nl,{fullscreen:"",scrim:!1,scrollable:"","content-class":"scrollable-dialog",transition:"dialog-bottom-transition","model-value":_.isDialogVisible,"onUpdate:modelValue":q},{default:a(()=>[l(Y,null,{default:a(()=>[n("div",null,[l(wl,{color:"primary"},{default:a(()=>[l(z,{icon:"",variant:"plain",onClick:q},{default:a(()=>[l(B,{color:"white",icon:"tabler-x"})]),_:1}),l(Pl,null,{default:a(()=>u[2]||(u[2]=[I("Tambah Peserta Didik")])),_:1}),l(dl),l(jl,null,{default:a(()=>[l(z,{variant:"text",href:"/unduhan/template-pd",target:"_blank"},{default:a(()=>[u[3]||(u[3]=I("Unduh Template ")),l(B,{end:"",icon:"tabler-cloud-download"})]),_:1}),l(z,{variant:"text",onClick:j,loading:t(g),disabled:t(g)},{default:a(()=>u[4]||(u[4]=[I("Simpan")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),l(Z,null,{default:a(()=>[l(t(il),{ref_key:"refForm",ref:y,modelValue:t(s),"onUpdate:modelValue":u[1]||(u[1]=i=>k(s)?s.value=i:null),onSubmit:ol(j,["prevent"])},{default:a(()=>[l(sl,{accept:".xlsx",modelValue:t(c),"onUpdate:modelValue":[u[0]||(u[0]=i=>k(c)?c.value=i:null),e],label:"Import Excel"},null,8,["modelValue"]),l(Al,{class:"permission-table text-no-wrap mb-6 mt-4"},{default:a(()=>[u[5]||(u[5]=n("thead",null,[n("tr",null,[n("th",null,"no"),n("th",null,"nama"),n("th",null,"nipd"),n("th",null,"nisn"),n("th",null,"jenis_kelamin"),n("th",null,"tempat_lahir"),n("th",null,"tanggal_lahir"),n("th",null,"agama"),n("th",null,"alamat"),n("th",null,"telepon"),n("th",null,"nama_ayah"),n("th",null,"agama_ayah"),n("th",null,"pekerjaan_ayah"),n("th",null,"nama_ibu"),n("th",null,"agama_ibu"),n("th",null,"pekerjaan_ibu"),n("th",null,"nama_wali"),n("th",null,"agama_wali"),n("th",null,"pekerjaan_wali"),n("th",null,"alamat_wali"),n("th",null,"sekolah_asal"),n("th",null,"tanggal_diterima"),n("th",null,"nomor_surat_pindah"),n("th",null,"nipd_asal"),n("th",null,"program_pilihan"),n("th",null,"nilai_un")])],-1)),n("tbody",null,[(h(!0),A(H,null,el(t(p),(i,$)=>(h(),A("tr",{key:i.no},[(h(!0),A(H,null,el(i,(U,D,R)=>(h(),A("td",null,[D=="no"?(h(),A(H,{key:0},[I(N(U),1)],64)):(h(),A(H,{key:1},[D!="nipd"?(h(),E(x,{key:0,modelValue:i[D],"onUpdate:modelValue":T=>i[D]=T,rules:["requiredValidator"in v?v.requiredValidator:t(S)]},null,8,["modelValue","onUpdate:modelValue","rules"])):(h(),E(x,{key:1,modelValue:i[D],"onUpdate:modelValue":T=>i[D]=T},null,8,["modelValue","onUpdate:modelValue"]))],64))]))),256))]))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Ll={class:"d-flex gap-2 align-center"},Rl={class:"d-flex align-center flex-wrap gap-4"},Ol={class:"d-flex align-center gap-x-4"},Wl={key:1},zl={class:"d-flex flex-column"},Kl={class:"text-base"},Jl={class:"text-sm"},Sa={__name:"peserta-didik",async setup(K){let P,_;const b=f({icon:null,title:null,text:null,color:null}),g=f(!1),c=f(""),s=f(10),y=f(1),j=f("nama"),q=f("ASC"),L=V=>{var m,w;V.sortBy.length&&(j.value=(m=V.sortBy[0])==null?void 0:m.key,q.value=(w=V.sortBy[0])==null?void 0:w.order)},p=[{title:"nama",key:"nama"},{title:"nipd",key:"nipd"},{title:"nisn",key:"nisn"},{title:"tempat, tanggal lahir",key:"ttl",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],e=V=>{b.value=V,g.value=!0},{data:v,execute:u}=([P,_]=yl(()=>Sl(Il("/induk",{query:{data:"peserta-didik",q:c,per_page:s,page:y,sortBy:j,orderBy:q}}))),P=await P,_(),P);v.value.color&&(b.value=v.value,g.value=!0);const x=W(()=>v.value.lists.data),i=W(()=>v.value.lists.total),$=W(()=>v.value.sekolah_id),U=W(()=>v.value.agama),D=W(()=>v.value.pekerjaan),R=f(!1),T=f(),J=f(),ul=async V=>{T.value=V.id,J.value=!0},ml=async V=>{V&&await Q(`/induk/destroy/pd/${T.value}`,{method:"DELETE",onResponse({request:m,response:w,options:C}){let F=w._data;b.value=F,g.value=!0,T.value=null,u()}})},O=f(!1),M=f(),rl=async V=>{O.value=!0,M.value=V};tl(g,()=>{g.value||u()});const pl=async V=>{console.log(V);const m=new FormData;m.append("data","peserta-didik");for(const[w,C]of Object.entries(V))m.append(w,C||"");await Q("/induk/store",{method:"POST",body:m,onResponse({request:w,response:C,options:F}){let G=C._data;b.value=G,g.value=!0,O.value=!1}})},fl=async V=>{window.open(`/cetak/${V.id}`)};return(V,m)=>{const w=Cl,C=X,F=cl("IconBtn"),G=Tl,gl=El,Vl=Bl,bl=kl,_l=xl;return h(),A("section",null,[l(Y,null,{default:a(()=>[l(Z,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[n("div",Ll,[l(w,{"model-value":t(s),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":m[0]||(m[0]=d=>s.value=parseInt(d,10))},null,8,["model-value"])]),l(dl),n("div",Rl,[l(C,{modelValue:t(c),"onUpdate:modelValue":m[1]||(m[1]=d=>k(c)?c.value=d:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),l(z,{onClick:m[2]||(m[2]=d=>R.value=!0)},{default:a(()=>[m[14]||(m[14]=I("Tambah ")),l(B,{end:"",icon:"tabler-cloud-upload"})]),_:1})])]),_:1}),l($l),l(ql,{"items-per-page":t(s),"onUpdate:itemsPerPage":m[4]||(m[4]=d=>k(s)?s.value=d:null),page:t(y),"onUpdate:page":m[5]||(m[5]=d=>k(y)?y.value=d:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:t(x),"items-length":t(i),headers:p,class:"text-no-wrap","onUpdate:options":L},{"item.user":a(({item:d})=>[n("div",Ol,[l(Fl,{size:"34",variant:d.avatar?void 0:"tonal",color:d.avatar?void 0:"success"},{default:a(()=>[d.avatar?(h(),E(Nl,{key:0,src:d.avatar},null,8,["src"])):(h(),A("span",Wl,N(("avatarText"in V?V.avatarText:t(vl))(d.name)),1))]),_:2},1032,["variant","color"]),n("div",zl,[n("h6",Kl,N(d.nama),1),n("div",Jl,N(d.email),1)])])]),"item.ttl":a(({item:d})=>[I(N(d.tempat_lahir)+", "+N(new Date(d.tanggal_lahir).toLocaleString("id-ID",{hour12:!1,day:"numeric",month:"long",year:"numeric"})),1)]),"item.actions":a(({item:d})=>[l(F,{onClick:ll=>rl(d)},{default:a(()=>[l(B,{icon:"tabler-pencil"})]),_:2},1032,["onClick"]),l(F,{onClick:ll=>ul(d)},{default:a(()=>[l(B,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),l(F,{onClick:ll=>fl(d)},{default:a(()=>[l(B,{icon:"tabler-printer"})]),_:2},1032,["onClick"])]),bottom:a(()=>[l(G,{page:t(y),"onUpdate:page":m[3]||(m[3]=d=>k(y)?y.value=d:null),"items-per-page":t(s),"total-items":t(i)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(gl,{"is-dialog-visible":t(R),"onUpdate:isDialogVisible":m[6]||(m[6]=d=>k(R)?R.value=d:null),onNotif:e,sekolahId:t($),"onUpdate:sekolahId":m[7]||(m[7]=d=>k($)?$.value=d:null)},null,8,["is-dialog-visible","sekolahId"]),l(Vl,{"is-dialog-visible":t(O),"onUpdate:isDialogVisible":m[8]||(m[8]=d=>k(O)?O.value=d:null),detilData:t(M),"onUpdate:detilData":m[9]||(m[9]=d=>k(M)?M.value=d:null),agama:t(U),"onUpdate:agama":m[10]||(m[10]=d=>k(U)?U.value=d:null),pekerjaan:t(D),"onUpdate:pekerjaan":m[11]||(m[11]=d=>k(D)?D.value=d:null),onSubmit:pl},null,8,["is-dialog-visible","detilData","agama","pekerjaan"]),t(b).color?(h(),E(bl,{key:0,color:t(b).color,icon:t(b).icon,title:t(b).title,text:t(b).text,"disable-time-out":!1,isSnackbarVisible:t(g),"onUpdate:isSnackbarVisible":m[12]||(m[12]=d=>k(g)?g.value=d:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):hl("",!0),l(_l,{isDialogVisible:t(J),"onUpdate:isDialogVisible":m[13]||(m[13]=d=>k(J)?J.value=d:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:ml},null,8,["isDialogVisible"])])}}};export{Sa as default};
