import{_ as z}from"./ShowAlert-CBT71RUL.js";import{_ as ie}from"./TiptapEditor-CvGEDhKJ.js";import{r as n,m as H,n as B,j as se,q as re,o as x,c as h,a as l,w as o,b as q,u as a,i as u,g as O,e as F,l as E,t as ue,f as R,p as j,F as me,k as pe}from"./main-l72kcUCS.js";import{_ as de}from"./ConfirmDialog-p4Or5T3U.js";import{_ as ce}from"./LamanAddDialog-9i1LhP2K.js";import{V as fe,_ as ve}from"./VDataTableServer-BvKheiTX.js";import{_ as ge}from"./AppTextField-rwX737VE.js";import{_ as _e}from"./AppSelect-BLxacONs.js";import{u as Q}from"./useApi-CQ6jqdt2.js";import{c as G}from"./createUrl-DO0f09L1.js";import{$ as J}from"./api-FASrfGO6.js";import{V as K}from"./VCardText-BciOCxBm.js";import{V as Ve}from"./VSpacer-EOg4fDnQ.js";import{V as be}from"./VDivider-Cq58MeKk.js";import{V as W}from"./VCard-CDX6cw9D.js";import{V as ke}from"./VForm-cY_bwpY5.js";import{V as ye,a as I}from"./VRow-DcXRz2u5.js";import"./VOverlay-a5zIwvR0.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-DYX1cVWm.js";import"./VDialog-DtucKjmx.js";import"./dialog-transition-DgQYKODL.js";import"./validators-BHkKs9Dp.js";import"./vue-quill.esm-bundler-CtiziDOm.js";import"./_commonjsHelpers-Cpj98o6Y.js";/* empty css                       */import"./VToolbar-BBlU0L0i.js";import"./VToolbarItems-GFuE-6nl.js";import"./VAutocomplete-ml7CDpSW.js";import"./VTextField-l9UQUYV-.js";import"./VInput-CmTmo8k3.js";import"./VList-C0c6n-St.js";import"./ssrBoot-zxUjfMRd.js";import"./VAvatar-D_13y_UT.js";import"./VMenu-CAfTS2q8.js";import"./VCheckboxBtn-B3ywpWA4.js";import"./VSelectionControl-BTJXckqJ.js";import"./VChip-BxGVmsmp.js";import"./VFileInput-KYMCwtlO.js";import"./index-BxkgbwWS.js";/* empty css              */const De={class:"d-flex gap-2 align-center"},xe={class:"d-flex align-center flex-wrap gap-4"},we=["innerHTML"],L="tentang",Ce={__name:"Tentang",async setup(X){let v,w;const m=n({icon:null,title:null,text:null,color:null}),p=n(!1),k=n(""),r=n(10),d=n(1),g=n("created_at"),b=n("DESC"),N=s=>{var e,D;s.sortBy.length&&(g.value=(e=s.sortBy[0])==null?void 0:e.key,b.value=(D=s.sortBy[0])==null?void 0:D.order)},_=[{title:"sekolah",key:"sekolah",sortable:!1},{title:"deskripsi",key:"content",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],S=s=>{m.value=s,p.value=!0},{data:c,execute:i}=([v,w]=H(()=>Q(G("/table",{query:{data:L,q:k,itemsPerPage:r,page:d,sortBy:g,orderBy:b}}))),v=await v,w(),v);c.value.color&&(m.value=c.value,p.value=!0);const T=B(()=>c.value.lists.data),y=B(()=>c.value.lists.total),f=B(()=>c.value.sekolah),V=n(!1),P=n(),U=n(),Y=async s=>{P.value=s,U.value=!0},Z=async s=>{s&&await J(`/laman/destroy/${P.value}`,{method:"DELETE",onResponse({request:e,response:D,options:M}){let A=D._data;m.value=A,p.value=!0,P.value=null,i()}})},C=n(),ee=async s=>{V.value=!0,C.value=s},te=()=>{V.value=!0,C.value=null};return se(p,()=>{p.value||i()}),(s,e)=>{const D=_e,M=ge,A=re("IconBtn"),ae=ve,le=ce,oe=z,ne=de;return x(),h("section",null,[l(W,null,{default:o(()=>[l(K,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[q("div",De,[l(D,{"model-value":a(r),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=parseInt(t,10))},null,8,["model-value"])]),l(Ve),q("div",xe,[l(M,{modelValue:a(k),"onUpdate:modelValue":e[1]||(e[1]=t=>u(k)?k.value=t:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),l(O,{onClick:te},{default:o(()=>[e[11]||(e[11]=F("Tambah ")),l(E,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),l(be),l(fe,{"items-per-page":a(r),"onUpdate:itemsPerPage":e[3]||(e[3]=t=>u(r)?r.value=t:null),page:a(d),"onUpdate:page":e[4]||(e[4]=t=>u(d)?d.value=t:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:a(T),"items-length":a(y),headers:_,class:"text-no-wrap","onUpdate:options":N},{"item.sekolah":o(({item:t})=>{var $;return[F(ue((($=t.sekolah)==null?void 0:$.nama)??"-"),1)]}),"item.content":o(({item:t})=>[q("span",{innerHTML:t.content},null,8,we)]),"item.actions":o(({item:t})=>[l(A,{onClick:$=>Y(t.id)},{default:o(()=>[l(E,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),l(A,{onClick:$=>ee(t)},{default:o(()=>[l(E,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:o(()=>[l(ae,{page:a(d),"onUpdate:page":e[2]||(e[2]=t=>u(d)?d.value=t:null),"items-per-page":a(r),"total-items":a(y)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(le,{"is-dialog-visible":a(V),"onUpdate:isDialogVisible":e[5]||(e[5]=t=>u(V)?V.value=t:null),sekolah:a(f),"onUpdate:sekolah":e[6]||(e[6]=t=>u(f)?f.value=t:null),pageType:L,"onUpdate:pageType":e[7]||(e[7]=t=>L=t),"detil-data":a(C),"onUpdate:detilData":e[8]||(e[8]=t=>u(C)?C.value=t:null),onNotif:S},null,8,["is-dialog-visible","sekolah","detil-data"]),a(m).color?(x(),R(oe,{key:0,color:a(m).color,icon:a(m).icon,title:a(m).title,text:a(m).text,"disable-time-out":!1,isSnackbarVisible:a(p),"onUpdate:isSnackbarVisible":e[9]||(e[9]=t=>u(p)?p.value=t:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):j("",!0),l(ne,{isDialogVisible:a(U),"onUpdate:isDialogVisible":e[10]||(e[10]=t=>u(U)?U.value=t:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:Z},null,8,["isDialogVisible"])])}}},ct={__name:"tentang",async setup(X){var S;let v,w;const{data:m,execute:p}=([v,w]=H(()=>Q(G("/table",{query:{data:"tentang"}}))),v=await v,w(),v),k=B(()=>m.value),r=n(!1),d=n(),g=n({id:"",content:null});g.value.content=(S=k.value)==null?void 0:S.content;const b=n(!1),N=async()=>{var c;(c=d.value)==null||c.validate().then(async({valid:i})=>{i&&await J("/admin/laman/store",{method:"POST",body:{id:g.value.id,type:"tentang",content:g.value.content},onResponse({request:T,response:y,options:f}){let V=y._data;console.log(V),p(),_.value=V,b.value=!0}})})},_=n({icon:null,title:null,text:null,color:null});return(c,i)=>{const T=ie,y=z;return x(),h("section",null,[c.$can("create","laman-tentang-create")?(x(),h(me,{key:0},[l(W,null,{default:o(()=>[l(K,null,{default:o(()=>[l(ke,{ref_key:"refForm",ref:d,modelValue:a(r),"onUpdate:modelValue":i[1]||(i[1]=f=>u(r)?r.value=f:null),onSubmit:pe(N,["prevent"])},{default:o(()=>[l(ye,null,{default:o(()=>[l(I,{cols:"12"},{default:o(()=>i[3]||(i[3]=[F("Deskripsi Laman Tentang")])),_:1}),l(I,{cols:"12"},{default:o(()=>[l(T,{modelValue:a(g).content,"onUpdate:modelValue":i[0]||(i[0]=f=>a(g).content=f),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),l(I,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[l(O,{type:"submit"},{default:o(()=>i[4]||(i[4]=[F(" Simpan ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(_).color?(x(),R(y,{key:0,color:a(_).color,icon:a(_).icon,title:a(_).title,text:a(_).text,"disable-time-out":!1,isSnackbarVisible:a(b),"onUpdate:isSnackbarVisible":i[2]||(i[2]=f=>u(b)?b.value=f:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):j("",!0)],64)):(x(),R(Ce,{key:1}))])}}};export{ct as default};
