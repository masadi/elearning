import{_ as H}from"./ConfirmDialog-Bf8ehWBO.js";import{_ as O}from"./ShowAlert-DMdFgeSp.js";import{V as Q,_ as J}from"./VDataTableServer-BNkISKSu.js";import{_ as K}from"./AppTextField-DSrgNSyw.js";import{_ as W}from"./AppSelect-DiZZjuK7.js";import{e as l,f as X,g as b,E as Y,b as Z,a as t,w as s,u as a,c as ee,i as d,D as te,y as ae,x as oe,G as ie,o as U,d as S,h as le,j as y,V as k}from"./main-JLCl2Nar.js";import{u as se}from"./useApi-C3Q4PzKx.js";import{c as ne}from"./createUrl-DOU5BR_E.js";import{$ as re}from"./api-g0HPd9hP.js";import{V as me}from"./VCard-D6HHLWaW.js";import{V as pe}from"./VCardText-4Q0oSBMX.js";import{V as ue}from"./VSpacer-DuGViOmU.js";import{V as de}from"./VDivider-Bsha1mJe.js";import{V as T}from"./VTooltip-Cl0onBkT.js";import"./VDialog-CxeAPFaJ.js";import"./VOverlay-ZS_OCtD-.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-wI-vvhpj.js";import"./dialog-transition-DJX0gJj7.js";import"./VCheckboxBtn-BTLj12BK.js";import"./VSelectionControl-oBJtoeoO.js";import"./VInput-kFDV5I_E.js";import"./VChip-PPbyGpXx.js";import"./VAvatar-ClJIfR7k.js";import"./VTextField-DMpX1ufd.js";import"./VList-8e2NhNjh.js";import"./VMenu-Ds02on5M.js";import"./index-BxkgbwWS.js";/* empty css              */const ce={class:"d-flex gap-2 align-center"},fe={class:"d-flex align-center flex-wrap gap-4"},He={__name:"[id]",async setup(ve){let f,x;const n=l({icon:null,title:null,text:null,color:null}),r=l(!1),v=l(""),m=l(10),p=l(1),D=l("created_at"),C=l("DESC"),E=i=>{var e,u;i.sortBy.length&&(D.value=(e=i.sortBy[0])==null?void 0:e.key,C.value=(u=i.sortBy[0])==null?void 0:u.order)},P=[{title:"judul",key:"judul",sortable:!1},{title:"jml dokumen",key:"dokumen_count",align:"center",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],w=ae(),A=oe(),{data:c,execute:B}=([f,x]=X(()=>se(ne("/table",{query:{data:"materi-sesi",sesi_latihan_id:A.params.id,q:v,itemsPerPage:m,page:p,sortBy:D,orderBy:C}}))),f=await f,x(),f);c.value.color&&(n.value=c.value,r.value=!0);const j=b(()=>c.value.lists.data),$=b(()=>c.value.lists.total),I=b(()=>c.value.data),N=()=>{w.push({name:"pelatihan-sesi-materi-tambah-id",params:{id:A.params.id}})},V=l(),_=l(),q=async i=>{V.value=i,_.value=!0},R=async i=>{i&&await re(`/referensi/destroy/materi-sesi/${V.value}`,{method:"DELETE",onResponse({request:e,response:u,options:h}){let g=u._data;n.value=g,r.value=!0,V.value=null,B()}})},M=async i=>{w.push({name:"pelatihan-sesi-materi-edit-id",params:{id:i}})};return Y(r,()=>{r.value||B()}),(i,e)=>{const u=W,h=K,g=ie("IconBtn"),z=J,F=O,L=H;return U(),Z("section",null,[t(me,{title:`Data Materi (${a(I).judul})`},{default:s(()=>[t(pe,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[S("div",ce,[t(u,{"model-value":a(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=o=>m.value=parseInt(o,10))},null,8,["model-value"])]),t(ue),S("div",fe,[t(h,{modelValue:a(v),"onUpdate:modelValue":e[1]||(e[1]=o=>d(v)?v.value=o:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),t(le,{onClick:N},{default:s(()=>[e[7]||(e[7]=y("Tambah ")),t(k,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),t(de),t(Q,{"items-per-page":a(m),"onUpdate:itemsPerPage":e[3]||(e[3]=o=>d(m)?m.value=o:null),page:a(p),"onUpdate:page":e[4]||(e[4]=o=>d(p)?p.value=o:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:a(j),"items-length":a($),headers:P,class:"text-no-wrap","onUpdate:options":E},{"item.actions":s(({item:o})=>[t(g,{onClick:G=>M(o.materi_sesi_id)},{default:s(()=>[t(T,{activator:"parent",location:"top"},{default:s(()=>e[8]||(e[8]=[y("Edit Materi")])),_:1}),t(k,{icon:"tabler-pencil"})]),_:2},1032,["onClick"]),t(g,{onClick:G=>q(o.materi_sesi_id)},{default:s(()=>[t(T,{activator:"parent",location:"top"},{default:s(()=>e[9]||(e[9]=[y("Hapus Materi")])),_:1}),t(k,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),bottom:s(()=>[t(z,{page:a(p),"onUpdate:page":e[2]||(e[2]=o=>d(p)?p.value=o:null),"items-per-page":a(m),"total-items":a($)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1},8,["title"]),a(n).color?(U(),ee(F,{key:0,color:a(n).color,icon:a(n).icon,title:a(n).title,text:a(n).text,"disable-time-out":!1,isSnackbarVisible:a(r),"onUpdate:isSnackbarVisible":e[5]||(e[5]=o=>d(r)?r.value=o:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):te("",!0),t(L,{isDialogVisible:a(_),"onUpdate:isDialogVisible":e[6]||(e[6]=o=>d(_)?_.value=o:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:R},null,8,["isDialogVisible"])])}}};export{He as default};
