import{r as y}from"./validators-BHkKs9Dp.js";import{r as p,h as q,o as x,i as S,w as a,a as e,b as u,g as h,V as w,f as k,l as v,u as o,j as C,k as B}from"./main-DZG_o8GG.js";import{Q as F}from"./vue-quill.snow-jIdcErBq.js";import{$ as R}from"./api-D5MhM2rx.js";import{V as U}from"./VCard-BjqD1eYU.js";import{V as A,a as N}from"./VToolbar-f7cu61O3.js";import{V as j}from"./VSpacer-JiX5nyNk.js";import{V as E}from"./VToolbarItems-DrRfgd-j.js";import{V as I}from"./VCardText-GcV-WJrY.js";import{V as L}from"./VForm-BHfW4QBJ.js";import{V,a as n}from"./VRow-BoUzUu1X.js";import{V as O}from"./VAutocomplete-Phl1K3g-.js";import{V as P}from"./VDialog-PyWg6XW3.js";const Q={class:"text-capitalize"},te={__name:"LamanAddDialog",props:{isDialogVisible:{type:Boolean,required:!0},sekolah:{type:Array,required:!0},pageType:{type:String,required:!0},detilData:{type:Object,required:!1,default:null}},emits:["update:isDialogVisible","notif"],setup(d,{emit:D}){const t=d,c=D,m=p(!1),b=p(),i=p({sekolah_id:null,type:t.pageType,content:null}),g=async()=>{var s;(s=b.value)==null||s.validate().then(async({valid:l})=>{l&&await R("/laman/store",{method:"POST",body:i.value,onResponse({request:r,response:_,options:$}){let T=_._data;f(),c("notif",T)}})})},f=()=>{c("update:isDialogVisible",!1),i.value={sekolah_id:null,type:t.pageType,content:null}};return q(t,async()=>{console.log(t),t.isDialogVisible&&t.detilData&&(i.value={sekolah_id:t.detilData.sekolah_id,type:t.pageType,content:t.detilData.content})}),(s,l)=>(x(),S(P,{fullscreen:"",scrim:!1,scrollable:"","content-class":"scrollable-dialog",transition:"dialog-bottom-transition","model-value":t.isDialogVisible,"onUpdate:modelValue":f},{default:a(()=>[e(U,null,{default:a(()=>[u("div",null,[e(A,{color:"primary"},{default:a(()=>[e(h,{icon:"",variant:"plain",onClick:f},{default:a(()=>[e(w,{color:"white",icon:"tabler-x"})]),_:1}),e(N,null,{default:a(()=>[k(v(d.detilData?"Edit":"Tambah")+" Laman ",1),u("span",Q,v(d.pageType),1)]),_:1}),e(j),e(E,null,{default:a(()=>[e(h,{variant:"text",onClick:g},{default:a(()=>l[3]||(l[3]=[k("Simpan")])),_:1})]),_:1})]),_:1})]),e(I,null,{default:a(()=>[e(o(L),{ref_key:"refForm",ref:b,modelValue:o(m),"onUpdate:modelValue":l[2]||(l[2]=r=>C(m)?m.value=r:null),onSubmit:B(g,["prevent"])},{default:a(()=>[e(V,null,{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(V,{"no-gutters":""},{default:a(()=>[e(n,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>l[4]||(l[4]=[u("label",{class:"v-label text-body-2 text-high-emphasis",for:"sekolah_id"},"Sekolah",-1)])),_:1}),e(n,{cols:"12",md:"9"},{default:a(()=>[e(O,{modelValue:o(i).sekolah_id,"onUpdate:modelValue":l[0]||(l[0]=r=>o(i).sekolah_id=r),variant:"outlined",items:d.sekolah,"item-title":"nama","item-value":"sekolah_id",placeholder:"== Pilih Sekolah ==",rules:["requiredValidator"in s?s.requiredValidator:o(y)]},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(V,{"no-gutters":""},{default:a(()=>[e(n,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>l[5]||(l[5]=[u("label",{class:"v-label text-body-2 text-high-emphasis",for:"content"},"Deskripsi",-1)])),_:1}),e(n,{cols:"12",md:"9"},{default:a(()=>[e(o(F),{theme:"snow",toolbar:"full",content:o(i).content,"onUpdate:content":l[1]||(l[1]=r=>o(i).content=r),contentType:"html",rules:["requiredValidator"in s?s.requiredValidator:o(y)]},null,8,["content","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}};export{te as _};
