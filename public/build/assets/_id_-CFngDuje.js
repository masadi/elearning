import{_ as L}from"./ConfirmDialog-KFh07bUc.js";import{_ as O}from"./ShowAlert-BWNk8-G8.js";import{V as Q,_ as J,a as K}from"./VDataTableServer-DqDOuz1B.js";import{_ as M}from"./AppTextField-Bbl0u6XW.js";import{e as i,f as W,g as T,E as X,b as Y,a as t,w as s,u as o,c as Z,i as d,D as ee,y as te,x as ae,G as oe,o as U,d as h,h as le,j as b,V as y}from"./main-PnlJ3i_c.js";import{u as ie}from"./useApi-BCBv6SNg.js";import{c as se}from"./createUrl-C0XuWudL.js";import{$ as ne}from"./api-CAs-YIJp.js";import{V as re}from"./VCard-DqYPEyMr.js";import{V as ue}from"./VCardText-Bku8my6N.js";import{V as me}from"./VSpacer-D3ETsCW-.js";import{V as pe}from"./VDivider-WvCqb411.js";import{V as S}from"./VTooltip-Dj7gN_-Y.js";import"./VDialog-Bmd3NA9g.js";import"./VOverlay-Htqhb05O.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-5eR7uzfk.js";import"./dialog-transition-DMH1dNZ8.js";import"./VInput-Dl3WJtYG.js";import"./VTextField-D8H9KmcX.js";import"./VList-Co2hBAoi.js";import"./VAvatar-dsj7vxWP.js";import"./VMenu-hSFDHyAD.js";import"./VCheckboxBtn-B4Cgo9O0.js";import"./VSelectionControl-CTuRd6Wk.js";import"./VChip-CpETzPFJ.js";import"./index-BxkgbwWS.js";/* empty css              */const de={class:"d-flex gap-2 align-center"},ce={class:"d-flex align-center flex-wrap gap-4"},He={__name:"[id]",async setup(fe){let c,k;const n=i({icon:null,title:null,text:null,color:null}),r=i(!1),f=i(""),u=i(10),m=i(1),x=i("created_at"),D=i("DESC"),E=l=>{var e,p;l.sortBy.length&&(x.value=(e=l.sortBy[0])==null?void 0:e.key,D.value=(p=l.sortBy[0])==null?void 0:p.order)},P=[{title:"judul",key:"judul",sortable:!1},{title:"jml dokumen",key:"dokumen_count",align:"center",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],C=te(),w=ae(),{data:g,execute:A}=([c,k]=W(()=>ie(se("/table",{query:{data:"tugas-sesi",sesi_latihan_id:w.params.id,q:f,itemsPerPage:u,page:m,sortBy:x,orderBy:D}}))),c=await c,k(),c);g.value.color&&(n.value=g.value,r.value=!0);const I=T(()=>g.value.lists.data),B=T(()=>g.value.lists.total),N=()=>{C.push({name:"pelatihan-sesi-tugas-tambah-id",params:{id:w.params.id}})},V=i(),v=i(),j=async l=>{V.value=l,v.value=!0},q=async l=>{l&&await ne(`/referensi/destroy/tugas/${V.value}`,{method:"DELETE",onResponse({request:e,response:p,options:$}){let _=p._data;n.value=_,r.value=!0,V.value=null,A()}})},R=async l=>{C.push({name:"pelatihan-sesi-tugas-edit-id",params:{id:l}})};return X(r,()=>{r.value||A()}),(l,e)=>{const p=J,$=M,_=oe("IconBtn"),z=K,F=O,G=L;return U(),Y("section",null,[t(re,null,{default:s(()=>[t(ue,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[h("div",de,[t(p,{"model-value":o(u),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=parseInt(a,10))},null,8,["model-value"])]),t(me),h("div",ce,[t($,{modelValue:o(f),"onUpdate:modelValue":e[1]||(e[1]=a=>d(f)?f.value=a:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),t(le,{onClick:N},{default:s(()=>[e[7]||(e[7]=b("Tambah ")),t(y,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),t(pe),t(Q,{"items-per-page":o(u),"onUpdate:itemsPerPage":e[3]||(e[3]=a=>d(u)?u.value=a:null),page:o(m),"onUpdate:page":e[4]||(e[4]=a=>d(m)?m.value=a:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:o(I),"items-length":o(B),headers:P,class:"text-no-wrap","onUpdate:options":E},{"item.actions":s(({item:a})=>[t(_,{onClick:H=>R(a.tugas_sesi_id)},{default:s(()=>[t(S,{activator:"parent",location:"top"},{default:s(()=>e[8]||(e[8]=[b("Edit Tugas")])),_:1}),t(y,{icon:"tabler-pencil"})]),_:2},1032,["onClick"]),t(_,{onClick:H=>j(a.tugas_sesi_id)},{default:s(()=>[t(S,{activator:"parent",location:"top"},{default:s(()=>e[9]||(e[9]=[b("Hapus Tugas")])),_:1}),t(y,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),bottom:s(()=>[t(z,{page:o(m),"onUpdate:page":e[2]||(e[2]=a=>d(m)?m.value=a:null),"items-per-page":o(u),"total-items":o(B)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),o(n).color?(U(),Z(F,{key:0,color:o(n).color,icon:o(n).icon,title:o(n).title,text:o(n).text,"disable-time-out":!1,isSnackbarVisible:o(r),"onUpdate:isSnackbarVisible":e[5]||(e[5]=a=>d(r)?r.value=a:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):ee("",!0),t(G,{isDialogVisible:o(v),"onUpdate:isDialogVisible":e[6]||(e[6]=a=>d(v)?v.value=a:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:q},null,8,["isDialogVisible"])])}}};export{He as default};
