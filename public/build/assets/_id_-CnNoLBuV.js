import{r as w}from"./validators-BHkKs9Dp.js";import{f as U,g,e as i,E as h,c as B,w as s,u as t,y as R,x as T,o as $,a as l,j as y,d as E,h as N,i as _,A as O}from"./main-id8ZM9v7.js";import{_ as P}from"./ShowAlert-DClojCHr.js";import{_ as Q}from"./AppTextField-DRn3k6wb.js";import{Q as J}from"./vue-quill.snow-BsHd-Ouf.js";import{u as M}from"./useApi-B59MSyNL.js";import{c as z}from"./createUrl-BCEx_Hj6.js";import{$ as G}from"./api-BgxLIZaR.js";import{V as H}from"./VCard-DvkdXpjD.js";import{V as x}from"./VCardText-BUbASc_w.js";import{V as C,a as k}from"./VRow-B_ddJWbZ.js";import{V as I}from"./VForm-CsedR5qZ.js";import"./VOverlay-CLgFKHT7.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-IUQkDaU3.js";import"./VInput-CezM0g1z.js";import"./VTextField-BsM6bg6F.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BxkgbwWS.js";import"./VAvatar-DD6j1k3g.js";/* empty css              */const ke={__name:"[id]",async setup(K){let p,v;const j=R(),q=T(),{data:D,execute:L}=([p,v]=U(()=>M(z("/referensi/show",{query:{data:"sesi",sesi_latihan_id:q.params.id}}))),p=await p,v(),p),r=g(()=>D.value),u=i({icon:null,title:null,text:null,color:null}),f=i(!1),c=i(!1),n=i(!1),d=i({sesi_latihan_id:r.value.sesi_latihan_id,judul:r.value.judul,urut:r.value.urut,deskripsi:r.value.deskripsi});i(!1);const b=i(!1),S=i(),A=async()=>{var o;(o=S.value)==null||o.validate().then(async({valid:e})=>{if(e){f.value=!0;const m=new FormData;m.append("data","sesi");for(const[V,a]of Object.entries(d.value))m.append(V,a||"");await G("/referensi/store",{method:"POST",body:m,onResponse({request:V,response:a,options:W}){let F=a._data;u.value=F,c.value=!0,f.value=!1}})}})};return h(n,()=>{n.value&&j.push({name:"pelatihan-sesi-id",params:{id:r.value.pelatihan_id}})}),(o,e)=>{const m=Q,V=P;return $(),B(H,{title:`Edit Sesi Pelatihan ${t(r).judul}`},{default:s(()=>[l(I,{ref_key:"refForm",ref:S,modelValue:t(b),"onUpdate:modelValue":e[2]||(e[2]=a=>_(b)?b.value=a:null),onSubmit:O(A,["prevent"])},{default:s(()=>[l(x,{class:"pb-12"},{default:s(()=>[l(C,null,{default:s(()=>[l(k,{cols:"12"},{default:s(()=>[l(m,{modelValue:t(d).judul,"onUpdate:modelValue":e[0]||(e[0]=a=>t(d).judul=a),rules:["requiredValidator"in o?o.requiredValidator:t(w)]},{label:s(()=>e[5]||(e[5]=[y("Judul Sesi")])),_:1},8,["modelValue","rules"])]),_:1}),l(k,{cols:"12"},{default:s(()=>[e[6]||(e[6]=E("label",{for:""},"Deskripsi Sesi",-1)),l(t(J),{theme:"snow",toolbar:"full",content:t(d).deskripsi,"onUpdate:content":e[1]||(e[1]=a=>t(d).deskripsi=a),contentType:"html",rules:["requiredValidator"in o?o.requiredValidator:t(w)]},null,8,["content","rules"])]),_:1})]),_:1})]),_:1}),l(x,{class:"mt-16"},{default:s(()=>[l(C,null,{default:s(()=>[l(k,{cols:"12"},{default:s(()=>[l(N,{type:"submit",loading:t(f),disabled:t(f)},{default:s(()=>e[7]||(e[7]=[y("Submit")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(V,{color:t(u).color,icon:t(u).icon,title:t(u).title,text:t(u).text,"disable-time-out":!1,isSnackbarVisible:t(c),"onUpdate:isSnackbarVisible":e[3]||(e[3]=a=>_(c)?c.value=a:null),isSnackbarClicked:t(n),"onUpdate:isSnackbarClicked":e[4]||(e[4]=a=>_(n)?n.value=a:null)},null,8,["color","icon","title","text","isSnackbarVisible","isSnackbarClicked"])]),_:1},8,["title"])}}};export{ke as default};
