import{_ as G}from"./ConfirmDialog-iTEEpfnB.js";import{_ as J}from"./ShowAlert-B5Uj57TA.js";import{_ as K}from"./LamanAddDialog-DWk5prox.js";import{V as W,_ as X}from"./VDataTableServer-p4eHP6qr.js";import{_ as Y}from"./AppTextField-BSo5yHDW.js";import{_ as Z}from"./AppSelect-B352HdPx.js";import{u as ee}from"./useApi-Da6ejIZO.js";import{c as te}from"./createUrl-eQUMULtZ.js";import{$ as ae}from"./api-BPI0NSKS.js";import{V as le}from"./VCard-D-MQCov6.js";import{V as oe}from"./VCardText-Cni3hejF.js";import{V as ie}from"./VSpacer-kzrt5HTd.js";import{r as i,p as se,q as x,j as ne,c as re,a as l,w as s,u as a,k as n,h as pe,s as me,e as ue,o as N,b as C,g as de,f as P,V as w,t as ce}from"./main-BY4TCbZZ.js";import{V as fe}from"./VDivider-DomAnkIn.js";import"./VDialog-DnQ0Wzhz.js";import"./VOverlay-BXc-K7w0.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-DTb4ZLCO.js";import"./dialog-transition-O1OMfMWU.js";import"./validators-BHkKs9Dp.js";import"./vue-quill.snow-74mXmXk-.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VToolbar-CD_Pkh9G.js";import"./VToolbarItems-BBl_5d8R.js";import"./VForm-Bg9SP9gs.js";import"./VInput-DpsPcQLk.js";import"./VRow-m1noTd8j.js";/* empty css              */import"./VAutocomplete-CpYQDVq7.js";import"./VTextField-CYZjs-s4.js";import"./VList-CnFBYSDb.js";import"./VAvatar-HT0btKmU.js";import"./VMenu-dTllZReX.js";import"./VCheckboxBtn-D8d9Ib6y.js";import"./VSelectionControl-ejCVJVqY.js";import"./VChip-lJ2Gai5U.js";import"./VFileInput-BVhVd00s.js";import"./index-BxkgbwWS.js";const ve={class:"d-flex gap-2 align-center"},ge={class:"d-flex align-center flex-wrap gap-4"},_e=["innerHTML"],A="program",lt={__name:"program",async setup(ke){let g,U;const r=i({icon:null,title:null,text:null,color:null}),p=i(!1),_=i(""),m=i(10),u=i(1),B=i("created_at"),T=i("DESC"),q=o=>{var e,d;o.sortBy.length&&(B.value=(e=o.sortBy[0])==null?void 0:e.key,T.value=(d=o.sortBy[0])==null?void 0:d.order)},E=[{title:"sekolah",key:"sekolah",sortable:!1},{title:"nama",key:"nama",sortable:!1},{title:"deskripsi",key:"deskripsi",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],I=o=>{r.value=o,p.value=!0},{data:c,execute:$}=([g,U]=se(()=>ee(te("/table",{query:{data:A,q:_,itemsPerPage:m,page:u,sortBy:B,orderBy:T}}))),g=await g,U(),g);c.value.color&&(r.value=c.value,p.value=!0);const L=x(()=>c.value.lists.data),h=x(()=>c.value.lists.total),y=x(()=>c.value.sekolah),f=i(!1),D=i(),k=i(),z=async o=>{D.value=o,k.value=!0},F=async o=>{o&&await ae(`/laman/destroy/${D.value}`,{method:"DELETE",onResponse({request:e,response:d,options:S}){let V=d._data;r.value=V,p.value=!0,D.value=null,$()}})},v=i(),H=async o=>{f.value=!0,v.value=o},M=()=>{f.value=!0,v.value=null};return ne(p,()=>{p.value||$()}),(o,e)=>{const d=Z,S=Y,V=ue("IconBtn"),R=X,j=K,O=J,Q=G;return N(),re("section",null,[l(le,null,{default:s(()=>[l(oe,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[C("div",ve,[l(d,{"model-value":a(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=parseInt(t,10))},null,8,["model-value"])]),l(ie),C("div",ge,[l(S,{modelValue:a(_),"onUpdate:modelValue":e[1]||(e[1]=t=>n(_)?_.value=t:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),l(de,{onClick:M},{default:s(()=>[e[11]||(e[11]=P("Tambah ")),l(w,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),l(fe),l(W,{"items-per-page":a(m),"onUpdate:itemsPerPage":e[3]||(e[3]=t=>n(m)?m.value=t:null),page:a(u),"onUpdate:page":e[4]||(e[4]=t=>n(u)?u.value=t:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:a(L),"items-length":a(h),headers:E,class:"text-no-wrap","onUpdate:options":q},{"item.sekolah":s(({item:t})=>{var b;return[P(ce(((b=t.sekolah)==null?void 0:b.nama)??"-"),1)]}),"item.deskripsi":s(({item:t})=>[C("span",{innerHTML:t.deskripsi},null,8,_e)]),"item.actions":s(({item:t})=>[l(V,{onClick:b=>z(t.id)},{default:s(()=>[l(w,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),l(V,{onClick:b=>H(t)},{default:s(()=>[l(w,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:s(()=>[l(R,{page:a(u),"onUpdate:page":e[2]||(e[2]=t=>n(u)?u.value=t:null),"items-per-page":a(m),"total-items":a(h)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(j,{"is-dialog-visible":a(f),"onUpdate:isDialogVisible":e[5]||(e[5]=t=>n(f)?f.value=t:null),sekolah:a(y),"onUpdate:sekolah":e[6]||(e[6]=t=>n(y)?y.value=t:null),pageType:A,"onUpdate:pageType":e[7]||(e[7]=t=>A=t),"detil-data":a(v),"onUpdate:detilData":e[8]||(e[8]=t=>n(v)?v.value=t:null),onNotif:I},null,8,["is-dialog-visible","sekolah","detil-data"]),a(r).color?(N(),pe(O,{key:0,color:a(r).color,icon:a(r).icon,title:a(r).title,text:a(r).text,"disable-time-out":!1,isSnackbarVisible:a(p),"onUpdate:isSnackbarVisible":e[9]||(e[9]=t=>n(p)?p.value=t:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):me("",!0),l(Q,{isDialogVisible:a(k),"onUpdate:isDialogVisible":e[10]||(e[10]=t=>n(k)?k.value=t:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:F},null,8,["isDialogVisible"])])}}};export{lt as default};
