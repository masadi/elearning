import{_ as R}from"./AppTextField-BqE0bXKK.js";import{r as n,c as A,b as o,a,u as t,t as L,w as s,F as S,s as T,Q as D,o as F,R as h,k as B,g as j,e as P,S as c,y as q}from"./main-DGGXfPyt.js";import{u as V}from"./useGenerateImageVariant-BEMKRdTK.js";import{m as E,a as M}from"./misc-mask-light-Bi5cOsdU.js";import{V as N}from"./VNodeRenderer-OGgCnvGZ.js";import{u as $}from"./useAbility-zwZ7TZm-.js";import{$ as U}from"./api-ByTkvqPp.js";import{V as b,a as d}from"./VRow-C-SLgD0h.js";import{V as G}from"./VImg-BHw_tJ49.js";import{V as H}from"./VCard-B1AXXK6m.js";import{V as k}from"./VCardText-CC4eLI8x.js";import{V as K}from"./VForm-CMVaChRn.js";import{V as O}from"./VCheckbox-BSrXKQsX.js";import"./VInput-Dzt7_UQe.js";import"./forwardRefs-D9kYFWgq.js";import"./VTextField-J159dh9-.js";import"./index-BxkgbwWS.js";/* empty css              */import"./VAvatar-538ZGkS3.js";import"./VCheckboxBtn-D5sEw91T.js";import"./VSelectionControl-CVAksmtn.js";const Q="/build/assets/auth-v2-login-illustration-bordered-dark-cDkPk8mY.png",Y="/build/assets/auth-v2-login-illustration-bordered-light-CIHqcIVA.png",z="/build/assets/auth-v2-login-illustration-dark-ClExSVqL.png",J="/build/assets/auth-v2-login-illustration-light-C4sKfRS1.png",W={href:"javascript:void(0)"},X={class:"auth-logo d-flex align-center gap-x-3"},Z={class:"auth-title"},ee={class:"position-relative bg-background w-100 me-0"},ae={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},te=["src"],se={class:"d-flex align-center flex-wrap justify-space-between my-6"},Ie={__name:"login",setup(oe){const v=V(J,z,Y,Q,!0),w=V(M,E),f=n(),l=n({email:"",password:"",remember:!1}),g=T(),_=D(),y=$(),p=n({email:void 0,password:void 0});n(!1);const m=n(!1),x=async()=>{try{const i=await U("/auth/login",{method:"POST",body:{email:l.value.email,password:l.value.password},onResponseError({response:I}){p.value=I._data.errors}}),{accessToken:e,userData:u,userAbilityRules:r}=i;c("userAbilityRules").value=r,y.update(r),c("userData").value=u,c("accessToken").value=e,await q(()=>{_.replace(g.query.to?String(g.query.to):"/dashboard")})}catch(i){console.error(i)}},C=()=>{var i;(i=f.value)==null||i.validate().then(({valid:e})=>{e&&x()})};return(i,e)=>{const u=R;return F(),A(S,null,[o("a",W,[o("div",X,[a(t(N),{nodes:t(h).app.logo},null,8,["nodes"]),o("h1",Z,L(t(h).app.title),1)])]),a(b,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:s(()=>[a(d,{md:"8",class:"d-none d-md-flex"},{default:s(()=>[o("div",ee,[o("div",ae,[a(G,{"max-width":"613",src:t(v),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),o("img",{class:"auth-footer-mask flip-in-rtl",src:t(w),alt:"auth-footer-mask",height:"280",width:"100"},null,8,te)])]),_:1}),a(d,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:s(()=>[a(H,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:s(()=>[a(k,null,{default:s(()=>e[4]||(e[4]=[o("h4",{class:"text-h4 mb-1"}," Admin Area ",-1),o("p",{class:"mb-0"}," Silahkan login untuk dapat mengakses Admin Area ",-1)])),_:1}),a(k,null,{default:s(()=>[a(K,{ref_key:"refVForm",ref:f,onSubmit:B(C,["prevent"])},{default:s(()=>[a(b,null,{default:s(()=>[a(d,{cols:"12"},{default:s(()=>[a(u,{modelValue:t(l).email,"onUpdate:modelValue":e[0]||(e[0]=r=>t(l).email=r),"error-messages":t(p).email,autofocus:"",label:"Email",type:"email",placeholder:"email.anda@email.com"},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12"},{default:s(()=>[a(u,{modelValue:t(l).password,"onUpdate:modelValue":e[1]||(e[1]=r=>t(l).password=r),"error-messages":t(p).password,label:"Password",placeholder:"············",type:t(m)?"text":"password",autocomplete:"password","append-inner-icon":t(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=r=>m.value=!t(m))},null,8,["modelValue","error-messages","type","append-inner-icon"]),o("div",se,[a(O,{modelValue:t(l).remember,"onUpdate:modelValue":e[3]||(e[3]=r=>t(l).remember=r),label:"Remember me"},null,8,["modelValue"]),e[5]||(e[5]=o("a",{class:"text-primary",href:"javascript:void(0)"}," Forgot Password? ",-1))]),a(j,{block:"",type:"submit"},{default:s(()=>e[6]||(e[6]=[P(" Login ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Ie as default};
