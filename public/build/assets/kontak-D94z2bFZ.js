import{_ as Q}from"./ConfirmDialog-BK0zYFFC.js";import{_ as G}from"./ShowAlert-TacL--g5.js";import{_ as J}from"./LamanAddDialog-FGa5F6Wn.js";import{V as K,_ as W}from"./VDataTableServer-BybnGlBH.js";import{_ as X}from"./AppTextField-BSFKv0Oa.js";import{_ as Y}from"./AppSelect-7mHZtVHb.js";import{u as Z}from"./useApi-D0w0oClF.js";import{c as ee}from"./createUrl-CixrUclo.js";import{$ as te}from"./api-D5MhM2rx.js";import{V as ae}from"./VCard-BjqD1eYU.js";import{V as oe}from"./VCardText-GcV-WJrY.js";import{V as le}from"./VSpacer-JiX5nyNk.js";import{r as i,p as ie,q as x,h as se,c as ne,a as o,w as s,u as a,j as n,i as re,s as pe,e as me,o as N,b as C,g as ue,f as P,V as A,l as de}from"./main-DZG_o8GG.js";import{V as ce}from"./VDivider-DQS3UyrH.js";import"./VDialog-PyWg6XW3.js";import"./VOverlay-Cywnr2xY.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-DEE-N76P.js";import"./dialog-transition-B0GPl3Z5.js";import"./validators-BHkKs9Dp.js";import"./vue-quill.snow-jIdcErBq.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VToolbar-f7cu61O3.js";import"./VToolbarItems-DrRfgd-j.js";import"./VForm-BHfW4QBJ.js";import"./VInput-BldUVqet.js";import"./VRow-BoUzUu1X.js";/* empty css              */import"./VAutocomplete-Phl1K3g-.js";import"./VTextField-B6BAyY7B.js";import"./VList-Cqma6yDS.js";import"./VAvatar-C9rDO4uo.js";import"./VMenu-DI0ms_1g.js";import"./VCheckboxBtn-CdhgSlpx.js";import"./VSelectionControl-C7g23kZt.js";import"./VChip-zZqazsAe.js";import"./index-BxkgbwWS.js";const fe={class:"d-flex gap-2 align-center"},ve={class:"d-flex align-center flex-wrap gap-4"},ge=["innerHTML"],U="kontak",tt={__name:"kontak",async setup(_e){let v,$;const r=i({icon:null,title:null,text:null,color:null}),p=i(!1),g=i(""),m=i(10),u=i(1),w=i("created_at"),B=i("DESC"),q=l=>{var e,d;l.sortBy.length&&(w.value=(e=l.sortBy[0])==null?void 0:e.key,B.value=(d=l.sortBy[0])==null?void 0:d.order)},E=[{title:"sekolah",key:"sekolah",sortable:!1},{title:"deskripsi",key:"content",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],I=l=>{r.value=l,p.value=!0},{data:c,execute:T}=([v,$]=ie(()=>Z(ee("/table",{query:{data:U,q:g,itemsPerPage:m,page:u,sortBy:w,orderBy:B}}))),v=await v,$(),v);c.value.color&&(r.value=c.value,p.value=!0);const L=x(()=>c.value.lists.data),S=x(()=>c.value.lists.total),y=x(()=>c.value.sekolah),f=i(!1),D=i(),_=i(),z=async l=>{D.value=l,_.value=!0},F=async l=>{l&&await te(`/laman/destroy/${D.value}`,{method:"DELETE",onResponse({request:e,response:d,options:h}){let V=d._data;r.value=V,p.value=!0,D.value=null,T()}})};i(!1);const k=i(),H=async l=>{f.value=!0,k.value=l};return se(p,()=>{p.value||T()}),(l,e)=>{const d=Y,h=X,V=me("IconBtn"),M=W,R=J,j=G,O=Q;return N(),ne("section",null,[o(ae,null,{default:s(()=>[o(oe,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[C("div",fe,[o(d,{"model-value":a(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=parseInt(t,10))},null,8,["model-value"])]),o(le),C("div",ve,[o(h,{modelValue:a(g),"onUpdate:modelValue":e[1]||(e[1]=t=>n(g)?g.value=t:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),o(ue,{onClick:e[2]||(e[2]=t=>f.value=!0)},{default:s(()=>[e[12]||(e[12]=P("Tambah ")),o(A,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),o(ce),o(K,{"items-per-page":a(m),"onUpdate:itemsPerPage":e[4]||(e[4]=t=>n(m)?m.value=t:null),page:a(u),"onUpdate:page":e[5]||(e[5]=t=>n(u)?u.value=t:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:a(L),"items-length":a(S),headers:E,class:"text-no-wrap","onUpdate:options":q},{"item.sekolah":s(({item:t})=>{var b;return[P(de(((b=t.sekolah)==null?void 0:b.nama)??"-"),1)]}),"item.content":s(({item:t})=>[C("span",{innerHTML:t.content},null,8,ge)]),"item.actions":s(({item:t})=>[o(V,{onClick:b=>z(t.id)},{default:s(()=>[o(A,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),o(V,{onClick:b=>H(t)},{default:s(()=>[o(A,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:s(()=>[o(M,{page:a(u),"onUpdate:page":e[3]||(e[3]=t=>n(u)?u.value=t:null),"items-per-page":a(m),"total-items":a(S)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),o(R,{"is-dialog-visible":a(f),"onUpdate:isDialogVisible":e[6]||(e[6]=t=>n(f)?f.value=t:null),sekolah:a(y),"onUpdate:sekolah":e[7]||(e[7]=t=>n(y)?y.value=t:null),pageType:U,"onUpdate:pageType":e[8]||(e[8]=t=>U=t),"detil-data":a(k),"onUpdate:detilData":e[9]||(e[9]=t=>n(k)?k.value=t:null),onNotif:I},null,8,["is-dialog-visible","sekolah","detil-data"]),a(r).color?(N(),re(j,{key:0,color:a(r).color,icon:a(r).icon,title:a(r).title,text:a(r).text,"disable-time-out":!1,isSnackbarVisible:a(p),"onUpdate:isSnackbarVisible":e[10]||(e[10]=t=>n(p)?p.value=t:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):pe("",!0),o(O,{isDialogVisible:a(_),"onUpdate:isDialogVisible":e[11]||(e[11]=t=>n(_)?_.value=t:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:F},null,8,["isDialogVisible"])])}}};export{tt as default};
