import{_ as J}from"./ConfirmDialog-DI3OVg57.js";import{_ as K}from"./ShowAlert-B7RpzT0c.js";import{V as M,_ as W,a as X}from"./VDataTableServer-Dzrup18R.js";import{_ as Y}from"./AppTextField-C48mpId9.js";import{u as Z}from"./useApi-B8QzzXB-.js";import{c as ee}from"./createUrl-DvLxnyLV.js";import{e as i,C as te,m as h,D as ae,b as le,a,w as s,u as l,c as oe,E as d,f as ie,x as se,G as ne,o as S,d as U,g as re,h as D,V,t as P}from"./main-D6V9-Wi_.js";import{$ as me}from"./api-D6MMaE0L.js";import{V as pe}from"./VCard-BwAKU2iv.js";import{V as ue}from"./VCardText-D512jnSI.js";import{V as ce}from"./VSpacer-C5IXMmJa.js";import{V as de}from"./VDivider-C_dB4EP1.js";import"./VDialog-CdqoBZ9N.js";import"./VOverlay-1PAqhPpx.js";import"./forwardRefs-D9kYFWgq.js";import"./scopeId-oNmL-_Kz.js";import"./VImg-DmZr2APQ.js";import"./dialog-transition-6qvpJzQ6.js";import"./VTextField-Dge7TN77.js";import"./filter-D4hi7fPA.js";import"./VList-pYGa9MTE.js";import"./ssrBoot-iOf8pK3M.js";import"./VAvatar-CJmQ4SlV.js";import"./VMenu-BMNn6ygD.js";import"./VCheckboxBtn-_R2UhhcS.js";import"./VChip-B7MtB5ge.js";import"./VSlideGroup-CyDxqoM5.js";import"./index-BxkgbwWS.js";/* empty css              */const fe={class:"d-flex gap-2 align-center"},ve={class:"d-flex align-center flex-wrap gap-4"},He={__name:"index",async setup(_e){let v,k;const r=i({icon:null,title:null,text:null,color:null}),m=i(!1),_=i(""),p=i(10),u=i(1),x=i("created_at"),C=i("DESC"),T=o=>{var t,c;o.sortBy.length&&(x.value=(t=o.sortBy[0])==null?void 0:t.key,C.value=(c=o.sortBy[0])==null?void 0:c.order)},E=[{title:"judul",key:"judul",sortable:!1},{title:"mapel",key:"mapel",sortable:!1},{title:"rombel",key:"rombel",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],{data:g,execute:$}=([v,k]=te(()=>Z(ee("/table",{query:{data:"materi-ajar",q:_,itemsPerPage:p,page:u,sortBy:x,orderBy:C}}))),v=await v,k(),v);g.value.color&&(r.value=g.value,m.value=!0);const I=h(()=>g.value.lists.data),j=h(()=>g.value.lists.total),w=se(),N=()=>{w.push({name:"materi-ajar-tambah"})},y=i(),b=i(),q=async o=>{y.value=o,b.value=!0},R=async o=>{o&&await me(`/referensi/destroy/materi-ajar/${y.value}`,{method:"DELETE",onResponse({request:t,response:c,options:A}){let f=c._data;r.value=f,m.value=!0,y.value=null,$()}})},z=i(!1);i(!1);const F=i(),G=async o=>{z.value=!0,F.value=o},L=async o=>{console.log(o),w.push(`/materi-ajar/${o}`)};return ae(m,()=>{m.value||$()}),(o,t)=>{const c=W,A=Y,f=ne("IconBtn"),O=X,Q=K,H=J;return S(),le("section",null,[a(pe,null,{default:s(()=>[a(ue,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[U("div",fe,[a(c,{"model-value":l(p),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=parseInt(e,10))},null,8,["model-value"])]),a(ce),U("div",ve,[a(A,{modelValue:l(_),"onUpdate:modelValue":t[1]||(t[1]=e=>d(_)?_.value=e:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),a(re,{onClick:N},{default:s(()=>[t[7]||(t[7]=D("Tambah ")),a(V,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),a(de),a(M,{"items-per-page":l(p),"onUpdate:itemsPerPage":t[3]||(t[3]=e=>d(p)?p.value=e:null),page:l(u),"onUpdate:page":t[4]||(t[4]=e=>d(u)?u.value=e:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:l(I),"items-length":l(j),headers:E,class:"text-no-wrap","onUpdate:options":T},{"item.mapel":s(({item:e})=>{var n;return[D(P((n=e.pembelajaran)==null?void 0:n.nama_mata_pelajaran),1)]}),"item.rombel":s(({item:e})=>{var n,B;return[D(P((B=(n=e.pembelajaran)==null?void 0:n.rombongan_belajar)==null?void 0:B.nama),1)]}),"item.actions":s(({item:e})=>[a(f,{onClick:n=>q(e.materi_ajar_id)},{default:s(()=>[a(V,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(f,{onClick:n=>G(e)},{default:s(()=>[a(V,{icon:"tabler-eye"})]),_:2},1032,["onClick"]),a(f,{onClick:n=>L(e.materi_ajar_id)},{default:s(()=>[a(V,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:s(()=>[a(O,{page:l(u),"onUpdate:page":t[2]||(t[2]=e=>d(u)?u.value=e:null),"items-per-page":l(p),"total-items":l(j)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(r).color?(S(),oe(Q,{key:0,color:l(r).color,icon:l(r).icon,title:l(r).title,text:l(r).text,"disable-time-out":!1,isSnackbarVisible:l(m),"onUpdate:isSnackbarVisible":t[5]||(t[5]=e=>d(m)?m.value=e:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):ie("",!0),a(H,{isDialogVisible:l(b),"onUpdate:isDialogVisible":t[6]||(t[6]=e=>d(b)?b.value=e:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:R},null,8,["isDialogVisible"])])}}};export{He as default};
