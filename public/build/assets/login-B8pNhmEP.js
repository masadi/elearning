import{_ as C}from"./AppTextField-Ct9D5HwN.js";import{r as n,c as I,d as o,b as a,m as s,v as A,e as t,F as L,i as R,j as T,o as D,H as g,a1 as F,a2 as S,t as j,af as c,as as B}from"./main-CCs6bh3s.js";import{u as h,m as P,a as E}from"./misc-mask-light-YThgPAzf.js";import{V as M}from"./VNodeRenderer-2lAqccv_.js";import{u as N}from"./useAbility-7_d1PTaC.js";import{$}from"./api-CCQ-3yc0.js";import{V,a as u}from"./VRow-BoGaUT1d.js";import{V as U}from"./VImg-CVm_ZQhA.js";import{V as q}from"./VCard-T2zrQbq8.js";import{V as b}from"./VCardText-ZjZeaPvI.js";import{V as H}from"./VForm-C4_lLtZ_.js";import{V as G}from"./VCheckbox-OZZTHt1Q.js";import"./VTextField-BaS9oZAw.js";import"./forwardRefs-DWGaNmQL.js";import"./index-9rIf2CJL.js";/* empty css              */import"./VAvatar-pIOnFHia.js";import"./VCheckboxBtn-G6A6nYkI.js";const K="/build/assets/auth-v2-login-illustration-bordered-dark-cDkPk8mY.png",O="/build/assets/auth-v2-login-illustration-bordered-light-CIHqcIVA.png",Y="/build/assets/auth-v2-login-illustration-dark-ClExSVqL.png",z="/build/assets/auth-v2-login-illustration-light-C4sKfRS1.png",J={href:"javascript:void(0)"},Q={class:"auth-logo d-flex align-center gap-x-3"},W={class:"auth-title"},X={class:"position-relative bg-background w-100 me-0"},Z={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},ee=["src"],ae={class:"d-flex align-center flex-wrap justify-space-between my-6"},ke={__name:"login",setup(se){const v=h(z,Y,O,K,!0),w=h(E,P),f=n(),r=n({email:"",password:"",remember:!1});R(),T();const k=N(),p=n({email:void 0,password:void 0});n(!1);const m=n(!1),_=async()=>{try{const i=await $("/auth/login",{method:"POST",body:{email:r.value.email,password:r.value.password},onResponseError({response:y}){p.value=y._data.errors}}),{accessToken:e,userData:d,userAbilityRules:l}=i;c("userAbilityRules").value=l,k.update(l),c("userData").value=d,c("accessToken").value=e,await B(()=>{window.location.replace("/")})}catch(i){console.error(i)}},x=()=>{var i;(i=f.value)==null||i.validate().then(({valid:e})=>{e&&_()})};return(i,e)=>{const d=C;return D(),I(L,null,[o("a",J,[o("div",Q,[a(s(M),{nodes:s(g).app.logo},null,8,["nodes"]),o("h1",W,A(s(g).app.title),1)])]),a(V,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[a(u,{md:"8",class:"d-none d-md-flex"},{default:t(()=>[o("div",X,[o("div",Z,[a(U,{"max-width":"613",src:s(v),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),o("img",{class:"auth-footer-mask flip-in-rtl",src:s(w),alt:"auth-footer-mask",height:"280",width:"100"},null,8,ee)])]),_:1}),a(u,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[a(q,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:t(()=>[a(b,null,{default:t(()=>e[4]||(e[4]=[o("h4",{class:"text-h4 mb-1"}," Admin Area ",-1),o("p",{class:"mb-0"}," Silahkan login untuk dapat mengakses Admin Area ",-1)])),_:1}),a(b,null,{default:t(()=>[a(H,{ref_key:"refVForm",ref:f,onSubmit:F(x,["prevent"])},{default:t(()=>[a(V,null,{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(d,{modelValue:s(r).email,"onUpdate:modelValue":e[0]||(e[0]=l=>s(r).email=l),"error-messages":s(p).email,autofocus:"",label:"Email",type:"email",placeholder:"email.anda@email.com"},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12"},{default:t(()=>[a(d,{modelValue:s(r).password,"onUpdate:modelValue":e[1]||(e[1]=l=>s(r).password=l),"error-messages":s(p).password,label:"Password",placeholder:"············",type:s(m)?"text":"password",autocomplete:"password","append-inner-icon":s(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=l=>m.value=!s(m))},null,8,["modelValue","error-messages","type","append-inner-icon"]),o("div",ae,[a(G,{modelValue:s(r).remember,"onUpdate:modelValue":e[3]||(e[3]=l=>s(r).remember=l),label:"Remember me"},null,8,["modelValue"]),e[5]||(e[5]=o("a",{class:"text-primary",href:"javascript:void(0)"}," Forgot Password? ",-1))]),a(S,{block:"",type:"submit"},{default:t(()=>e[6]||(e[6]=[j(" Login ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{ke as default};
