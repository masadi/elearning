import{_ as z}from"./ShowAlert-DT3fq-Oi.js";import{_ as G}from"./AppTextField-BFUxML1D.js";import{_ as H}from"./AppAutocomplete-Cb0wqSN-.js";import{_ as J}from"./AppSelect-DYn_euGS.js";import{r as _,m as Q,n as T,c as x,a as e,w as a,u as o,f as W,i as X,p as F,o as V,e as R,k as Y,b as r,s as Z,t as U,F as N,d as ee,g as ae}from"./main-7VsEs_iv.js";import{u as te}from"./useApi-Dj_tuXfl.js";import{c as le}from"./createUrl-CHpkFwHR.js";import{$ as y}from"./api-9jLT_bnU.js";import{V as oe,a as se,b as ne}from"./VCard-Bi7fi0EQ.js";import{V as ie}from"./VDivider-CZf2QChD.js";import{V as re}from"./VCardText-DUbz6ciM.js";import{V as me}from"./VForm-MqJRZS1o.js";import{V as c,a as n}from"./VRow-VfDmxwHI.js";import{V as de}from"./VList-C-S1-TZ0.js";import{V as ue}from"./filter-B2BO5yTb.js";import"./VOverlay-DWeYos2y.js";import"./forwardRefs-D3j0TLhE.js";import"./VImg-QB9y-vDk.js";import"./VInput-BxEjwi15.js";import"./VTextField-DNKv3UMP.js";import"./VAutocomplete-C6XRwPXx.js";import"./VMenu-Bzm2Wd2a.js";import"./dialog-transition-D31dM4md.js";import"./VCheckboxBtn-4pNovB4d.js";import"./VSelectionControl-Bpl91RdZ.js";import"./VAvatar-CHT1f-YN.js";import"./VChip-BJpUDo2h.js";import"./index-BxkgbwWS.js";/* empty css              */import"./ssrBoot-COh_i0im.js";const _e={class:"text-no-wrap pt-2"},pe={class:"pt-2"},ze={__name:"input-nilai",async setup(be){let k,A;const $=[{title:"1",value:"1"},{title:"2",value:"2"},{title:"3",value:"3"},{title:"4",value:"4"},{title:"5",value:"5"},{title:"6",value:"6"}],B=_([]),{data:w}=([k,A]=Q(()=>te(le("/induk/get-data",{query:{data:"nilai"}}))),k=await k,A(),k),q=T(()=>w.value.semester),h=T(()=>w.value.sekolah_id),g=T(()=>w.value.semester_id),S=_(!1),s=_({semester_id:g.value,tingkat:null,rombongan_belajar_id:null,pembelajaran_id:null,nilai:{}}),I=()=>{s.value.tingkat=null,s.value.rombongan_belajar_id=null,s.value.pembelajaran_id=null},M=async d=>{s.value.rombongan_belajar_id=null,s.value.pembelajaran_id=null,await y("/induk/get-data",{method:"POST",body:{sekolah_id:h.value,semester_id:g.value,tingkat:d,data:"rombel"},onResponse({request:t,response:m,options:p}){let u=m._data;B.value=u}})},C=_([]),P=_([]),O=async d=>{s.value.pembelajaran_id=null,await y("/induk/get-data",{method:"POST",body:{sekolah_id:h.value,semester_id:g.value,rombongan_belajar_id:d,data:"mapel"},onResponse({request:t,response:m,options:p}){let u=m._data;C.value=u}})},K=async d=>{await y("/induk/get-data",{method:"POST",body:{sekolah_id:h.value,semester_id:g.value,rombongan_belajar_id:s.value.rombongan_belajar_id,pembelajaran_id:d,data:"siswa"},onResponse({request:t,response:m,options:p}){let u=m._data;P.value=u,S.value=!!d,P.value.forEach(f=>{var l,i;s.value.nilai[f.anggota_rombel.id]=(i=(l=f.anggota_rombel)==null?void 0:l.nilai)==null?void 0:i.nilai})}})},L=_(!1),b=_({icon:null,title:null,text:null,color:null}),j=_(!1),E=async()=>{L.value=!0;const t={...{data:"nilai"},...s.value};await y("/induk/store",{method:"POST",body:t,onResponse({request:m,response:p,options:u}){let f=p._data;b.value=f,j.value=!0,S.value=!1,s.value={semester_id:g.value,tingkat:null,rombongan_belajar_id:null,pembelajaran_id:null,nilai:{}}}})};return(d,t)=>{const m=J,p=H,u=G,f=z;return V(),x("section",null,[e(oe,null,{default:a(()=>[e(se,null,{default:a(()=>[e(ne,null,{default:a(()=>t[5]||(t[5]=[R("Input Nilai")])),_:1})]),_:1}),e(ie),e(re,null,{default:a(()=>[e(me,{onSubmit:Y(E,["prevent"])},{default:a(()=>[e(c,null,{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(c,{"no-gutters":""},{default:a(()=>[e(n,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>t[6]||(t[6]=[r("label",{class:"v-label text-body-2 text-high-emphasis",for:"semester_id"},"Semester",-1)])),_:1}),e(n,{cols:"12",md:"9"},{default:a(()=>[e(m,{id:"semester_id",items:o(q),modelValue:o(s).semester_id,"onUpdate:modelValue":[t[0]||(t[0]=l=>o(s).semester_id=l),I],"item-title":"nama","item-value":"semester_id"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(c,{"no-gutters":""},{default:a(()=>[e(n,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>t[7]||(t[7]=[r("label",{class:"v-label text-body-2 text-high-emphasis",for:"tingkat"},"Tingkat Kelas",-1)])),_:1}),e(n,{cols:"12",md:"9"},{default:a(()=>[e(m,{id:"tingkat",items:$,modelValue:o(s).tingkat,"onUpdate:modelValue":[t[1]||(t[1]=l=>o(s).tingkat=l),M],placeholder:"== Pilih Tingkat Kelas =="},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(c,{"no-gutters":""},{default:a(()=>[e(n,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>t[8]||(t[8]=[r("label",{class:"v-label text-body-2 text-high-emphasis",for:"rombongan_belajar_id"},"Rombongan Belajar",-1)])),_:1}),e(n,{cols:"12",md:"9"},{default:a(()=>[e(p,{id:"rombongan_belajar_id",items:o(B),"item-title":"nama","item-value":"id",modelValue:o(s).rombongan_belajar_id,"onUpdate:modelValue":[t[2]||(t[2]=l=>o(s).rombongan_belajar_id=l),O],placeholder:"== Pilih Rombongan Belajar ==",clearable:""},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(c,{"no-gutters":""},{default:a(()=>[e(n,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:a(()=>t[9]||(t[9]=[r("label",{class:"v-label text-body-2 text-high-emphasis",for:"pembelajaran_id"},"Mata Pelajaran",-1)])),_:1}),e(n,{cols:"12",md:"9"},{default:a(()=>[e(p,{id:"pembelajaran_id",items:o(C),"item-title":"id","item-value":"id",modelValue:o(s).pembelajaran_id,"onUpdate:modelValue":[t[3]||(t[3]=l=>o(s).pembelajaran_id=l),K],placeholder:"== Pilih Mata Pelajaran ==",clearable:""},{item:a(({props:l,item:i})=>{var v,D;return[e(de,Z(l,{title:(D=(v=i==null?void 0:i.raw)==null?void 0:v.mata_pelajaran)==null?void 0:D.nama}),null,16,["title"])]}),selection:a(({item:l})=>{var i,v;return[R(U((v=(i=l==null?void 0:l.raw)==null?void 0:i.mata_pelajaran)==null?void 0:v.nama),1)]}),_:1},8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),o(S)?(V(),x(N,{key:0},[e(n,{cols:"12"},{default:a(()=>[e(ue,null,{default:a(()=>[t[10]||(t[10]=r("thead",null,[r("tr",null,[r("th",{class:"text-center"},"Nama Peserta Didik"),r("th",{class:"text-center"},"Nilai")])],-1)),r("tbody",null,[(V(!0),x(N,null,ee(o(P),l=>(V(),x("tr",null,[r("td",_e,U(l.nama),1),r("td",pe,[e(u,{type:"number",modelValue:o(s).nilai[l.anggota_rombel.id],"onUpdate:modelValue":i=>o(s).nilai[l.anggota_rombel.id]=i},null,8,["modelValue","onUpdate:modelValue"])])]))),256))])]),_:1})]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(c,{"no-gutters":""},{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(ae,{type:"submit",class:"me-4"},{default:a(()=>t[11]||(t[11]=[R(" Simpan ")])),_:1})]),_:1})]),_:1})]),_:1})],64)):F("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),o(b).color?(V(),W(f,{key:0,color:o(b).color,icon:o(b).icon,title:o(b).title,text:o(b).text,"disable-time-out":!1,isSnackbarVisible:o(j),"onUpdate:isSnackbarVisible":t[4]||(t[4]=l=>X(j)?j.value=l:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):F("",!0)])}}};export{ze as default};
