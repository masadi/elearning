import{V as ke,_ as ie}from"./VForm-uSoEhV55.js";import{V as Be,_ as Re,b as Se,a as Ae,c as Me}from"./VDataTableServer-D_B28BOy.js";import{V as G}from"./VCard-C6KtQC6_.js";import{V as Z}from"./VCardText-CzJG7itp.js";import{V as K}from"./VCheckbox-DCNJh4dS.js";import{r as x,Y as E,w as Y,o as B,f as j,e as o,b as e,d as v,v as L,m,a4 as U,c as N,F as W,h as le,a2 as Q,t as z,a as ue,y as oe,$ as H,z as qe,aB as J,aE as Ie,G as xe,aX as Ce,aY as Ne,aM as ee,aS as Oe,aQ as Le,a5 as ze,av as Fe,ad as He,aZ as Ye,aw as je,a_ as We,aj as Xe,ae as Ze,ak as Je,a7 as Qe,aA as Ge,az as Ke,ax as et,al as ye,Z as he,ay as tt,a$ as lt,am as at,b0 as ot,a8 as nt,b1 as st,b2 as rt,aC as it,aa as ut,q as be,aD as dt,T as ct,as as re,a1 as mt,aH as vt}from"./main-BTjYJlDA.js";import{V as ft}from"./VDialog-DvpQv_2v.js";import{a as R,V as ae}from"./VRow-DuzOmuOD.js";import{V as de}from"./VSpacer-DO8WRL35.js";import{V as te}from"./VAvatar-BhA83xGd.js";import{a as pt}from"./formatters-DULOiX1-.js";import{r as F,e as gt,c as yt}from"./createUrl-0f205qLf.js";import{C as ht}from"./vue3-perfect-scrollbar-CPPdp754.js";import{V as De}from"./VDivider-BRe-_BKB.js";import{a as bt,u as Vt,b as wt}from"./VOverlay-DQ_F2TXX.js";import{u as _t,V as kt,a as ne,b as se}from"./VList-BvO_BP3B.js";import{V as Pe}from"./VImg-Bcg2naRi.js";import{u as St}from"./useApi-murTc1O0.js";import{$ as Ve}from"./api-BKaKXE7A.js";import{V as xt}from"./VMenu-DvQ4n4aX.js";import"./VTextField--YMc3K9n.js";import"./forwardRefs-DWGaNmQL.js";import"./dialog-transition-lUJtX1aw.js";import"./VCheckboxBtn-vs8nQHtV.js";import"./VChip-CDDx8scb.js";/* empty css              */import"./index-9rIf2CJL.js";const Ct={class:"text-h4 text-center mb-2"},Dt={colspan:"3"},Pt={class:"d-flex justify-end"},Ut={class:"text-h6"},Et={class:"d-flex justify-end"},$t={class:"d-flex justify-end"},Tt={class:"d-flex justify-end"},Bt={class:"d-flex align-center justify-center gap-4"},Rt={__name:"AddEditRoleDialog",props:{rolePermissions:{type:Object,required:!1,default:()=>({name:"",permissions:[]})},isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible","update:rolePermissions"],setup(t,{emit:g}){const d=t,b=g,l=x([{name:"User Management",read:!1,write:!1,create:!1},{name:"Content Management",read:!1,write:!1,create:!1},{name:"Disputes Management",read:!1,write:!1,create:!1},{name:"Database Management",read:!1,write:!1,create:!1},{name:"Financial Management",read:!1,write:!1,create:!1},{name:"Reporting",read:!1,write:!1,create:!1},{name:"API Control",read:!1,write:!1,create:!1},{name:"Repository Management",read:!1,write:!1,create:!1},{name:"Payroll",read:!1,write:!1,create:!1}]),r=x(!1),n=x(""),y=x(),w=E(()=>{let c=0;return l.value.forEach(s=>{Object.entries(s).forEach(([k,P])=>{k!=="name"&&P&&c++})}),c}),u=E(()=>w.value>0&&w.value<l.value.length*3);Y(r,c=>{l.value=l.value.map(s=>({...s,read:c,write:c,create:c}))}),Y(u,()=>{u.value||(r.value=!1)}),Y(l,()=>{w.value===l.value.length*3&&(r.value=!0)},{deep:!0}),Y(()=>d,()=>{d.rolePermissions&&d.rolePermissions.permissions.length&&(n.value=d.rolePermissions.name,l.value=l.value.map(c=>{var k;const s=(k=d.rolePermissions)==null?void 0:k.permissions.find(P=>P.name===c.name);return s?{...c,...s}:c}))});const V=()=>{var s;const c={name:n.value,permissions:l.value};b("update:rolePermissions",c),b("update:isDialogVisible",!1),r.value=!1,(s=y.value)==null||s.reset()},_=()=>{var c;b("update:isDialogVisible",!1),r.value=!1,(c=y.value)==null||c.reset()};return(c,s)=>{const k=Re,P=ie;return B(),j(ft,{width:c.$vuetify.display.smAndDown?"auto":900,"model-value":d.isDialogVisible,"onUpdate:modelValue":_},{default:o(()=>[e(k,{onClick:_}),e(G,{class:"pa-sm-10 pa-2"},{default:o(()=>[e(Z,null,{default:o(()=>[v("h4",Ct,L(d.rolePermissions.name?"Edit":"Add New")+" Role ",1),s[7]||(s[7]=v("p",{class:"text-body-1 text-center mb-6"}," Set Role Permissions ",-1)),e(m(ke),{ref_key:"refPermissionForm",ref:y},{default:o(()=>[e(P,{modelValue:m(n),"onUpdate:modelValue":s[0]||(s[0]=D=>U(n)?n.value=D:null),label:"Role Name",placeholder:"Enter Role Name"},null,8,["modelValue"]),s[6]||(s[6]=v("h5",{class:"text-h5 my-6"}," Role Permissions ",-1)),e(Be,{class:"permission-table text-no-wrap mb-6"},{default:o(()=>[v("tr",null,[s[3]||(s[3]=v("td",null,[v("h6",{class:"text-h6"}," Administrator Access ")],-1)),v("td",Dt,[v("div",Pt,[e(K,{modelValue:m(r),"onUpdate:modelValue":s[1]||(s[1]=D=>U(r)?r.value=D:null),indeterminate:m(u),"onUpdate:indeterminate":s[2]||(s[2]=D=>U(u)?u.value=D:null),label:"Select All"},null,8,["modelValue","indeterminate"])])])]),(B(!0),N(W,null,le(m(l),D=>(B(),N("tr",{key:D.name},[v("td",null,[v("h6",Ut,L(D.name),1)]),v("td",null,[v("div",Et,[e(K,{modelValue:D.read,"onUpdate:modelValue":M=>D.read=M,label:"Read"},null,8,["modelValue","onUpdate:modelValue"])])]),v("td",null,[v("div",$t,[e(K,{modelValue:D.write,"onUpdate:modelValue":M=>D.write=M,label:"Write"},null,8,["modelValue","onUpdate:modelValue"])])]),v("td",null,[v("div",Tt,[e(K,{modelValue:D.create,"onUpdate:modelValue":M=>D.create=M,label:"Create"},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),v("div",Bt,[e(Q,{onClick:V},{default:o(()=>s[4]||(s[4]=[z(" Submit ")])),_:1}),e(Q,{color:"secondary",variant:"tonal",onClick:_},{default:o(()=>s[5]||(s[5]=[z(" Cancel ")])),_:1})])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},At={class:"text-body-1"},Mt={class:"v-avatar-group"},qt={class:"d-flex justify-space-between align-center"},It={class:"text-h5"},Nt={class:"d-flex align-center"},Ot=["onClick"],Lt=["src"],zt={__name:"RoleCards",props:{roles:{type:Array,required:!0}},setup(t){const g=x(!1),d=x(),b=x(!1),l=r=>{g.value=!0,d.value=r};return(r,n)=>{const y=ue("IconBtn"),w=Rt;return B(),N(W,null,[e(ae,null,{default:o(()=>[(B(!0),N(W,null,le(t.roles,u=>(B(),j(R,{key:u.id,cols:"12",sm:"6",lg:"4"},{default:o(()=>[e(G,null,{default:o(()=>[e(Z,{class:"d-flex align-center pb-4"},{default:o(()=>[v("div",At," Total "+L(u.users_count)+" users ",1),e(de),v("div",Mt,[(B(!0),N(W,null,le(u.users,(V,_)=>(B(),N(W,{key:V},[u.users_count>4&&u.users_count!==4&&_<3?(B(),j(te,{key:0,size:"40",image:V},null,8,["image"])):oe("",!0),u.users_count===4?(B(),j(te,{key:1,size:"40",image:V},null,8,["image"])):oe("",!0)],64))),128)),u.users_count>4?(B(),j(te,{key:0,color:r.$vuetify.theme.current.dark?"#373B50":"#EEEDF0"},{default:o(()=>[v("span",null," +"+L(u.users_count-3),1)]),_:2},1032,["color"])):oe("",!0)])]),_:2},1024),e(Z,null,{default:o(()=>[v("div",qt,[v("div",null,[v("h5",It,L(u.display_name),1),v("div",Nt,[v("a",{href:"javascript:void(0)",onClick:V=>l(u)}," Edit Role ",8,Ot)])]),e(y,null,{default:o(()=>[e(H,{icon:"tabler-copy",class:"text-high-emphasis"})]),_:1})])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(R,{cols:"12",sm:"6",lg:"4"},{default:o(()=>[e(G,{class:"h-100",ripple:!1},{default:o(()=>[e(ae,{"no-gutters":"",class:"h-100"},{default:o(()=>[e(R,{cols:"5",class:"d-flex flex-column justify-end align-center mt-5"},{default:o(()=>[v("img",{width:"85",src:r.girlUsingMobile},null,8,Lt)]),_:1}),e(R,{cols:"7"},{default:o(()=>[e(Z,{class:"d-flex flex-column align-end justify-end gap-4"},{default:o(()=>[e(Q,{size:"small",onClick:n[0]||(n[0]=u=>b.value=!0)},{default:o(()=>n[4]||(n[4]=[z(" Add New Role ")])),_:1}),n[5]||(n[5]=v("div",{class:"text-end"},[z(" Add new role,"),v("br"),z(" if it doesn't exist. ")],-1))]),_:1})]),_:1})]),_:1})]),_:1}),e(w,{"is-dialog-visible":m(b),"onUpdate:isDialogVisible":n[1]||(n[1]=u=>U(b)?b.value=u:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1}),e(w,{"is-dialog-visible":m(g),"onUpdate:isDialogVisible":n[2]||(n[2]=u=>U(g)?g.value=u:null),"role-permissions":m(d),"onUpdate:rolePermissions":n[3]||(n[3]=u=>U(d)?d.value=u:null)},null,8,["is-dialog-visible","role-permissions"])],64)}}},Ft={class:"pa-6 d-flex align-center"},Ht={class:"text-h5"},Yt={__name:"AppDrawerHeaderSection",props:{title:{type:String,required:!0}},emits:["cancel"],setup(t,{emit:g}){const d=t;return(b,l)=>{const r=ue("IconBtn");return B(),N("div",Ft,[v("h5",Ht,L(d.title),1),e(de),qe(b.$slots,"beforeClose"),e(r,{size:"small",onClick:l[0]||(l[0]=n=>b.$emit("cancel",n))},{default:o(()=>[e(H,{size:"24",icon:"tabler-x"})]),_:1})])}}};function jt(t){let{rootEl:g,isSticky:d,layoutItemStyles:b}=t;const l=J(!1),r=J(0),n=E(()=>{const u=typeof l.value=="boolean"?"top":l.value;return[d.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[u]:Ie(r.value)}:{top:b.value.top}]});xe(()=>{Y(d,u=>{u?window.addEventListener("scroll",w,{passive:!0}):window.removeEventListener("scroll",w)},{immediate:!0})}),Ce(()=>{window.removeEventListener("scroll",w)});let y=0;function w(){const u=y>window.scrollY?"up":"down",V=g.value.getBoundingClientRect(),_=parseFloat(b.value.top??0),c=window.scrollY-Math.max(0,r.value-_),s=V.height+Math.max(r.value,_)-window.scrollY-window.innerHeight,k=parseFloat(getComputedStyle(g.value).getPropertyValue("--v-body-scroll-y"))||0;V.height<window.innerHeight-_?(l.value="top",r.value=_):u==="up"&&l.value==="bottom"||u==="down"&&l.value==="top"?(r.value=window.scrollY+V.top-k,l.value=!0):u==="down"&&s<=0?(r.value=0,l.value="bottom"):u==="up"&&c<=0&&(k?l.value!=="top"&&(r.value=-c+k+_,l.value="top"):(r.value=V.top+c,l.value="top")),y=window.scrollY}return{isStuck:l,stickyStyles:n}}const Wt=100,Xt=20;function we(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function _e(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let g=0;for(let d=t.length-1;d>0;d--){if(t[d].t===t[d-1].t)continue;const b=we(g),l=(t[d].d-t[d-1].d)/(t[d].t-t[d-1].t);g+=(l-b)*Math.abs(l),d===t.length-1&&(g*=.5)}return we(g)*1e3}function Zt(){const t={};function g(l){Array.from(l.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new Ne(Xt))).push([l.timeStamp,r])})}function d(l){Array.from(l.changedTouches).forEach(r=>{delete t[r.identifier]})}function b(l){var u;const r=(u=t[l])==null?void 0:u.values().reverse();if(!r)throw new Error(`No samples for touch id ${l}`);const n=r[0],y=[],w=[];for(const V of r){if(n[0]-V[0]>Wt)break;y.push({t:V[0],d:V[1].clientX}),w.push({t:V[0],d:V[1].clientY})}return{x:_e(y),y:_e(w),get direction(){const{x:V,y:_}=this,[c,s]=[Math.abs(V),Math.abs(_)];return c>s&&V>=0?"right":c>s&&V<=0?"left":s>c&&_>=0?"down":s>c&&_<=0?"up":Jt()}}}return{addMovement:g,endTouch:d,getVelocity:b}}function Jt(){throw new Error}function Qt(t){let{el:g,isActive:d,isTemporary:b,width:l,touchless:r,position:n}=t;xe(()=>{window.addEventListener("touchstart",p,{passive:!0}),window.addEventListener("touchmove",f,{passive:!1}),window.addEventListener("touchend",I,{passive:!0})}),Ce(()=>{window.removeEventListener("touchstart",p),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",I)});const y=E(()=>["left","right"].includes(n.value)),{addMovement:w,endTouch:u,getVelocity:V}=Zt();let _=!1;const c=J(!1),s=J(0),k=J(0);let P;function D(i,a){return(n.value==="left"?i:n.value==="right"?document.documentElement.clientWidth-i:n.value==="top"?i:n.value==="bottom"?document.documentElement.clientHeight-i:X())-(a?l.value:0)}function M(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=n.value==="left"?(i-k.value)/l.value:n.value==="right"?(document.documentElement.clientWidth-i-k.value)/l.value:n.value==="top"?(i-k.value)/l.value:n.value==="bottom"?(document.documentElement.clientHeight-i-k.value)/l.value:X();return a?Math.max(0,Math.min(1,S)):S}function p(i){if(r.value)return;const a=i.changedTouches[0].clientX,S=i.changedTouches[0].clientY,C=25,$=n.value==="left"?a<C:n.value==="right"?a>document.documentElement.clientWidth-C:n.value==="top"?S<C:n.value==="bottom"?S>document.documentElement.clientHeight-C:X(),T=d.value&&(n.value==="left"?a<l.value:n.value==="right"?a>document.documentElement.clientWidth-l.value:n.value==="top"?S<l.value:n.value==="bottom"?S>document.documentElement.clientHeight-l.value:X());($||T||d.value&&b.value)&&(P=[a,S],k.value=D(y.value?a:S,d.value),s.value=M(y.value?a:S),_=k.value>-20&&k.value<80,u(i),w(i))}function f(i){const a=i.changedTouches[0].clientX,S=i.changedTouches[0].clientY;if(_){if(!i.cancelable){_=!1;return}const $=Math.abs(a-P[0]),T=Math.abs(S-P[1]);(y.value?$>T&&$>3:T>$&&T>3)?(c.value=!0,_=!1):(y.value?T:$)>3&&(_=!1)}if(!c.value)return;i.preventDefault(),w(i);const C=M(y.value?a:S,!1);s.value=Math.max(0,Math.min(1,C)),C>1?k.value=D(y.value?a:S,!0):C<0&&(k.value=D(y.value?a:S,!1))}function I(i){if(_=!1,!c.value)return;w(i),c.value=!1;const a=V(i.changedTouches[0].identifier),S=Math.abs(a.x),C=Math.abs(a.y);(y.value?S>C&&S>400:C>S&&C>3)?d.value=a.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||X()):d.value=s.value>.5}const A=E(()=>c.value?{transform:n.value==="left"?`translateX(calc(-100% + ${s.value*l.value}px))`:n.value==="right"?`translateX(calc(100% - ${s.value*l.value}px))`:n.value==="top"?`translateY(calc(-100% + ${s.value*l.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${s.value*l.value}px))`:X(),transition:"none"}:void 0);return ee(c,()=>{var S,C;const i=((S=g.value)==null?void 0:S.style.transform)??null,a=((C=g.value)==null?void 0:C.style.transition)??null;Oe(()=>{var $,T,h,O;(T=g.value)==null||T.style.setProperty("transform",(($=A.value)==null?void 0:$.transform)||"none"),(O=g.value)==null||O.style.setProperty("transition",((h=A.value)==null?void 0:h.transition)||null)}),Le(()=>{var $,T;($=g.value)==null||$.style.setProperty("transform",i),(T=g.value)==null||T.style.setProperty("transition",a)})}),{isDragging:c,dragProgress:s,dragStyles:A}}function X(){throw new Error}const Gt=["start","end","left","right","top","bottom"],Kt=ze({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Gt.includes(t)},sticky:Boolean,...Fe(),...He(),...bt(),...Ye({mobile:null}),...je(),...We(),...Xe(),...Ze({tag:"nav"}),...Je()},"VNavigationDrawer"),el=Qe()({name:"VNavigationDrawer",props:Kt(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,g){let{attrs:d,emit:b,slots:l}=g;const{isRtl:r}=Ge(),{themeClasses:n}=Ke(t),{borderClasses:y}=et(t),{backgroundColorClasses:w,backgroundColorStyles:u}=ye(he(t,"color")),{elevationClasses:V}=tt(t),{displayClasses:_,mobile:c}=lt(t),{roundedClasses:s}=at(t),k=ot(),P=nt(t,"modelValue",null,q=>!!q),{ssrBootStyles:D}=_t(),{scopeId:M}=Vt(),p=x(),f=J(!1),{runOpenDelay:I,runCloseDelay:A}=wt(t,q=>{f.value=q}),i=E(()=>t.rail&&t.expandOnHover&&f.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),a=E(()=>st(t.location,r.value)),S=E(()=>t.persistent),C=E(()=>!t.permanent&&(c.value||t.temporary)),$=E(()=>t.sticky&&!C.value&&a.value!=="bottom");ee(()=>t.expandOnHover&&t.rail!=null,()=>{Y(f,q=>b("update:rail",!q))}),ee(()=>!t.disableResizeWatcher,()=>{Y(C,q=>!t.permanent&&re(()=>P.value=!q))}),ee(()=>!t.disableRouteWatcher&&!!k,()=>{Y(k.currentRoute,()=>C.value&&(P.value=!1))}),Y(()=>t.permanent,q=>{q&&(P.value=!0)}),t.modelValue==null&&!C.value&&(P.value=t.permanent||!c.value);const{isDragging:T,dragProgress:h}=Qt({el:p,isActive:P,isTemporary:C,width:i,touchless:he(t,"touchless"),position:a}),O=E(()=>{const q=C.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):i.value;return T.value?q*h.value:q}),Ue=E(()=>["top","bottom"].includes(t.location)?0:i.value),{layoutItemStyles:ce,layoutItemScrimStyles:Ee}=rt({id:t.name,order:E(()=>parseInt(t.order,10)),position:a,layoutSize:O,elementSize:Ue,active:E(()=>P.value||T.value),disableTransitions:E(()=>T.value),absolute:E(()=>t.absolute||$.value&&typeof me.value!="string")}),{isStuck:me,stickyStyles:$e}=jt({rootEl:p,isSticky:$,layoutItemStyles:ce}),ve=ye(E(()=>typeof t.scrim=="string"?t.scrim:null)),Te=E(()=>({...T.value?{opacity:h.value*.2,transition:"none"}:void 0,...Ee.value}));return it({VList:{bgColor:"transparent"}}),ut(()=>{const q=l.image||t.image;return e(W,null,[e(t.tag,be({ref:p,onMouseenter:I,onMouseleave:A,class:["v-navigation-drawer",`v-navigation-drawer--${a.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":f.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":C.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":P.value,"v-navigation-drawer--sticky":$.value},n.value,w.value,y.value,_.value,V.value,s.value,t.class],style:[u.value,ce.value,D.value,$e.value,t.style,["top","bottom"].includes(a.value)?{height:"auto"}:{}]},M,d),{default:()=>{var fe,pe,ge;return[q&&e("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?e(dt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},l.image):e(Pe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),l.prepend&&e("div",{class:"v-navigation-drawer__prepend"},[(fe=l.prepend)==null?void 0:fe.call(l)]),e("div",{class:"v-navigation-drawer__content"},[(pe=l.default)==null?void 0:pe.call(l)]),l.append&&e("div",{class:"v-navigation-drawer__append"},[(ge=l.append)==null?void 0:ge.call(l)])]}}),e(ct,{name:"fade-transition"},{default:()=>[C.value&&(T.value||P.value)&&!!t.scrim&&e("div",be({class:["v-navigation-drawer__scrim",ve.backgroundColorClasses.value],style:[Te.value,ve.backgroundColorStyles.value],onClick:()=>{S.value||(P.value=!1)}},M),null)]})])}),{isStuck:me}}}),tl={__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","userData"],setup(t,{emit:g}){const d=t,b=g,l=x(!1),r=x(),n=x(""),y=x(""),w=x(""),u=x(""),V=x(),_=x(""),c=x(),s=x(),k=x(),P=()=>{b("update:isDrawerOpen",!1),re(()=>{var p,f;(p=r.value)==null||p.reset(),(f=r.value)==null||f.resetValidation()})},D=()=>{var p;(p=r.value)==null||p.validate().then(({valid:f})=>{f&&(b("userData",{id:0,fullName:n.value,company:u.value,role:c.value,country:V.value,contact:_.value,email:w.value,currentPlan:s.value,status:k.value,avatar:"",billing:"Auto Debit"}),b("update:isDrawerOpen",!1),re(()=>{var I,A;(I=r.value)==null||I.reset(),(A=r.value)==null||A.resetValidation()}))})},M=p=>{b("update:isDrawerOpen",p)};return(p,f)=>{const I=Yt,A=ie,i=Se;return B(),j(el,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":d.isDrawerOpen,"onUpdate:modelValue":M},{default:o(()=>[e(I,{title:"Add New User",onCancel:P}),e(De),e(m(ht),{options:{wheelPropagation:!1}},{default:o(()=>[e(G,{flat:""},{default:o(()=>[e(Z,null,{default:o(()=>[e(ke,{ref_key:"refForm",ref:r,modelValue:m(l),"onUpdate:modelValue":f[9]||(f[9]=a=>U(l)?l.value=a:null),onSubmit:mt(D,["prevent"])},{default:o(()=>[e(ae,null,{default:o(()=>[e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(n),"onUpdate:modelValue":f[0]||(f[0]=a=>U(n)?n.value=a:null),rules:["requiredValidator"in p?p.requiredValidator:m(F)],label:"Full Name",placeholder:"John Doe"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(y),"onUpdate:modelValue":f[1]||(f[1]=a=>U(y)?y.value=a:null),rules:["requiredValidator"in p?p.requiredValidator:m(F)],label:"Username",placeholder:"Johndoe"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(w),"onUpdate:modelValue":f[2]||(f[2]=a=>U(w)?w.value=a:null),rules:["requiredValidator"in p?p.requiredValidator:m(F),"emailValidator"in p?p.emailValidator:m(gt)],label:"Email",placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(u),"onUpdate:modelValue":f[3]||(f[3]=a=>U(u)?u.value=a:null),rules:["requiredValidator"in p?p.requiredValidator:m(F)],label:"Company",placeholder:"PixInvent"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(i,{modelValue:m(V),"onUpdate:modelValue":f[4]||(f[4]=a=>U(V)?V.value=a:null),label:"Select Country",placeholder:"Select Country",rules:["requiredValidator"in p?p.requiredValidator:m(F)],items:["USA","UK","India","Australia"]},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(_),"onUpdate:modelValue":f[5]||(f[5]=a=>U(_)?_.value=a:null),type:"number",rules:["requiredValidator"in p?p.requiredValidator:m(F)],label:"Contact",placeholder:"+1-541-754-3010"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(i,{modelValue:m(c),"onUpdate:modelValue":f[6]||(f[6]=a=>U(c)?c.value=a:null),label:"Select Role",placeholder:"Select Role",rules:["requiredValidator"in p?p.requiredValidator:m(F)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(i,{modelValue:m(s),"onUpdate:modelValue":f[7]||(f[7]=a=>U(s)?s.value=a:null),label:"Select Plan",placeholder:"Select Plan",rules:["requiredValidator"in p?p.requiredValidator:m(F)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(i,{modelValue:m(k),"onUpdate:modelValue":f[8]||(f[8]=a=>U(k)?k.value=a:null),label:"Select Status",placeholder:"Select Status",rules:["requiredValidator"in p?p.requiredValidator:m(F)],items:[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Pending",value:"pending"}]},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(Q,{type:"submit",class:"me-3"},{default:o(()=>f[10]||(f[10]=[z(" Submit ")])),_:1}),e(Q,{type:"reset",variant:"tonal",color:"error",onClick:P},{default:o(()=>f[11]||(f[11]=[z(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},ll={class:"d-flex gap-2 align-center"},al={class:"d-flex align-center flex-wrap gap-4"},ol={class:"d-flex align-center gap-x-4"},nl={key:1},sl={class:"d-flex flex-column"},rl={class:"text-base"},il={class:"text-sm"},ul={class:"d-flex align-center gap-x-2"},dl={class:"text-capitalize text-high-emphasis text-body-1"},cl={__name:"UserList",emits:["roles"],async setup(t,{emit:g}){let d,b;const l=x(""),r=x(),n=g,y=x(10),w=x(1),u=x("id"),V=x("ASC"),_=i=>{var a,S;i.sortBy.length&&(u.value=(a=i.sortBy[0])==null?void 0:a.key,V.value=(S=i.sortBy[0])==null?void 0:S.order)},c=[{title:"User",key:"user",sortable:!1},{title:"Role",key:"roles",sortable:!1},{title:"Created By",key:"created_by",sortable:!1},{title:"Updated By",key:"updated_by",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],{data:s,execute:k}=([d,b]=vt(()=>St(yt("/settings/users-roles",{query:{q:l,role_id:r,itemsPerPage:y,page:w,sortBy:u,orderBy:V}}))),d=await d,b(),d),P=E(()=>s.value.users.data),D=E(()=>s.value.users.total),M=E(()=>s.value.roles);n("roles",M.value);const p=i=>{if(!i)return{color:"primary",icon:"tabler-user"};const a=i.toLowerCase();return a==="administrator"?{color:"primary",icon:"tabler-user"}:a==="operator"?{color:"warning",icon:"tabler-settings"}:a==="koperasi"?{color:"success",icon:"tabler-chart-donut"}:a==="editor"?{color:"info",icon:"tabler-pencil"}:a==="admin"?{color:"error",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"}},f=x(!1),I=async i=>{await Ve("/apps/users",{method:"POST",body:i}),k()},A=async i=>{await Ve(`/apps/users/${i}`,{method:"DELETE"}),k()};return(i,a)=>{const S=Se,C=ie,$=ue("IconBtn"),T=Me;return B(),N("section",null,[e(G,null,{default:o(()=>[e(Z,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[v("div",ll,[a[7]||(a[7]=v("p",{class:"text-body-1 mb-0"}," Show ",-1)),e(S,{"model-value":m(y),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":a[0]||(a[0]=h=>y.value=parseInt(h,10))},null,8,["model-value"])]),e(de),v("div",al,[e(C,{modelValue:m(l),"onUpdate:modelValue":a[1]||(a[1]=h=>U(l)?l.value=h:null),placeholder:"Search User",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),e(S,{modelValue:m(r),"onUpdate:modelValue":a[2]||(a[2]=h=>U(r)?r.value=h:null),placeholder:"Select Role",items:m(M),"item-title":"display_name","item-value":"id",clearable:"","clear-icon":"tabler-x",style:{"inline-size":"10rem"}},null,8,["modelValue","items"])])]),_:1}),e(De),e(Ae,{"items-per-page":m(y),"onUpdate:itemsPerPage":a[4]||(a[4]=h=>U(y)?y.value=h:null),page:m(w),"onUpdate:page":a[5]||(a[5]=h=>U(w)?w.value=h:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:m(P),"items-length":m(D),headers:c,class:"text-no-wrap","onUpdate:options":_},{"item.user":o(({item:h})=>[v("div",ol,[e(te,{size:"34",variant:h.avatar?void 0:"tonal",color:h.avatar?void 0:"success"},{default:o(()=>[h.avatar?(B(),j(Pe,{key:0,src:h.avatar},null,8,["src"])):(B(),N("span",nl,L(("avatarText"in i?i.avatarText:m(pt))(h.name)),1))]),_:2},1032,["variant","color"]),v("div",sl,[v("h6",rl,L(h.name),1),v("div",il,L(h.email),1)])])]),"item.roles":o(({item:h})=>[v("div",ul,[(B(!0),N(W,null,le(h.roles,O=>(B(),N(W,null,[e(H,{size:22,icon:p(O.name).icon,color:p(O.name).color},null,8,["icon","color"]),v("div",dl,L(O.display_name),1)],64))),256))])]),"item.actions":o(({item:h})=>[e($,{onClick:O=>A(h.id)},{default:o(()=>[e(H,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),e($,null,{default:o(()=>[e(H,{icon:"tabler-eye"})]),_:1}),e(Q,{icon:"",variant:"text",color:"medium-emphasis"},{default:o(()=>[e(H,{icon:"tabler-dots-vertical"}),e(xt,{activator:"parent"},{default:o(()=>[e(kt,null,{default:o(()=>[e(ne,{to:{name:"apps-user-view-id",params:{id:h.id}}},{prepend:o(()=>[e(H,{icon:"tabler-eye"})]),default:o(()=>[e(se,null,{default:o(()=>a[8]||(a[8]=[z("View")])),_:1})]),_:2},1032,["to"]),e(ne,{link:""},{prepend:o(()=>[e(H,{icon:"tabler-pencil"})]),default:o(()=>[e(se,null,{default:o(()=>a[9]||(a[9]=[z("Edit")])),_:1})]),_:1}),e(ne,{onClick:O=>A(h.id)},{prepend:o(()=>[e(H,{icon:"tabler-trash"})]),default:o(()=>[e(se,null,{default:o(()=>a[10]||(a[10]=[z("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[e(T,{page:m(w),"onUpdate:page":a[3]||(a[3]=h=>U(w)?w.value=h:null),"items-per-page":m(y),"total-items":m(D)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),e(tl,{isDrawerOpen:m(f),"onUpdate:isDrawerOpen":a[6]||(a[6]=h=>U(f)?f.value=h:null),onUserData:I},null,8,["isDrawerOpen"])])}}},Nl={__name:"users-roles",setup(t){const g=x([]),d=b=>{g.value=b};return(b,l)=>(B(),j(ae,null,{default:o(()=>[e(R,{cols:"12"},{default:o(()=>l[0]||(l[0]=[v("h4",{class:"text-h4 mb-1"}," Roles List ",-1),v("p",{class:"text-body-1 mb-0"}," A role provided access to predefined menus and features so that depending on assigned role an administrator can have access to what he need ",-1)])),_:1}),e(R,{cols:"12"},{default:o(()=>[e(zt,{roles:m(g)},null,8,["roles"])]),_:1}),e(R,{cols:"12"},{default:o(()=>l[1]||(l[1]=[v("h4",{class:"text-h4 mb-1 mt-6"}," Total users with their roles ",-1),v("p",{class:"text-body-1 mb-0"}," Find all of your companyâ€™s administrator accounts and their associate roles. ",-1)])),_:1}),e(R,{cols:"12"},{default:o(()=>[e(cl,{onRoles:d})]),_:1})]),_:1}))}};export{Nl as default};
