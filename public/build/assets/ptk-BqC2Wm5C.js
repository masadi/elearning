import{a as X}from"./formatters-DULOiX1-.js";import{_ as Y}from"./ConfirmDialog-DR8kbf6E.js";import{_ as Z}from"./ShowAlert-Drovwkki.js";import{_ as ee}from"./RombelDetilDialog-7wfx_yJF.js";import{_ as te}from"./AddPtkDialog-C14tMR76.js";import{V as ae,_ as le}from"./VDataTableServer-ChrE0CS-.js";import{_ as oe}from"./AppTextField-BtZ6s5uj.js";import{_ as ie}from"./AppSelect-DeMMEKiH.js";import{u as se}from"./useApi-CkGLT1Ap.js";import{c as ne}from"./createUrl-tJf5FE1r.js";import{$ as re}from"./api-DOKPi02l.js";import{V as me}from"./VCard-D9Cry3-P.js";import{V as pe}from"./VCardText-RWvda3lS.js";import{V as ue}from"./VSpacer-CPX_omNB.js";import{r as i,m as de,n as y,j as ce,c as E,a as l,w as n,u as a,k as s,h as q,p as fe,e as ve,o as x,b as f,g as ge,f as j,V as $,t as C}from"./main-DU9EoqjC.js";import{V as _e}from"./VDivider-UhfOSXAm.js";import{V as ke}from"./VAvatar-Cwli2Xy-.js";import{V as Ve}from"./VImg-Df4Xo0t8.js";import"./VDialog-DyvuE7wz.js";import"./VOverlay-CZFZXewK.js";import"./forwardRefs-D9kYFWgq.js";import"./dialog-transition-C75lN6B9.js";import"./validators-BHkKs9Dp.js";import"./VToolbar-dfUwmN75.js";import"./VToolbarItems-DuTd-emE.js";import"./VForm-BR18QX3p.js";import"./VInput-Cba-K_ta.js";import"./VRow-DyuxuK6E.js";/* empty css              */import"./VAutocomplete-DZftX7Fb.js";import"./VTextField-DeclBAld.js";import"./VList-4TIhbJtc.js";import"./ssrBoot-T14GIqmt.js";import"./VMenu-u3uKUHdg.js";import"./VCheckboxBtn-Bo8SZWz6.js";import"./VSelectionControl-Dxa861c7.js";import"./VChip-DY3MPJQe.js";import"./VFileInput-CPWPTD7l.js";import"./index-BxkgbwWS.js";const be={class:"d-flex gap-2 align-center"},De={class:"d-flex align-center flex-wrap gap-4"},ye={class:"d-flex align-center gap-x-4"},xe={key:1},Ce={class:"d-flex flex-column"},he={class:"text-base"},dt={__name:"ptk",async setup(Ae){let v,w;const r=i({icon:null,title:null,text:null,color:null}),m=i(!1),g=i(""),p=i(10),u=i(1),B=i("created_at"),I=i("DESC"),z=o=>{var t,c;o.sortBy.length&&(B.value=(t=o.sortBy[0])==null?void 0:t.key,I.value=(c=o.sortBy[0])==null?void 0:c.order)},R=[{title:"nama",key:"nama",sortable:!1},{title:"jabatan",key:"jabatan",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],S=o=>{r.value=o,m.value=!0},{data:d,execute:T}=([v,w]=de(()=>se(ne("/table",{query:{data:"ptk",q:g,itemsPerPage:p,page:u,sortBy:B,orderBy:I}}))),v=await v,w(),v);d.value.color&&(r.value=d.value,m.value=!0);const F=y(()=>d.value.lists.data),N=y(()=>d.value.lists.total),h=y(()=>d.value.sekolah),A=y(()=>d.value.sekolah_id),_=i(!1),U=i(),k=i(),L=async o=>{U.value=o,k.value=!0},O=async o=>{o&&await re(`/admin/konten/destroy/ptk/${U.value}`,{method:"DELETE",onResponse({request:t,response:c,options:P}){let D=c._data;r.value=D,m.value=!0,U.value=null,T()}})},V=i(!1),b=i(),Q=async o=>{V.value=!0,b.value=o};return ce(m,()=>{m.value||T()}),(o,t)=>{const c=ie,P=oe,D=ve("IconBtn"),G=le,H=te,J=ee,K=Z,M=Y;return x(),E("section",null,[l(me,null,{default:n(()=>[l(pe,{class:"d-flex flex-wrap gap-4"},{default:n(()=>[f("div",be,[l(c,{"model-value":a(p),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=parseInt(e,10))},null,8,["model-value"])]),l(ue),f("div",De,[l(P,{modelValue:a(g),"onUpdate:modelValue":t[1]||(t[1]=e=>s(g)?g.value=e:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),l(ge,{onClick:t[2]||(t[2]=e=>_.value=!0)},{default:n(()=>[t[13]||(t[13]=j("Tambah ")),l($,{end:"",icon:"tabler-cloud-upload"})]),_:1})])]),_:1}),l(_e),l(ae,{"items-per-page":a(p),"onUpdate:itemsPerPage":t[4]||(t[4]=e=>s(p)?p.value=e:null),page:a(u),"onUpdate:page":t[5]||(t[5]=e=>s(u)?u.value=e:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:a(F),"items-length":a(N),headers:R,class:"text-no-wrap","onUpdate:options":z},{"item.nama":n(({item:e})=>[f("div",ye,[l(ke,{size:"34",variant:e.avatar?void 0:"tonal",color:e.avatar?void 0:"success"},{default:n(()=>[e.avatar?(x(),q(Ve,{key:0,src:e.avatar},null,8,["src"])):(x(),E("span",xe,C(("avatarText"in o?o.avatarText:a(X))(e.nama)),1))]),_:2},1032,["variant","color"]),f("div",Ce,[f("h6",he,C(e.nama),1)])])]),"item.ttl":n(({item:e})=>[j(C(e.tempat_lahir)+", "+C(new Date(e.tanggal_lahir).toLocaleString("id-ID",{hour12:!1,day:"numeric",month:"long",year:"numeric"})),1)]),"item.actions":n(({item:e})=>[l(D,{onClick:W=>L(e.ptk_id)},{default:n(()=>[l($,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),l(D,{onClick:W=>Q(e)},{default:n(()=>[l($,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:n(()=>[l(G,{page:a(u),"onUpdate:page":t[3]||(t[3]=e=>s(u)?u.value=e:null),"items-per-page":a(p),"total-items":a(N)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(H,{"is-dialog-visible":a(_),"onUpdate:isDialogVisible":t[6]||(t[6]=e=>s(_)?_.value=e:null),sekolah:a(h),"onUpdate:sekolah":t[7]||(t[7]=e=>s(h)?h.value=e:null),sekolahId:a(A),"onUpdate:sekolahId":t[8]||(t[8]=e=>s(A)?A.value=e:null),onNotif:S},null,8,["is-dialog-visible","sekolah","sekolahId"]),l(J,{"is-dialog-visible":a(V),"onUpdate:isDialogVisible":t[9]||(t[9]=e=>s(V)?V.value=e:null),"detil-data":a(b),"onUpdate:detilData":t[10]||(t[10]=e=>s(b)?b.value=e:null),onNotif:S},null,8,["is-dialog-visible","detil-data"]),a(r).color?(x(),q(K,{key:0,color:a(r).color,icon:a(r).icon,title:a(r).title,text:a(r).text,"disable-time-out":!1,isSnackbarVisible:a(m),"onUpdate:isSnackbarVisible":t[11]||(t[11]=e=>s(m)?m.value=e:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):fe("",!0),l(M,{isDialogVisible:a(k),"onUpdate:isDialogVisible":t[12]||(t[12]=e=>s(k)?k.value=e:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:O},null,8,["isDialogVisible"])])}}};export{dt as default};
