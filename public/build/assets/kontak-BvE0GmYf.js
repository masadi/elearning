import{_ as z}from"./ShowAlert-Cg3F41RQ.js";import{_ as ie}from"./TiptapEditor-BipHogxZ.js";import{r as n,m as H,n as B,j as se,q as re,o as x,c as h,a as l,w as o,b as q,u as a,i as u,g as K,e as F,l as E,t as ue,f as R,p as O,F as me,k as pe}from"./main-Bi0P3lZS.js";import{_ as de}from"./ConfirmDialog-H-1kLOL4.js";import{_ as ce}from"./LamanAddDialog-BTaLxUSs.js";import{V as fe,_ as ve}from"./VDataTableServer-sl7ZsVi6.js";import{_ as _e}from"./AppTextField-B4NcSBn2.js";import{_ as ge}from"./AppSelect-D2H60muZ.js";import{u as j}from"./useApi-_y6582vA.js";import{c as Q}from"./createUrl-CE3XZ36q.js";import{$ as G}from"./api-ehnqLLbI.js";import{V as J}from"./VCardText-DwrPo2X-.js";import{V as ke}from"./VSpacer-Dquy6qCE.js";import{V as Ve}from"./VDivider-Bwc6PuMb.js";import{V as W}from"./VCard-Bw6k2Hxc.js";import{V as be}from"./VForm-D2DvBk08.js";import{V as ye,a as I}from"./VRow-D3Lv8gN5.js";import"./VOverlay-D7PFdf4O.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-CLDn4hkn.js";import"./VDialog-CQ38Xxih.js";import"./dialog-transition-CtQil0h7.js";import"./validators-BHkKs9Dp.js";import"./vue-quill.esm-bundler-azXeM9U1.js";import"./_commonjsHelpers-Cpj98o6Y.js";/* empty css                       */import"./VToolbar-B2PIuHk6.js";import"./VToolbarItems-BmVT77Zy.js";import"./VAutocomplete-BxmFujrJ.js";import"./VTextField-65jj965c.js";import"./VInput-XTUR2lF6.js";import"./VList-mQrCPQ65.js";import"./ssrBoot-DGT_RCb2.js";import"./VAvatar-BtXZiViG.js";import"./VMenu-N42--TYy.js";import"./VCheckboxBtn-DxJQzt74.js";import"./VSelectionControl-kmX3cgIO.js";import"./VChip-JvctKD2v.js";import"./VFileInput-BYoMIlpB.js";import"./index-BxkgbwWS.js";/* empty css              */const De={class:"d-flex gap-2 align-center"},xe={class:"d-flex align-center flex-wrap gap-4"},we=["innerHTML"],L="kontak",Ce={__name:"Kontak",async setup(X){let v,w;const m=n({icon:null,title:null,text:null,color:null}),p=n(!1),b=n(""),r=n(10),d=n(1),_=n("created_at"),V=n("DESC"),N=s=>{var e,D;s.sortBy.length&&(_.value=(e=s.sortBy[0])==null?void 0:e.key,V.value=(D=s.sortBy[0])==null?void 0:D.order)},g=[{title:"sekolah",key:"sekolah",sortable:!1},{title:"deskripsi",key:"content",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],S=s=>{m.value=s,p.value=!0},{data:c,execute:i}=([v,w]=H(()=>j(Q("/table",{query:{data:L,q:b,itemsPerPage:r,page:d,sortBy:_,orderBy:V}}))),v=await v,w(),v);c.value.color&&(m.value=c.value,p.value=!0);const U=B(()=>c.value.lists.data),y=B(()=>c.value.lists.total),f=B(()=>c.value.sekolah),k=n(!1),P=n(),A=n(),Y=async s=>{P.value=s,A.value=!0},Z=async s=>{s&&await G(`/laman/destroy/${P.value}`,{method:"DELETE",onResponse({request:e,response:D,options:M}){let $=D._data;m.value=$,p.value=!0,P.value=null,i()}})},C=n(),ee=async s=>{k.value=!0,C.value=s},te=()=>{k.value=!0,C.value=null};return se(p,()=>{p.value||i()}),(s,e)=>{const D=ge,M=_e,$=re("IconBtn"),ae=ve,le=ce,oe=z,ne=de;return x(),h("section",null,[l(W,null,{default:o(()=>[l(J,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[q("div",De,[l(D,{"model-value":a(r),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=parseInt(t,10))},null,8,["model-value"])]),l(ke),q("div",xe,[l(M,{modelValue:a(b),"onUpdate:modelValue":e[1]||(e[1]=t=>u(b)?b.value=t:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),l(K,{onClick:te},{default:o(()=>[e[11]||(e[11]=F("Tambah ")),l(E,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),l(Ve),l(fe,{"items-per-page":a(r),"onUpdate:itemsPerPage":e[3]||(e[3]=t=>u(r)?r.value=t:null),page:a(d),"onUpdate:page":e[4]||(e[4]=t=>u(d)?d.value=t:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:a(U),"items-length":a(y),headers:g,class:"text-no-wrap","onUpdate:options":N},{"item.sekolah":o(({item:t})=>{var T;return[F(ue(((T=t.sekolah)==null?void 0:T.nama)??"-"),1)]}),"item.content":o(({item:t})=>[q("span",{innerHTML:t.content},null,8,we)]),"item.actions":o(({item:t})=>[l($,{onClick:T=>Y(t.id)},{default:o(()=>[l(E,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),l($,{onClick:T=>ee(t)},{default:o(()=>[l(E,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:o(()=>[l(ae,{page:a(d),"onUpdate:page":e[2]||(e[2]=t=>u(d)?d.value=t:null),"items-per-page":a(r),"total-items":a(y)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(le,{"is-dialog-visible":a(k),"onUpdate:isDialogVisible":e[5]||(e[5]=t=>u(k)?k.value=t:null),sekolah:a(f),"onUpdate:sekolah":e[6]||(e[6]=t=>u(f)?f.value=t:null),pageType:L,"onUpdate:pageType":e[7]||(e[7]=t=>L=t),"detil-data":a(C),"onUpdate:detilData":e[8]||(e[8]=t=>u(C)?C.value=t:null),onNotif:S},null,8,["is-dialog-visible","sekolah","detil-data"]),a(m).color?(x(),R(oe,{key:0,color:a(m).color,icon:a(m).icon,title:a(m).title,text:a(m).text,"disable-time-out":!1,isSnackbarVisible:a(p),"onUpdate:isSnackbarVisible":e[9]||(e[9]=t=>u(p)?p.value=t:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):O("",!0),l(ne,{isDialogVisible:a(A),"onUpdate:isDialogVisible":e[10]||(e[10]=t=>u(A)?A.value=t:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:Z},null,8,["isDialogVisible"])])}}},ct={__name:"kontak",async setup(X){var S;let v,w;const{data:m,execute:p}=([v,w]=H(()=>j(Q("/table",{query:{data:"kontak"}}))),v=await v,w(),v),b=B(()=>m.value),r=n(!1),d=n(),_=n({id:"",content:null});_.value.content=(S=b.value)==null?void 0:S.content;const V=n(!1),N=async()=>{var c;(c=d.value)==null||c.validate().then(async({valid:i})=>{i&&await G("/admin/laman/store",{method:"POST",body:{id:_.value.id,type:"kontak",content:_.value.content},onResponse({request:U,response:y,options:f}){let k=y._data;console.log(k),p(),g.value=k,V.value=!0}})})},g=n({icon:null,title:null,text:null,color:null});return(c,i)=>{const U=ie,y=z;return x(),h("section",null,[c.$can("create","laman-tentang-create")?(x(),h(me,{key:0},[l(W,null,{default:o(()=>[l(J,null,{default:o(()=>[l(be,{ref_key:"refForm",ref:d,modelValue:a(r),"onUpdate:modelValue":i[1]||(i[1]=f=>u(r)?r.value=f:null),onSubmit:pe(N,["prevent"])},{default:o(()=>[l(ye,null,{default:o(()=>[l(I,{cols:"12"},{default:o(()=>i[3]||(i[3]=[F("Deskripsi Laman Kontak")])),_:1}),l(I,{cols:"12"},{default:o(()=>[l(U,{modelValue:a(_).content,"onUpdate:modelValue":i[0]||(i[0]=f=>a(_).content=f),class:"border rounded basic-editor"},null,8,["modelValue"])]),_:1}),l(I,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[l(K,{type:"submit"},{default:o(()=>i[4]||(i[4]=[F(" Simpan ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(g).color?(x(),R(y,{key:0,color:a(g).color,icon:a(g).icon,title:a(g).title,text:a(g).text,"disable-time-out":!1,isSnackbarVisible:a(V),"onUpdate:isSnackbarVisible":i[2]||(i[2]=f=>u(V)?V.value=f:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):O("",!0)],64)):(x(),R(Ce,{key:1}))])}}};export{ct as default};
