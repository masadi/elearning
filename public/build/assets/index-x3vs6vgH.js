import{_ as H}from"./ConfirmDialog-zg29WUGu.js";import{_ as J}from"./ShowAlert-DMVySfvn.js";import{V as K,_ as M,a as W}from"./VDataTableServer-DRPcv6sf.js";import{_ as X}from"./AppTextField-Ct9D5HwN.js";import{u as Z}from"./useApi-C4SlCKRK.js";import{c as ee}from"./createUrl-947xzQg3.js";import{r as i,au as te,Y as S,w as ae,c as le,b as a,e as s,m as l,f as oe,a4 as d,y as ie,j as se,a as ne,o as U,d as h,a2 as re,t as D,$ as V,v as P}from"./main-CCs6bh3s.js";import{$ as me}from"./api-CCQ-3yc0.js";import{V as pe}from"./VCard-T2zrQbq8.js";import{V as ue}from"./VCardText-ZjZeaPvI.js";import{V as ce}from"./VSpacer-iypfABfZ.js";import{V as de}from"./VDivider-CaDdpO1D.js";import"./VDialog-MMYMBRvg.js";import"./VOverlay-CbalWj9L.js";import"./forwardRefs-DWGaNmQL.js";import"./VImg-CVm_ZQhA.js";import"./dialog-transition-BhkjpEgr.js";import"./VTextField-BaS9oZAw.js";import"./filter-DIHIEcpB.js";import"./VList-CmeArdoj.js";import"./VAvatar-pIOnFHia.js";import"./VMenu-r7Cn3oJn.js";import"./VCheckboxBtn-G6A6nYkI.js";import"./VChip-DeHB0WxW.js";import"./index-9rIf2CJL.js";/* empty css              */const fe={class:"d-flex gap-2 align-center"},ve={class:"d-flex align-center flex-wrap gap-4"},Oe={__name:"index",async setup(_e){let v,k;const r=i({icon:null,title:null,text:null,color:null}),m=i(!1),_=i(""),p=i(10),u=i(1),x=i("created_at"),C=i("DESC"),T=o=>{var t,c;o.sortBy.length&&(x.value=(t=o.sortBy[0])==null?void 0:t.key,C.value=(c=o.sortBy[0])==null?void 0:c.order)},E=[{title:"judul",key:"judul",sortable:!1},{title:"mapel",key:"mapel",sortable:!1},{title:"rombel",key:"rombel",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],{data:g,execute:$}=([v,k]=te(()=>Z(ee("/table",{query:{data:"materi-ajar",q:_,itemsPerPage:p,page:u,sortBy:x,orderBy:C}}))),v=await v,k(),v);g.value.color&&(r.value=g.value,m.value=!0);const I=S(()=>g.value.lists.data),j=S(()=>g.value.lists.total),w=se(),N=()=>{w.push({name:"materi-ajar-tambah"})},y=i(),b=i(),q=async o=>{y.value=o,b.value=!0},R=async o=>{o&&await me(`/referensi/destroy/materi-ajar/${y.value}`,{method:"DELETE",onResponse({request:t,response:c,options:A}){let f=c._data;r.value=f,m.value=!0,y.value=null,$()}})},z=i(!1);i(!1);const F=i(),L=async o=>{z.value=!0,F.value=o},O=async o=>{console.log(o),w.push(`/materi-ajar/${o}`)};return ae(m,()=>{m.value||$()}),(o,t)=>{const c=M,A=X,f=ne("IconBtn"),Q=W,Y=J,G=H;return U(),le("section",null,[a(pe,null,{default:s(()=>[a(ue,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[h("div",fe,[a(c,{"model-value":l(p),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=parseInt(e,10))},null,8,["model-value"])]),a(ce),h("div",ve,[a(A,{modelValue:l(_),"onUpdate:modelValue":t[1]||(t[1]=e=>d(_)?_.value=e:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),a(re,{onClick:N},{default:s(()=>[t[7]||(t[7]=D("Tambah ")),a(V,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),a(de),a(K,{"items-per-page":l(p),"onUpdate:itemsPerPage":t[3]||(t[3]=e=>d(p)?p.value=e:null),page:l(u),"onUpdate:page":t[4]||(t[4]=e=>d(u)?u.value=e:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:l(I),"items-length":l(j),headers:E,class:"text-no-wrap","onUpdate:options":T},{"item.mapel":s(({item:e})=>{var n;return[D(P((n=e.pembelajaran)==null?void 0:n.nama_mata_pelajaran),1)]}),"item.rombel":s(({item:e})=>{var n,B;return[D(P((B=(n=e.pembelajaran)==null?void 0:n.rombongan_belajar)==null?void 0:B.nama),1)]}),"item.actions":s(({item:e})=>[a(f,{onClick:n=>q(e.materi_ajar_id)},{default:s(()=>[a(V,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(f,{onClick:n=>L(e)},{default:s(()=>[a(V,{icon:"tabler-eye"})]),_:2},1032,["onClick"]),a(f,{onClick:n=>O(e.materi_ajar_id)},{default:s(()=>[a(V,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:s(()=>[a(Q,{page:l(u),"onUpdate:page":t[2]||(t[2]=e=>d(u)?u.value=e:null),"items-per-page":l(p),"total-items":l(j)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(r).color?(U(),oe(Y,{key:0,color:l(r).color,icon:l(r).icon,title:l(r).title,text:l(r).text,"disable-time-out":!1,isSnackbarVisible:l(m),"onUpdate:isSnackbarVisible":t[5]||(t[5]=e=>d(m)?m.value=e:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):ie("",!0),a(G,{isDialogVisible:l(b),"onUpdate:isDialogVisible":t[6]||(t[6]=e=>d(b)?b.value=e:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:R},null,8,["isDialogVisible"])])}}};export{Oe as default};
