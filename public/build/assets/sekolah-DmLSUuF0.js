import{_ as M}from"./AppTextField-fdFKOKnR.js";import{e as m,C as O,c,w as t,o as s,a as l,u as i,E as T,z as W,b as $,r as j,F as E,g as G,h as q,d as H,t as P,f as J}from"./main-Cil2oFi6.js";import{_ as Q}from"./ShowAlert-BwJ6UgjM.js";import{$ as X}from"./api-FDc66QF5.js";import{u as Y}from"./useApi-C-WB-cdq.js";import{c as Z}from"./createUrl-C4deJt8M.js";import{r,e as ee}from"./validators-BHkKs9Dp.js";import{V as ae}from"./VCard-CygudIIB.js";import{V as te}from"./VForm-HdFQSpFB.js";import{V as R,a as v}from"./VRow-DZ_82MUK.js";import{V as le}from"./VCardText-DKRhATnr.js";import{V as oe}from"./VFileInput-BC-CAav_.js";import"./VTextField-CNQ3v2C7.js";import"./VImg-Baipda1G.js";import"./forwardRefs-D9kYFWgq.js";import"./VOverlay-BrTfMVC0.js";import"./scopeId-CtoDH336.js";import"./index-BxkgbwWS.js";import"./VAvatar-CiVd_opC.js";/* empty css              */import"./VChip-Dh3P74JH.js";import"./VSlideGroup-L4ZeHGL_.js";const re=["for"],Ue={__name:"sekolah",async setup(ie){var w,x,S,y,g,F,D,N,C,U,A,B,K;let p,_;const h=m(!1),k=m(),u=m({icon:null,title:null,text:null,color:null}),f=m(!1),I=()=>{var V;(V=k.value)==null||V.validate().then(async({valid:o})=>{if(o){const n=new FormData;n.append("data","sekolah"),b.value.forEach(e=>{n.append(e.id,e.value?e.value:"")}),await X("/referensi/store",{method:"POST",body:n,onResponse({request:e,response:d,options:se}){let z=d._data;u.value=z,f.value=!0,L()}})}})},{data:a,execute:L}=([p,_]=O(()=>Y(Z("/referensi",{query:{data:"sekolah"}}))),p=await p,_(),p),b=m([{id:"sekolah_id",title:"ID Sekolah",show:!1,value:(w=a.value)==null?void 0:w.sekolah_id},{id:"nama",title:"Nama Sekolah",show:!0,value:(x=a.value)==null?void 0:x.nama,rules:[r]},{id:"npsn",title:"NPSN",show:!0,value:(S=a.value)==null?void 0:S.npsn,rules:[r]},{id:"alamat",title:"Alamat",show:!0,value:(y=a.value)==null?void 0:y.alamat,rules:[r]},{id:"desa_kelurahan",title:"Desa/Kelurahan",show:!0,value:(g=a.value)==null?void 0:g.desa_kelurahan,rules:[r]},{id:"kecamatan",title:"Kecamatan",show:!0,value:(F=a.value)==null?void 0:F.kecamatan,rules:[r]},{id:"kabupaten",title:"Kabupaten/Kota",show:!0,value:(D=a.value)==null?void 0:D.kabupaten,rules:[r]},{id:"provinsi",title:"Provinsi",show:!0,value:(N=a.value)==null?void 0:N.provinsi,rules:[r]},{id:"kodepos",title:"Kodepos",show:!0,value:(C=a.value)==null?void 0:C.kodepos},{id:"telpon",title:"Nomor Telepon",show:!0,value:(U=a.value)==null?void 0:U.telpon},{id:"fax",title:"Nomor Fax",show:!0,value:(A=a.value)==null?void 0:A.fax},{id:"email",title:"Email",show:!0,value:(B=a.value)==null?void 0:B.email,rules:[r,ee]},{id:"website",title:"Website",show:!0,value:(K=a.value)==null?void 0:K.website},{id:"logo",title:"Logo Sekolah",show:!0,value:null,file:!0}]);return(V,o)=>{const n=M;return s(),c(ae,{title:"Data Sekolah"},{default:t(()=>[l(le,null,{default:t(()=>[l(te,{ref_key:"refForm",ref:k,modelValue:i(h),"onUpdate:modelValue":o[0]||(o[0]=e=>T(h)?h.value=e:null),onSubmit:W(I,["prevent"])},{default:t(()=>[l(R,null,{default:t(()=>[(s(!0),$(E,null,j(i(b),e=>(s(),$(E,null,[e.show?(s(),c(v,{key:0,cols:"12"},{default:t(()=>[l(R,null,{default:t(()=>[l(v,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:t(()=>[H("label",{class:"v-label text-body-2 text-high-emphasis",for:`app-text-field-${e.id}`},P(e.title),9,re)]),_:2},1024),l(v,{cols:"12",md:"9"},{default:t(()=>[e.file?(s(),c(oe,{key:0,accept:"image/*",modelValue:e.value,"onUpdate:modelValue":d=>e.value=d,id:e.id,label:e.title},null,8,["modelValue","onUpdate:modelValue","id","label"])):(s(),c(n,{key:1,id:e.id,modelValue:e.value,"onUpdate:modelValue":d=>e.value=d,rules:e.rules},{label:t(()=>[q(P(e.title),1)]),_:2},1032,["id","modelValue","onUpdate:modelValue","rules"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)):J("",!0)],64))),256)),l(v,{"offset-md":"3",cols:"12",md:"9",class:"d-flex gap-4"},{default:t(()=>[l(G,{type:"submit"},{default:t(()=>o[2]||(o[2]=[q("Submit")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Q,{color:i(u).color,icon:i(u).icon,title:i(u).title,text:i(u).text,"disable-time-out":!1,isSnackbarVisible:i(f),"onUpdate:isSnackbarVisible":o[1]||(o[1]=e=>T(f)?f.value=e:null)},null,8,["color","icon","title","text","isSnackbarVisible"])]),_:1})}}};export{Ue as default};
