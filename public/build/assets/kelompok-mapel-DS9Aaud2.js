import{_ as ae}from"./ConfirmDialog-Bs3oWyL0.js";import{_ as le}from"./ShowAlert-CKivWfms.js";import{r as oe}from"./validators-BHkKs9Dp.js";import{r as s,j as R,o as q,f as K,w as o,a as e,u as l,k as ie,b as $,g as j,e as O,m as se,n as B,c as ne,i as f,p as re,q as ue,l as I}from"./main-DvRLx4Ig.js";import{_ as z}from"./AppTextField-lbZ9f4rW.js";import{$ as L}from"./api-UL3iJM2A.js";import{V as M}from"./VCard-iCYjdUP9.js";import{V as de}from"./VForm-CwZEEFWs.js";import{V as T}from"./VCardText-DAL9ICqB.js";import{V as E,a as S}from"./VRow-DDxWiGdz.js";import{V as me}from"./VDialog-BPESWjhC.js";import{V as pe,_ as fe}from"./VDataTableServer-D48BRQkP.js";import{_ as ce}from"./AppSelect-CdmCODd8.js";import{u as ve}from"./useApi-BLTIwBuO.js";import{c as Ve}from"./createUrl-DNGgqCF6.js";import{V as ge}from"./VSpacer-CgmCCiSR.js";import{V as ke}from"./VDivider-c0zZR8ME.js";import"./VOverlay-DhYNcnby.js";import"./forwardRefs-D3j0TLhE.js";import"./VImg-Dj9O1LRE.js";import"./VInput-CbA2tey_.js";import"./VTextField-nPqlM38f.js";import"./index-BxkgbwWS.js";import"./VAvatar-BySErY85.js";/* empty css              */import"./dialog-transition-W1zkv_z1.js";import"./VCheckboxBtn-DYpeSHmB.js";import"./VSelectionControl-MYtKOIcR.js";import"./VChip-cgkimzNZ.js";import"./VList-D1XIPH70.js";import"./ssrBoot-BEsgioc-.js";import"./VMenu-COwqqN9u.js";const _e={__name:"AddKelompokDialog",props:{isDialogVisible:{type:Boolean,required:!0},sekolahId:{type:String,required:!0},detilData:{type:Object,required:!1,default:null}},emits:["update:isDialogVisible","notif"],setup(N,{emit:g}){const n=N,d=g,m=s(!1),v=s(),i=s({data:"kelompok",id:null,sekolah_id:n.sekolahId,nama:null}),p=async()=>{var c;(c=v.value)==null||c.validate().then(async({valid:r})=>{r&&await L("/induk/store",{method:"POST",body:i.value,onResponse({request:x,response:V,options:k}){let w=V._data;d("notif",w),b()}})})},b=()=>{d("update:isDialogVisible",!1),i.value={data:"kelompok",id:null,sekolah_id:n.sekolahId,nama:null}};return R(n,async()=>{n.isDialogVisible&&n.detilData&&(i.value={data:"kelompok",id:n.detilData.id,sekolah_id:n.detilData.sekolah_id,nama:n.detilData.nama})}),(c,r)=>{const x=z;return q(),K(me,{width:"500","model-value":n.isDialogVisible,"onUpdate:modelValue":b},{default:o(()=>[e(M,{title:i.value.id?"Edit Kelompok":"Tambah Kelompok"},{default:o(()=>[e(l(de),{ref_key:"refForm",ref:v,modelValue:m.value,"onUpdate:modelValue":r[1]||(r[1]=V=>m.value=V),onSubmit:ie(p,["prevent"])},{default:o(()=>[e(T,null,{default:o(()=>[e(E,null,{default:o(()=>[e(S,{cols:"12"},{default:o(()=>[e(E,{"no-gutters":""},{default:o(()=>[e(S,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>r[2]||(r[2]=[$("label",{class:"v-label text-body-2 text-high-emphasis",for:"nama"},"Nama",-1)])),_:1}),e(S,{cols:"12",md:"9"},{default:o(()=>[e(x,{id:"nama",modelValue:i.value.nama,"onUpdate:modelValue":r[0]||(r[0]=V=>i.value.nama=V),rules:["requiredValidator"in c?c.requiredValidator:l(oe)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(T,{class:"d-flex justify-end"},{default:o(()=>[e(j,{type:"submit"},{default:o(()=>r[3]||(r[3]=[O(" Simpan ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title"])]),_:1},8,["model-value"])}}},be={class:"d-flex gap-2 align-center"},De={class:"d-flex align-center flex-wrap gap-4"},et={__name:"kelompok-mapel",async setup(N){let g,n;const d=s({icon:null,title:null,text:null,color:null}),m=s(!1),v=s(""),i=s(10),p=s(1),b=s("id"),c=s("ASC"),r=u=>{var t,_;u.sortBy.length&&(b.value=(t=u.sortBy[0])==null?void 0:t.key,c.value=(_=u.sortBy[0])==null?void 0:_.order)},x=[{title:"ID",key:"id"},{title:"nama",key:"nama"},{title:"Actions",key:"actions",align:"center",sortable:!1}],V=u=>{d.value=u,m.value=!0},{data:k,execute:w}=([g,n]=se(()=>ve(Ve("/induk",{query:{data:"kelompok",q:v,itemsPerPage:i,page:p,sortBy:b,orderBy:c}}))),g=await g,n(),g);k.value.color&&(d.value=k.value,m.value=!0);const Q=B(()=>k.value.lists.data),P=B(()=>k.value.lists.total),U=B(()=>k.value.sekolah_id),D=s(!1),h=s(),C=s(),G=async u=>{h.value=u.id,C.value=!0},H=async u=>{u&&await L(`/induk/destroy/kelompok/${h.value}`,{method:"DELETE",onResponse({request:t,response:_,options:F}){let A=_._data;d.value=A,m.value=!0,h.value=null,w()}})},y=s(),J=async u=>{D.value=!0,y.value=u};R(m,()=>{m.value||w()});const W=()=>{D.value=!0,y.value=null};return(u,t)=>{const _=ce,F=z,A=ue("IconBtn"),X=fe,Y=_e,Z=le,ee=ae;return q(),ne("section",null,[e(M,null,{default:o(()=>[e(T,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[$("div",be,[e(_,{"model-value":l(i),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":t[0]||(t[0]=a=>i.value=parseInt(a,10))},null,8,["model-value"])]),e(ge),$("div",De,[e(F,{modelValue:l(v),"onUpdate:modelValue":t[1]||(t[1]=a=>f(v)?v.value=a:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),e(j,{onClick:W},{default:o(()=>[t[10]||(t[10]=O("Tambah ")),e(I,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),e(ke),e(pe,{"items-per-page":l(i),"onUpdate:itemsPerPage":t[3]||(t[3]=a=>f(i)?i.value=a:null),page:l(p),"onUpdate:page":t[4]||(t[4]=a=>f(p)?p.value=a:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:l(Q),"items-length":l(P),headers:x,class:"text-no-wrap","onUpdate:options":r},{"item.actions":o(({item:a})=>[e(A,{onClick:te=>G(a)},{default:o(()=>[e(I,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),e(A,{onClick:te=>J(a)},{default:o(()=>[e(I,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:o(()=>[e(X,{page:l(p),"onUpdate:page":t[2]||(t[2]=a=>f(p)?p.value=a:null),"items-per-page":l(i),"total-items":l(P)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),e(Y,{"is-dialog-visible":l(D),"onUpdate:isDialogVisible":t[5]||(t[5]=a=>f(D)?D.value=a:null),onNotif:V,sekolahId:l(U),"onUpdate:sekolahId":t[6]||(t[6]=a=>f(U)?U.value=a:null),"detil-data":l(y),"onUpdate:detilData":t[7]||(t[7]=a=>f(y)?y.value=a:null)},null,8,["is-dialog-visible","sekolahId","detil-data"]),l(d).color?(q(),K(Z,{key:0,color:l(d).color,icon:l(d).icon,title:l(d).title,text:l(d).text,"disable-time-out":!1,isSnackbarVisible:l(m),"onUpdate:isSnackbarVisible":t[8]||(t[8]=a=>f(m)?m.value=a:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):re("",!0),e(ee,{isDialogVisible:l(C),"onUpdate:isDialogVisible":t[9]||(t[9]=a=>f(C)?C.value=a:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:H},null,8,["isDialogVisible"])])}}};export{et as default};
