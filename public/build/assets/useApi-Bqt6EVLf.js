import{bV as c,S as r,aS as n}from"./main-yvfEIIW0.js";const u=c({baseUrl:"/api",fetchOptions:{headers:{Accept:"application/json"}},options:{refetch:!0,async beforeFetch({options:e}){const a=r("accessToken").value;return a&&(e.headers={...e.headers,Authorization:`Bearer ${a}`}),{options:e}},afterFetch(e){const{data:a,response:t}=e;let s=null;try{s=n(a)}catch(o){console.error(o)}return{data:s,response:t}},onFetchError({error:e,data:a,response:t,context:s,execute:o}){t.status===401&&(r("userAbilityRules").value=null,r("userData").value=null,r("accessToken").value=null,window.location.replace("/login"))}}});export{u};
