import{_ as H}from"./ConfirmDialog-BNdA4JEi.js";import{_ as L}from"./ShowAlert-Dgzp-fwN.js";import{V as O,_ as Q,a as J}from"./VDataTableServer-KUOQx9te.js";import{_ as K}from"./AppTextField-Yfhn75ni.js";import{e as l,C as W,m as U,D as X,b as Y,a as t,w as s,u as o,c as Z,E as d,f as ee,x as te,v as ae,G as oe,o as h,d as S,g as ie,h as b,V as y}from"./main-B--MaLao.js";import{u as le}from"./useApi-BLSf83_g.js";import{c as se}from"./createUrl-r0gk8Zvk.js";import{$ as ne}from"./api-DrFecbiq.js";import{V as re}from"./VCard-I1hBMPT1.js";import{V as me}from"./VCardText-BZ-zpTxz.js";import{V as pe}from"./VSpacer-COWFnrdV.js";import{V as ue}from"./VDivider-Ck8r0B3o.js";import{V as T}from"./VTooltip-BVp1EZAt.js";import"./VDialog-DPV_UODU.js";import"./VOverlay-D-48mRSr.js";import"./forwardRefs-D9kYFWgq.js";import"./scopeId--nkFgluD.js";import"./VImg-CmpFJ8_S.js";import"./dialog-transition-CpAceuua.js";import"./VTextField-DQjSgTVi.js";import"./VList-CAcweDHT.js";import"./ssrBoot-DM-RD6EC.js";import"./VAvatar-CUeGXikX.js";import"./VMenu-Cb2D22md.js";import"./VCheckboxBtn-JLe00eBs.js";import"./VChip-pvUrpx3L.js";import"./VSlideGroup-DVO23krX.js";import"./index-BxkgbwWS.js";/* empty css              */const de={class:"d-flex gap-2 align-center"},ce={class:"d-flex align-center flex-wrap gap-4"},He={__name:"[id]",async setup(fe){let c,k;const n=l({icon:null,title:null,text:null,color:null}),r=l(!1),f=l(""),m=l(10),p=l(1),x=l("created_at"),C=l("DESC"),E=i=>{var e,u;i.sortBy.length&&(x.value=(e=i.sortBy[0])==null?void 0:e.key,C.value=(u=i.sortBy[0])==null?void 0:u.order)},P=[{title:"judul",key:"judul",sortable:!1},{title:"jml dokumen",key:"dokumen_count",align:"center",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],D=te(),w=ae(),{data:v,execute:A}=([c,k]=W(()=>le(se("/table",{query:{data:"materi-sesi",sesi_latihan_id:w.params.id,q:f,itemsPerPage:m,page:p,sortBy:x,orderBy:C}}))),c=await c,k(),c);v.value.color&&(n.value=v.value,r.value=!0);const I=U(()=>v.value.lists.data),B=U(()=>v.value.lists.total),N=()=>{D.push({name:"pelatihan-sesi-materi-tambah-id",params:{id:w.params.id}})},V=l(),_=l(),q=async i=>{V.value=i,_.value=!0},R=async i=>{i&&await ne(`/referensi/destroy/materi-sesi/${V.value}`,{method:"DELETE",onResponse({request:e,response:u,options:$}){let g=u._data;n.value=g,r.value=!0,V.value=null,A()}})},j=async i=>{D.push({name:"pelatihan-sesi-materi-edit-id",params:{id:i}})};return X(r,()=>{r.value||A()}),(i,e)=>{const u=Q,$=K,g=oe("IconBtn"),z=J,F=L,M=H;return h(),Y("section",null,[t(re,null,{default:s(()=>[t(me,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[S("div",de,[t(u,{"model-value":o(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=parseInt(a,10))},null,8,["model-value"])]),t(pe),S("div",ce,[t($,{modelValue:o(f),"onUpdate:modelValue":e[1]||(e[1]=a=>d(f)?f.value=a:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),t(ie,{onClick:N},{default:s(()=>[e[7]||(e[7]=b("Tambah ")),t(y,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),t(ue),t(O,{"items-per-page":o(m),"onUpdate:itemsPerPage":e[3]||(e[3]=a=>d(m)?m.value=a:null),page:o(p),"onUpdate:page":e[4]||(e[4]=a=>d(p)?p.value=a:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:o(I),"items-length":o(B),headers:P,class:"text-no-wrap","onUpdate:options":E},{"item.actions":s(({item:a})=>[t(g,{onClick:G=>j(a.materi_sesi_id)},{default:s(()=>[t(T,{activator:"parent",location:"top"},{default:s(()=>e[8]||(e[8]=[b("Edit Materi")])),_:1}),t(y,{icon:"tabler-pencil"})]),_:2},1032,["onClick"]),t(g,{onClick:G=>q(a.materi_sesi_id)},{default:s(()=>[t(T,{activator:"parent",location:"top"},{default:s(()=>e[9]||(e[9]=[b("Hapus Materi")])),_:1}),t(y,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),bottom:s(()=>[t(z,{page:o(p),"onUpdate:page":e[2]||(e[2]=a=>d(p)?p.value=a:null),"items-per-page":o(m),"total-items":o(B)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),o(n).color?(h(),Z(F,{key:0,color:o(n).color,icon:o(n).icon,title:o(n).title,text:o(n).text,"disable-time-out":!1,isSnackbarVisible:o(r),"onUpdate:isSnackbarVisible":e[5]||(e[5]=a=>d(r)?r.value=a:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):ee("",!0),t(M,{isDialogVisible:o(_),"onUpdate:isDialogVisible":e[6]||(e[6]=a=>d(_)?_.value=a:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:R},null,8,["isDialogVisible"])])}}};export{He as default};
