import{_ as D}from"./AppTextField-BWEo2gMO.js";import{Q as U,R as j,S as M,T as $,U as q,n as E,W as N,B as G,a as s,G as _,r as p,c as Y,b as i,u as a,t as H,w as l,F as K,s as O,X as Q,o as W,Y as C,k as X,g as Z,e as z,Z as w,y as J}from"./main-d0O9RrnC.js";import{u as I}from"./useGenerateImageVariant-B3Pn4YVm.js";import{m as ee,a as se}from"./misc-mask-light-Bi5cOsdU.js";import{V as ae}from"./VNodeRenderer-Du4MWTnQ.js";import{u as te}from"./useAbility-CPIGKIDo.js";import{$ as oe}from"./api-yTs_8ZfC.js";import{V as P,a as g}from"./VRow-uCQKNGfY.js";import{V as le}from"./VImg-BB0Kd_tc.js";import{V as re}from"./VCard-BrjzGShK.js";import{V as A}from"./VCardText-VA2RUaCX.js";import{V as ie}from"./VForm-B-3FSjbE.js";import{m as ne,V as R}from"./VCheckboxBtn-BFtKVY-h.js";import{m as ue,u as de,V as F}from"./VInput-BEhJ9oup.js";import"./VTextField-jPFk7Aus.js";import"./forwardRefs-D9kYFWgq.js";import"./index-BxkgbwWS.js";/* empty css              */import"./VAvatar-j66MjQkh.js";import"./VSelectionControl-wqXja9oo.js";const me=U({...ue(),...j(ne(),["inline"])},"VCheckbox"),ce=M()({name:"VCheckbox",inheritAttrs:!1,props:me(),emits:{"update:modelValue":r=>!0,"update:focused":r=>!0},setup(r,V){let{attrs:h,slots:m}=V;const t=$(r,"modelValue"),{isFocused:f,focus:b,blur:v}=de(r),c=q(),d=E(()=>r.id||`checkbox-${c}`);return N(()=>{const[k,x]=G(h),n=F.filterProps(r),e=R.filterProps(r);return s(F,_({class:["v-checkbox",r.class]},k,n,{modelValue:t.value,"onUpdate:modelValue":u=>t.value=u,id:d.value,focused:f.value,style:r.style}),{...m,default:u=>{let{id:o,messagesId:y,isDisabled:B,isReadonly:T,isValid:L}=u;return s(R,_(e,{id:o.value,"aria-describedby":y.value,disabled:B.value,readonly:T.value},x,{error:L.value===!1,modelValue:t.value,"onUpdate:modelValue":S=>t.value=S,onFocus:b,onBlur:v}),m)}})}),{}}}),pe="/build/assets/auth-v2-login-illustration-bordered-dark-cDkPk8mY.png",fe="/build/assets/auth-v2-login-illustration-bordered-light-CIHqcIVA.png",ge="/build/assets/auth-v2-login-illustration-dark-ClExSVqL.png",Ve="/build/assets/auth-v2-login-illustration-light-C4sKfRS1.png",he={href:"javascript:void(0)"},be={class:"auth-logo d-flex align-center gap-x-3"},ve={class:"auth-title"},ke={class:"position-relative bg-background w-100 me-0"},xe={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},ye=["src"],we={class:"d-flex align-center flex-wrap justify-space-between my-6"},Ye={__name:"login",setup(r){const V=I(Ve,ge,fe,pe,!0),h=I(se,ee),m=p(),t=p({email:"",password:"",remember:!1}),f=O(),b=Q(),v=te(),c=p({email:void 0,password:void 0});p(!1);const d=p(!1),k=async()=>{try{const n=await oe("/auth/login",{method:"POST",body:{email:t.value.email,password:t.value.password},onResponseError({response:y}){c.value=y._data.errors}}),{accessToken:e,userData:u,userAbilityRules:o}=n;w("userAbilityRules").value=o,v.update(o),w("userData").value=u,w("accessToken").value=e,await J(()=>{b.replace(f.query.to?String(f.query.to):"/dashboard")})}catch(n){console.error(n)}},x=()=>{var n;(n=m.value)==null||n.validate().then(({valid:e})=>{e&&k()})};return(n,e)=>{const u=D;return W(),Y(K,null,[i("a",he,[i("div",be,[s(a(ae),{nodes:a(C).app.logo},null,8,["nodes"]),i("h1",ve,H(a(C).app.title),1)])]),s(P,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:l(()=>[s(g,{md:"8",class:"d-none d-md-flex"},{default:l(()=>[i("div",ke,[i("div",xe,[s(le,{"max-width":"613",src:a(V),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),i("img",{class:"auth-footer-mask flip-in-rtl",src:a(h),alt:"auth-footer-mask",height:"280",width:"100"},null,8,ye)])]),_:1}),s(g,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:l(()=>[s(re,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:l(()=>[s(A,null,{default:l(()=>e[4]||(e[4]=[i("h4",{class:"text-h4 mb-1"}," Admin Area ",-1),i("p",{class:"mb-0"}," Silahkan login untuk dapat mengakses Admin Area ",-1)])),_:1}),s(A,null,{default:l(()=>[s(ie,{ref_key:"refVForm",ref:m,onSubmit:X(x,["prevent"])},{default:l(()=>[s(P,null,{default:l(()=>[s(g,{cols:"12"},{default:l(()=>[s(u,{modelValue:a(t).email,"onUpdate:modelValue":e[0]||(e[0]=o=>a(t).email=o),"error-messages":a(c).email,autofocus:"",label:"Email",type:"email",placeholder:"email.anda@email.com"},null,8,["modelValue","error-messages"])]),_:1}),s(g,{cols:"12"},{default:l(()=>[s(u,{modelValue:a(t).password,"onUpdate:modelValue":e[1]||(e[1]=o=>a(t).password=o),"error-messages":a(c).password,label:"Password",placeholder:"············",type:a(d)?"text":"password",autocomplete:"password","append-inner-icon":a(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=o=>d.value=!a(d))},null,8,["modelValue","error-messages","type","append-inner-icon"]),i("div",we,[s(ce,{modelValue:a(t).remember,"onUpdate:modelValue":e[3]||(e[3]=o=>a(t).remember=o),label:"Remember me"},null,8,["modelValue"]),e[5]||(e[5]=i("a",{class:"text-primary",href:"javascript:void(0)"}," Forgot Password? ",-1))]),s(Z,{block:"",type:"submit"},{default:l(()=>e[6]||(e[6]=[z(" Login ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Ye as default};
