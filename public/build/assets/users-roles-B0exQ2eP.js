import{V as Se,_ as ue}from"./VForm-Bxek04Ew.js";import{a as oe,o as T,c as N,d as v,v as L,b as e,z as Te,e as o,$ as O,aA as Z,Y as B,aD as Re,G as ke,w as Y,aW as xe,aX as Ae,aL as ee,aR as Me,aP as qe,a5 as Ie,au as Ne,ad as ze,aY as Oe,av as Le,aZ as Fe,aj as He,ae as Ye,ak as je,a7 as We,az as Xe,ay as Ze,aw as Ge,al as ye,Z as he,ax as Je,a_ as Ke,am as Qe,a$ as et,a8 as tt,r as x,b0 as lt,b1 as at,aB as ot,aa as nt,q as be,aC as st,T as rt,F as W,as as ie,f as j,m,a4 as U,h as le,a2 as J,t as F,y as ne,a1 as it,aG as ut}from"./main-_UyDX1Cm.js";import{V as K}from"./VCard-CKWvZIKx.js";import{V as G}from"./VCardText-7-DnPdVV.js";import{V as dt,_ as Ce,a as ct,b as mt}from"./VDataTableServer-fkvCDuo6.js";import{V as Q}from"./VCheckbox-B9Dtv74t.js";import{V as vt}from"./VDialog-BgT1kxRe.js";import{a as R,V as ae}from"./VRow-BB241du2.js";import{V as de}from"./VSpacer-UaxfONkg.js";import{V as te}from"./VAvatar-D8tbOhAm.js";import{a as ft}from"./formatters-DULOiX1-.js";import{r as H,e as pt}from"./validators-BHkKs9Dp.js";import{C as gt}from"./vue3-perfect-scrollbar-DJIaiEaZ.js";import{V as De}from"./VDivider-DJ8g7OsM.js";import{a as yt,u as ht,b as bt}from"./VOverlay-D9a2737b.js";import{u as Vt,V as wt,a as se,b as re}from"./VList-BdIzbkm7.js";import{V as Pe}from"./VImg-DAW1K8Z2.js";import{u as _t}from"./useApi-BhdzjlcJ.js";import{c as St}from"./createUrl-DM-zlvbG.js";import{$ as Ve}from"./api-CKhmVwiM.js";import{V as kt}from"./VMenu-B8GGlsQ2.js";import"./VTextField-Lxk1KEOO.js";import"./forwardRefs-DWGaNmQL.js";import"./dialog-transition-8vxjWSAI.js";import"./VCheckboxBtn-C0oovqs5.js";import"./VChip-E_4suFIj.js";/* empty css              */import"./index-9rIf2CJL.js";const xt={class:"pa-6 d-flex align-center"},Ct={class:"text-h5"},Dt={__name:"AppDrawerHeaderSection",props:{title:{type:String,required:!0}},emits:["cancel"],setup(t,{emit:g}){const u=t;return(y,l)=>{const r=oe("IconBtn");return T(),N("div",xt,[v("h5",Ct,L(u.title),1),e(de),Te(y.$slots,"beforeClose"),e(r,{size:"small",onClick:l[0]||(l[0]=n=>y.$emit("cancel",n))},{default:o(()=>[e(O,{size:"24",icon:"tabler-x"})]),_:1})])}}};function Pt(t){let{rootEl:g,isSticky:u,layoutItemStyles:y}=t;const l=Z(!1),r=Z(0),n=B(()=>{const d=typeof l.value=="boolean"?"top":l.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[d]:Re(r.value)}:{top:y.value.top}]});ke(()=>{Y(u,d=>{d?window.addEventListener("scroll",w,{passive:!0}):window.removeEventListener("scroll",w)},{immediate:!0})}),xe(()=>{window.removeEventListener("scroll",w)});let h=0;function w(){const d=h>window.scrollY?"up":"down",V=g.value.getBoundingClientRect(),_=parseFloat(y.value.top??0),c=window.scrollY-Math.max(0,r.value-_),s=V.height+Math.max(r.value,_)-window.scrollY-window.innerHeight,S=parseFloat(getComputedStyle(g.value).getPropertyValue("--v-body-scroll-y"))||0;V.height<window.innerHeight-_?(l.value="top",r.value=_):d==="up"&&l.value==="bottom"||d==="down"&&l.value==="top"?(r.value=window.scrollY+V.top-S,l.value=!0):d==="down"&&s<=0?(r.value=0,l.value="bottom"):d==="up"&&c<=0&&(S?l.value!=="top"&&(r.value=-c+S+_,l.value="top"):(r.value=V.top+c,l.value="top")),h=window.scrollY}return{isStuck:l,stickyStyles:n}}const Ut=100,Bt=20;function we(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function _e(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let g=0;for(let u=t.length-1;u>0;u--){if(t[u].t===t[u-1].t)continue;const y=we(g),l=(t[u].d-t[u-1].d)/(t[u].t-t[u-1].t);g+=(l-y)*Math.abs(l),u===t.length-1&&(g*=.5)}return we(g)*1e3}function Et(){const t={};function g(l){Array.from(l.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new Ae(Bt))).push([l.timeStamp,r])})}function u(l){Array.from(l.changedTouches).forEach(r=>{delete t[r.identifier]})}function y(l){var d;const r=(d=t[l])==null?void 0:d.values().reverse();if(!r)throw new Error(`No samples for touch id ${l}`);const n=r[0],h=[],w=[];for(const V of r){if(n[0]-V[0]>Ut)break;h.push({t:V[0],d:V[1].clientX}),w.push({t:V[0],d:V[1].clientY})}return{x:_e(h),y:_e(w),get direction(){const{x:V,y:_}=this,[c,s]=[Math.abs(V),Math.abs(_)];return c>s&&V>=0?"right":c>s&&V<=0?"left":s>c&&_>=0?"down":s>c&&_<=0?"up":$t()}}}return{addMovement:g,endTouch:u,getVelocity:y}}function $t(){throw new Error}function Tt(t){let{el:g,isActive:u,isTemporary:y,width:l,touchless:r,position:n}=t;ke(()=>{window.addEventListener("touchstart",p,{passive:!0}),window.addEventListener("touchmove",f,{passive:!1}),window.addEventListener("touchend",I,{passive:!0})}),xe(()=>{window.removeEventListener("touchstart",p),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",I)});const h=B(()=>["left","right"].includes(n.value)),{addMovement:w,endTouch:d,getVelocity:V}=Et();let _=!1;const c=Z(!1),s=Z(0),S=Z(0);let P;function D(i,a){return(n.value==="left"?i:n.value==="right"?document.documentElement.clientWidth-i:n.value==="top"?i:n.value==="bottom"?document.documentElement.clientHeight-i:X())-(a?l.value:0)}function M(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=n.value==="left"?(i-S.value)/l.value:n.value==="right"?(document.documentElement.clientWidth-i-S.value)/l.value:n.value==="top"?(i-S.value)/l.value:n.value==="bottom"?(document.documentElement.clientHeight-i-S.value)/l.value:X();return a?Math.max(0,Math.min(1,k)):k}function p(i){if(r.value)return;const a=i.changedTouches[0].clientX,k=i.changedTouches[0].clientY,C=25,E=n.value==="left"?a<C:n.value==="right"?a>document.documentElement.clientWidth-C:n.value==="top"?k<C:n.value==="bottom"?k>document.documentElement.clientHeight-C:X(),$=u.value&&(n.value==="left"?a<l.value:n.value==="right"?a>document.documentElement.clientWidth-l.value:n.value==="top"?k<l.value:n.value==="bottom"?k>document.documentElement.clientHeight-l.value:X());(E||$||u.value&&y.value)&&(P=[a,k],S.value=D(h.value?a:k,u.value),s.value=M(h.value?a:k),_=S.value>-20&&S.value<80,d(i),w(i))}function f(i){const a=i.changedTouches[0].clientX,k=i.changedTouches[0].clientY;if(_){if(!i.cancelable){_=!1;return}const E=Math.abs(a-P[0]),$=Math.abs(k-P[1]);(h.value?E>$&&E>3:$>E&&$>3)?(c.value=!0,_=!1):(h.value?$:E)>3&&(_=!1)}if(!c.value)return;i.preventDefault(),w(i);const C=M(h.value?a:k,!1);s.value=Math.max(0,Math.min(1,C)),C>1?S.value=D(h.value?a:k,!0):C<0&&(S.value=D(h.value?a:k,!1))}function I(i){if(_=!1,!c.value)return;w(i),c.value=!1;const a=V(i.changedTouches[0].identifier),k=Math.abs(a.x),C=Math.abs(a.y);(h.value?k>C&&k>400:C>k&&C>3)?u.value=a.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||X()):u.value=s.value>.5}const A=B(()=>c.value?{transform:n.value==="left"?`translateX(calc(-100% + ${s.value*l.value}px))`:n.value==="right"?`translateX(calc(100% - ${s.value*l.value}px))`:n.value==="top"?`translateY(calc(-100% + ${s.value*l.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${s.value*l.value}px))`:X(),transition:"none"}:void 0);return ee(c,()=>{var k,C;const i=((k=g.value)==null?void 0:k.style.transform)??null,a=((C=g.value)==null?void 0:C.style.transition)??null;Me(()=>{var E,$,b,z;($=g.value)==null||$.style.setProperty("transform",((E=A.value)==null?void 0:E.transform)||"none"),(z=g.value)==null||z.style.setProperty("transition",((b=A.value)==null?void 0:b.transition)||null)}),qe(()=>{var E,$;(E=g.value)==null||E.style.setProperty("transform",i),($=g.value)==null||$.style.setProperty("transition",a)})}),{isDragging:c,dragProgress:s,dragStyles:A}}function X(){throw new Error}const Rt=["start","end","left","right","top","bottom"],At=Ie({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Rt.includes(t)},sticky:Boolean,...Ne(),...ze(),...yt(),...Oe({mobile:null}),...Le(),...Fe(),...He(),...Ye({tag:"nav"}),...je()},"VNavigationDrawer"),Mt=We()({name:"VNavigationDrawer",props:At(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,g){let{attrs:u,emit:y,slots:l}=g;const{isRtl:r}=Xe(),{themeClasses:n}=Ze(t),{borderClasses:h}=Ge(t),{backgroundColorClasses:w,backgroundColorStyles:d}=ye(he(t,"color")),{elevationClasses:V}=Je(t),{displayClasses:_,mobile:c}=Ke(t),{roundedClasses:s}=Qe(t),S=et(),P=tt(t,"modelValue",null,q=>!!q),{ssrBootStyles:D}=Vt(),{scopeId:M}=ht(),p=x(),f=Z(!1),{runOpenDelay:I,runCloseDelay:A}=bt(t,q=>{f.value=q}),i=B(()=>t.rail&&t.expandOnHover&&f.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),a=B(()=>lt(t.location,r.value)),k=B(()=>t.persistent),C=B(()=>!t.permanent&&(c.value||t.temporary)),E=B(()=>t.sticky&&!C.value&&a.value!=="bottom");ee(()=>t.expandOnHover&&t.rail!=null,()=>{Y(f,q=>y("update:rail",!q))}),ee(()=>!t.disableResizeWatcher,()=>{Y(C,q=>!t.permanent&&ie(()=>P.value=!q))}),ee(()=>!t.disableRouteWatcher&&!!S,()=>{Y(S.currentRoute,()=>C.value&&(P.value=!1))}),Y(()=>t.permanent,q=>{q&&(P.value=!0)}),t.modelValue==null&&!C.value&&(P.value=t.permanent||!c.value);const{isDragging:$,dragProgress:b}=Tt({el:p,isActive:P,isTemporary:C,width:i,touchless:he(t,"touchless"),position:a}),z=B(()=>{const q=C.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):i.value;return $.value?q*b.value:q}),Ue=B(()=>["top","bottom"].includes(t.location)?0:i.value),{layoutItemStyles:ce,layoutItemScrimStyles:Be}=at({id:t.name,order:B(()=>parseInt(t.order,10)),position:a,layoutSize:z,elementSize:Ue,active:B(()=>P.value||$.value),disableTransitions:B(()=>$.value),absolute:B(()=>t.absolute||E.value&&typeof me.value!="string")}),{isStuck:me,stickyStyles:Ee}=Pt({rootEl:p,isSticky:E,layoutItemStyles:ce}),ve=ye(B(()=>typeof t.scrim=="string"?t.scrim:null)),$e=B(()=>({...$.value?{opacity:b.value*.2,transition:"none"}:void 0,...Be.value}));return ot({VList:{bgColor:"transparent"}}),nt(()=>{const q=l.image||t.image;return e(W,null,[e(t.tag,be({ref:p,onMouseenter:I,onMouseleave:A,class:["v-navigation-drawer",`v-navigation-drawer--${a.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":f.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":C.value,"v-navigation-drawer--persistent":k.value,"v-navigation-drawer--active":P.value,"v-navigation-drawer--sticky":E.value},n.value,w.value,h.value,_.value,V.value,s.value,t.class],style:[d.value,ce.value,D.value,Ee.value,t.style,["top","bottom"].includes(a.value)?{height:"auto"}:{}]},M,u),{default:()=>{var fe,pe,ge;return[q&&e("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?e(st,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},l.image):e(Pe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),l.prepend&&e("div",{class:"v-navigation-drawer__prepend"},[(fe=l.prepend)==null?void 0:fe.call(l)]),e("div",{class:"v-navigation-drawer__content"},[(pe=l.default)==null?void 0:pe.call(l)]),l.append&&e("div",{class:"v-navigation-drawer__append"},[(ge=l.append)==null?void 0:ge.call(l)])]}}),e(rt,{name:"fade-transition"},{default:()=>[C.value&&($.value||P.value)&&!!t.scrim&&e("div",be({class:["v-navigation-drawer__scrim",ve.backgroundColorClasses.value],style:[$e.value,ve.backgroundColorStyles.value],onClick:()=>{k.value||(P.value=!1)}},M),null)]})])}),{isStuck:me}}}),qt={__name:"DialogCloseBtn",props:{icon:{type:String,required:!1,default:"tabler-x"},iconSize:{type:String,required:!1,default:"20"}},setup(t){const g=t;return(u,y)=>{const l=oe("IconBtn");return T(),j(l,{variant:"elevated",size:"30",ripple:!1,class:"v-dialog-close-btn"},{default:o(()=>[e(O,{icon:g.icon,size:g.iconSize},null,8,["icon","size"])]),_:1})}}},It={class:"text-h4 text-center mb-2"},Nt={colspan:"3"},zt={class:"d-flex justify-end"},Ot={class:"text-h6"},Lt={class:"d-flex justify-end"},Ft={class:"d-flex justify-end"},Ht={class:"d-flex justify-end"},Yt={class:"d-flex align-center justify-center gap-4"},jt={__name:"AddEditRoleDialog",props:{rolePermissions:{type:Object,required:!1,default:()=>({name:"",permissions:[]})},isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible","update:rolePermissions"],setup(t,{emit:g}){const u=t,y=g,l=x([{name:"User Management",read:!1,write:!1,create:!1},{name:"Content Management",read:!1,write:!1,create:!1},{name:"Disputes Management",read:!1,write:!1,create:!1},{name:"Database Management",read:!1,write:!1,create:!1},{name:"Financial Management",read:!1,write:!1,create:!1},{name:"Reporting",read:!1,write:!1,create:!1},{name:"API Control",read:!1,write:!1,create:!1},{name:"Repository Management",read:!1,write:!1,create:!1},{name:"Payroll",read:!1,write:!1,create:!1}]),r=x(!1),n=x(""),h=x(),w=B(()=>{let c=0;return l.value.forEach(s=>{Object.entries(s).forEach(([S,P])=>{S!=="name"&&P&&c++})}),c}),d=B(()=>w.value>0&&w.value<l.value.length*3);Y(r,c=>{l.value=l.value.map(s=>({...s,read:c,write:c,create:c}))}),Y(d,()=>{d.value||(r.value=!1)}),Y(l,()=>{w.value===l.value.length*3&&(r.value=!0)},{deep:!0}),Y(()=>u,()=>{u.rolePermissions&&u.rolePermissions.permissions.length&&(n.value=u.rolePermissions.name,l.value=l.value.map(c=>{var S;const s=(S=u.rolePermissions)==null?void 0:S.permissions.find(P=>P.name===c.name);return s?{...c,...s}:c}))});const V=()=>{var s;const c={name:n.value,permissions:l.value};y("update:rolePermissions",c),y("update:isDialogVisible",!1),r.value=!1,(s=h.value)==null||s.reset()},_=()=>{var c;y("update:isDialogVisible",!1),r.value=!1,(c=h.value)==null||c.reset()};return(c,s)=>{const S=qt,P=ue;return T(),j(vt,{width:c.$vuetify.display.smAndDown?"auto":900,"model-value":u.isDialogVisible,"onUpdate:modelValue":_},{default:o(()=>[e(S,{onClick:_}),e(K,{class:"pa-sm-10 pa-2"},{default:o(()=>[e(G,null,{default:o(()=>[v("h4",It,L(u.rolePermissions.name?"Edit":"Add New")+" Role ",1),s[7]||(s[7]=v("p",{class:"text-body-1 text-center mb-6"}," Set Role Permissions ",-1)),e(m(Se),{ref_key:"refPermissionForm",ref:h},{default:o(()=>[e(P,{modelValue:m(n),"onUpdate:modelValue":s[0]||(s[0]=D=>U(n)?n.value=D:null),label:"Role Name",placeholder:"Enter Role Name"},null,8,["modelValue"]),s[6]||(s[6]=v("h5",{class:"text-h5 my-6"}," Role Permissions ",-1)),e(dt,{class:"permission-table text-no-wrap mb-6"},{default:o(()=>[v("tr",null,[s[3]||(s[3]=v("td",null,[v("h6",{class:"text-h6"}," Administrator Access ")],-1)),v("td",Nt,[v("div",zt,[e(Q,{modelValue:m(r),"onUpdate:modelValue":s[1]||(s[1]=D=>U(r)?r.value=D:null),indeterminate:m(d),"onUpdate:indeterminate":s[2]||(s[2]=D=>U(d)?d.value=D:null),label:"Select All"},null,8,["modelValue","indeterminate"])])])]),(T(!0),N(W,null,le(m(l),D=>(T(),N("tr",{key:D.name},[v("td",null,[v("h6",Ot,L(D.name),1)]),v("td",null,[v("div",Lt,[e(Q,{modelValue:D.read,"onUpdate:modelValue":M=>D.read=M,label:"Read"},null,8,["modelValue","onUpdate:modelValue"])])]),v("td",null,[v("div",Ft,[e(Q,{modelValue:D.write,"onUpdate:modelValue":M=>D.write=M,label:"Write"},null,8,["modelValue","onUpdate:modelValue"])])]),v("td",null,[v("div",Ht,[e(Q,{modelValue:D.create,"onUpdate:modelValue":M=>D.create=M,label:"Create"},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),v("div",Yt,[e(J,{onClick:V},{default:o(()=>s[4]||(s[4]=[F(" Submit ")])),_:1}),e(J,{color:"secondary",variant:"tonal",onClick:_},{default:o(()=>s[5]||(s[5]=[F(" Cancel ")])),_:1})])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},Wt={class:"text-body-1"},Xt={class:"v-avatar-group"},Zt={class:"d-flex justify-space-between align-center"},Gt={class:"text-h5"},Jt={class:"d-flex align-center"},Kt=["onClick"],Qt=["src"],el={__name:"RoleCards",props:{roles:{type:Array,required:!0}},setup(t){const g=x(!1),u=x(),y=x(!1),l=r=>{g.value=!0,u.value=r};return(r,n)=>{const h=oe("IconBtn"),w=jt;return T(),N(W,null,[e(ae,null,{default:o(()=>[(T(!0),N(W,null,le(t.roles,d=>(T(),j(R,{key:d.id,cols:"12",sm:"6",lg:"4"},{default:o(()=>[e(K,null,{default:o(()=>[e(G,{class:"d-flex align-center pb-4"},{default:o(()=>[v("div",Wt," Total "+L(d.users_count)+" users ",1),e(de),v("div",Xt,[(T(!0),N(W,null,le(d.users,(V,_)=>(T(),N(W,{key:V},[d.users_count>4&&d.users_count!==4&&_<3?(T(),j(te,{key:0,size:"40",image:V},null,8,["image"])):ne("",!0),d.users_count===4?(T(),j(te,{key:1,size:"40",image:V},null,8,["image"])):ne("",!0)],64))),128)),d.users_count>4?(T(),j(te,{key:0,color:r.$vuetify.theme.current.dark?"#373B50":"#EEEDF0"},{default:o(()=>[v("span",null," +"+L(d.users_count-3),1)]),_:2},1032,["color"])):ne("",!0)])]),_:2},1024),e(G,null,{default:o(()=>[v("div",Zt,[v("div",null,[v("h5",Gt,L(d.display_name),1),v("div",Jt,[v("a",{href:"javascript:void(0)",onClick:V=>l(d)}," Edit Role ",8,Kt)])]),e(h,null,{default:o(()=>[e(O,{icon:"tabler-copy",class:"text-high-emphasis"})]),_:1})])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(R,{cols:"12",sm:"6",lg:"4"},{default:o(()=>[e(K,{class:"h-100",ripple:!1},{default:o(()=>[e(ae,{"no-gutters":"",class:"h-100"},{default:o(()=>[e(R,{cols:"5",class:"d-flex flex-column justify-end align-center mt-5"},{default:o(()=>[v("img",{width:"85",src:r.girlUsingMobile},null,8,Qt)]),_:1}),e(R,{cols:"7"},{default:o(()=>[e(G,{class:"d-flex flex-column align-end justify-end gap-4"},{default:o(()=>[e(J,{size:"small",onClick:n[0]||(n[0]=d=>y.value=!0)},{default:o(()=>n[4]||(n[4]=[F(" Add New Role ")])),_:1}),n[5]||(n[5]=v("div",{class:"text-end"},[F(" Add new role,"),v("br"),F(" if it doesn't exist. ")],-1))]),_:1})]),_:1})]),_:1})]),_:1}),e(w,{"is-dialog-visible":m(y),"onUpdate:isDialogVisible":n[1]||(n[1]=d=>U(y)?y.value=d:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1}),e(w,{"is-dialog-visible":m(g),"onUpdate:isDialogVisible":n[2]||(n[2]=d=>U(g)?g.value=d:null),"role-permissions":m(u),"onUpdate:rolePermissions":n[3]||(n[3]=d=>U(u)?u.value=d:null)},null,8,["is-dialog-visible","role-permissions"])],64)}}},tl={__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","userData"],setup(t,{emit:g}){const u=t,y=g,l=x(!1),r=x(),n=x(""),h=x(""),w=x(""),d=x(""),V=x(),_=x(""),c=x(),s=x(),S=x(),P=()=>{y("update:isDrawerOpen",!1),ie(()=>{var p,f;(p=r.value)==null||p.reset(),(f=r.value)==null||f.resetValidation()})},D=()=>{var p;(p=r.value)==null||p.validate().then(({valid:f})=>{f&&(y("userData",{id:0,fullName:n.value,company:d.value,role:c.value,country:V.value,contact:_.value,email:w.value,currentPlan:s.value,status:S.value,avatar:"",billing:"Auto Debit"}),y("update:isDrawerOpen",!1),ie(()=>{var I,A;(I=r.value)==null||I.reset(),(A=r.value)==null||A.resetValidation()}))})},M=p=>{y("update:isDrawerOpen",p)};return(p,f)=>{const I=Dt,A=ue,i=Ce;return T(),j(Mt,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":u.isDrawerOpen,"onUpdate:modelValue":M},{default:o(()=>[e(I,{title:"Add New User",onCancel:P}),e(De),e(m(gt),{options:{wheelPropagation:!1}},{default:o(()=>[e(K,{flat:""},{default:o(()=>[e(G,null,{default:o(()=>[e(Se,{ref_key:"refForm",ref:r,modelValue:m(l),"onUpdate:modelValue":f[9]||(f[9]=a=>U(l)?l.value=a:null),onSubmit:it(D,["prevent"])},{default:o(()=>[e(ae,null,{default:o(()=>[e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(n),"onUpdate:modelValue":f[0]||(f[0]=a=>U(n)?n.value=a:null),rules:["requiredValidator"in p?p.requiredValidator:m(H)],label:"Full Name",placeholder:"John Doe"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(h),"onUpdate:modelValue":f[1]||(f[1]=a=>U(h)?h.value=a:null),rules:["requiredValidator"in p?p.requiredValidator:m(H)],label:"Username",placeholder:"Johndoe"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(w),"onUpdate:modelValue":f[2]||(f[2]=a=>U(w)?w.value=a:null),rules:["requiredValidator"in p?p.requiredValidator:m(H),"emailValidator"in p?p.emailValidator:m(pt)],label:"Email",placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(d),"onUpdate:modelValue":f[3]||(f[3]=a=>U(d)?d.value=a:null),rules:["requiredValidator"in p?p.requiredValidator:m(H)],label:"Company",placeholder:"PixInvent"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(i,{modelValue:m(V),"onUpdate:modelValue":f[4]||(f[4]=a=>U(V)?V.value=a:null),label:"Select Country",placeholder:"Select Country",rules:["requiredValidator"in p?p.requiredValidator:m(H)],items:["USA","UK","India","Australia"]},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(A,{modelValue:m(_),"onUpdate:modelValue":f[5]||(f[5]=a=>U(_)?_.value=a:null),type:"number",rules:["requiredValidator"in p?p.requiredValidator:m(H)],label:"Contact",placeholder:"+1-541-754-3010"},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(i,{modelValue:m(c),"onUpdate:modelValue":f[6]||(f[6]=a=>U(c)?c.value=a:null),label:"Select Role",placeholder:"Select Role",rules:["requiredValidator"in p?p.requiredValidator:m(H)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(i,{modelValue:m(s),"onUpdate:modelValue":f[7]||(f[7]=a=>U(s)?s.value=a:null),label:"Select Plan",placeholder:"Select Plan",rules:["requiredValidator"in p?p.requiredValidator:m(H)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(i,{modelValue:m(S),"onUpdate:modelValue":f[8]||(f[8]=a=>U(S)?S.value=a:null),label:"Select Status",placeholder:"Select Status",rules:["requiredValidator"in p?p.requiredValidator:m(H)],items:[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Pending",value:"pending"}]},null,8,["modelValue","rules"])]),_:1}),e(R,{cols:"12"},{default:o(()=>[e(J,{type:"submit",class:"me-3"},{default:o(()=>f[10]||(f[10]=[F(" Submit ")])),_:1}),e(J,{type:"reset",variant:"tonal",color:"error",onClick:P},{default:o(()=>f[11]||(f[11]=[F(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},ll={class:"d-flex gap-2 align-center"},al={class:"d-flex align-center flex-wrap gap-4"},ol={class:"d-flex align-center gap-x-4"},nl={key:1},sl={class:"d-flex flex-column"},rl={class:"text-base"},il={class:"text-sm"},ul={class:"d-flex align-center gap-x-2"},dl={class:"text-capitalize text-high-emphasis text-body-1"},cl={__name:"UserList",emits:["roles"],async setup(t,{emit:g}){let u,y;const l=x(""),r=x(),n=g,h=x(10),w=x(1),d=x("id"),V=x("ASC"),_=i=>{var a,k;i.sortBy.length&&(d.value=(a=i.sortBy[0])==null?void 0:a.key,V.value=(k=i.sortBy[0])==null?void 0:k.order)},c=[{title:"User",key:"user",sortable:!1},{title:"Role",key:"roles",sortable:!1},{title:"Created By",key:"created_by",sortable:!1},{title:"Updated By",key:"updated_by",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],{data:s,execute:S}=([u,y]=ut(()=>_t(St("/settings/users-roles",{query:{q:l,role_id:r,itemsPerPage:h,page:w,sortBy:d,orderBy:V}}))),u=await u,y(),u),P=B(()=>s.value.users.data),D=B(()=>s.value.users.total),M=B(()=>s.value.roles);n("roles",M.value);const p=i=>{if(!i)return{color:"primary",icon:"tabler-user"};const a=i.toLowerCase();return a==="administrator"?{color:"primary",icon:"tabler-user"}:a==="operator"?{color:"warning",icon:"tabler-settings"}:a==="koperasi"?{color:"success",icon:"tabler-chart-donut"}:a==="editor"?{color:"info",icon:"tabler-pencil"}:a==="admin"?{color:"error",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"}},f=x(!1),I=async i=>{await Ve("/apps/users",{method:"POST",body:i}),S()},A=async i=>{await Ve(`/apps/users/${i}`,{method:"DELETE"}),S()};return(i,a)=>{const k=Ce,C=ue,E=oe("IconBtn"),$=mt;return T(),N("section",null,[e(K,null,{default:o(()=>[e(G,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[v("div",ll,[a[7]||(a[7]=v("p",{class:"text-body-1 mb-0"}," Show ",-1)),e(k,{"model-value":m(h),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":a[0]||(a[0]=b=>h.value=parseInt(b,10))},null,8,["model-value"])]),e(de),v("div",al,[e(C,{modelValue:m(l),"onUpdate:modelValue":a[1]||(a[1]=b=>U(l)?l.value=b:null),placeholder:"Search User",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),e(k,{modelValue:m(r),"onUpdate:modelValue":a[2]||(a[2]=b=>U(r)?r.value=b:null),placeholder:"Select Role",items:m(M),"item-title":"display_name","item-value":"id",clearable:"","clear-icon":"tabler-x",style:{"inline-size":"10rem"}},null,8,["modelValue","items"])])]),_:1}),e(De),e(ct,{"items-per-page":m(h),"onUpdate:itemsPerPage":a[4]||(a[4]=b=>U(h)?h.value=b:null),page:m(w),"onUpdate:page":a[5]||(a[5]=b=>U(w)?w.value=b:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:m(P),"items-length":m(D),headers:c,class:"text-no-wrap","onUpdate:options":_},{"item.user":o(({item:b})=>[v("div",ol,[e(te,{size:"34",variant:b.avatar?void 0:"tonal",color:b.avatar?void 0:"success"},{default:o(()=>[b.avatar?(T(),j(Pe,{key:0,src:b.avatar},null,8,["src"])):(T(),N("span",nl,L(("avatarText"in i?i.avatarText:m(ft))(b.name)),1))]),_:2},1032,["variant","color"]),v("div",sl,[v("h6",rl,L(b.name),1),v("div",il,L(b.email),1)])])]),"item.roles":o(({item:b})=>[v("div",ul,[(T(!0),N(W,null,le(b.roles,z=>(T(),N(W,null,[e(O,{size:22,icon:p(z.name).icon,color:p(z.name).color},null,8,["icon","color"]),v("div",dl,L(z.display_name),1)],64))),256))])]),"item.actions":o(({item:b})=>[e(E,{onClick:z=>A(b.id)},{default:o(()=>[e(O,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),e(E,null,{default:o(()=>[e(O,{icon:"tabler-eye"})]),_:1}),e(J,{icon:"",variant:"text",color:"medium-emphasis"},{default:o(()=>[e(O,{icon:"tabler-dots-vertical"}),e(kt,{activator:"parent"},{default:o(()=>[e(wt,null,{default:o(()=>[e(se,{to:{name:"apps-user-view-id",params:{id:b.id}}},{prepend:o(()=>[e(O,{icon:"tabler-eye"})]),default:o(()=>[e(re,null,{default:o(()=>a[8]||(a[8]=[F("View")])),_:1})]),_:2},1032,["to"]),e(se,{link:""},{prepend:o(()=>[e(O,{icon:"tabler-pencil"})]),default:o(()=>[e(re,null,{default:o(()=>a[9]||(a[9]=[F("Edit")])),_:1})]),_:1}),e(se,{onClick:z=>A(b.id)},{prepend:o(()=>[e(O,{icon:"tabler-trash"})]),default:o(()=>[e(re,null,{default:o(()=>a[10]||(a[10]=[F("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[e($,{page:m(w),"onUpdate:page":a[3]||(a[3]=b=>U(w)?w.value=b:null),"items-per-page":m(h),"total-items":m(D)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),e(tl,{isDrawerOpen:m(f),"onUpdate:isDrawerOpen":a[6]||(a[6]=b=>U(f)?f.value=b:null),onUserData:I},null,8,["isDrawerOpen"])])}}},zl={__name:"users-roles",setup(t){const g=x([]),u=y=>{g.value=y};return(y,l)=>(T(),j(ae,null,{default:o(()=>[e(R,{cols:"12"},{default:o(()=>l[0]||(l[0]=[v("h4",{class:"text-h4 mb-1"}," Roles List ",-1),v("p",{class:"text-body-1 mb-0"}," A role provided access to predefined menus and features so that depending on assigned role an administrator can have access to what he need ",-1)])),_:1}),e(R,{cols:"12"},{default:o(()=>[e(el,{roles:m(g)},null,8,["roles"])]),_:1}),e(R,{cols:"12"},{default:o(()=>l[1]||(l[1]=[v("h4",{class:"text-h4 mb-1 mt-6"}," Total users with their roles ",-1),v("p",{class:"text-body-1 mb-0"}," Find all of your company’s administrator accounts and their associate roles. ",-1)])),_:1}),e(R,{cols:"12"},{default:o(()=>[e(cl,{onRoles:u})]),_:1})]),_:1}))}};export{zl as default};
