import{_ as A}from"./AppTextField-BNKfsWJc.js";import{r as n,c as L,a as o,b as a,u as s,t as R,w as t,F as T,e as S,f as D,o as F,g as h,h as B,V as j,d as P,i as c,n as q}from"./main-CJqJ5jgX.js";import{u as V,m as E,a as M}from"./misc-mask-light-BbpbXALP.js";import{V as N}from"./VNodeRenderer-DgVShUwH.js";import{u as $}from"./useAbility-CrMcNWD6.js";import{$ as U}from"./api-C1l3fXy6.js";import{V as b,a as d}from"./VRow-C4R7jrb-.js";import{V as G}from"./VImg-DRPIkl48.js";import{V as H}from"./VCard-BoPs5wzw.js";import{V as k}from"./VCardText-Dyk9rFBW.js";import{V as K}from"./VForm-BfSbkl8_.js";import{V as O}from"./VCheckbox-Dhzw9N-e.js";import"./VTextField-BhLkXAqD.js";import"./forwardRefs-D9kYFWgq.js";import"./index-9rIf2CJL.js";/* empty css              */import"./VAvatar-TRklItJV.js";import"./VCheckboxBtn-DyTQd6So.js";const Y="/build/assets/auth-v2-login-illustration-bordered-dark-cDkPk8mY.png",z="/build/assets/auth-v2-login-illustration-bordered-light-CIHqcIVA.png",J="/build/assets/auth-v2-login-illustration-dark-ClExSVqL.png",Q="/build/assets/auth-v2-login-illustration-light-C4sKfRS1.png",W={href:"javascript:void(0)"},X={class:"auth-logo d-flex align-center gap-x-3"},Z={class:"auth-title"},ee={class:"position-relative bg-background w-100 me-0"},ae={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},se=["src"],te={class:"d-flex align-center flex-wrap justify-space-between my-6"},ye={__name:"login",setup(oe){const v=V(Q,J,z,Y,!0),w=V(M,E),f=n(),l=n({email:"",password:"",remember:!1}),g=S(),_=D(),y=$(),p=n({email:void 0,password:void 0});n(!1);const u=n(!1),x=async()=>{try{const i=await U("/auth/login",{method:"POST",body:{email:l.value.email,password:l.value.password},onResponseError({response:I}){p.value=I._data.errors}}),{accessToken:e,userData:m,userAbilityRules:r}=i;c("userAbilityRules").value=r,y.update(r),c("userData").value=m,c("accessToken").value=e,await q(()=>{_.replace(g.query.to?String(g.query.to):"/")})}catch(i){console.error(i)}},C=()=>{var i;(i=f.value)==null||i.validate().then(({valid:e})=>{e&&x()})};return(i,e)=>{const m=A;return F(),L(T,null,[o("a",W,[o("div",X,[a(s(N),{nodes:s(h).app.logo},null,8,["nodes"]),o("h1",Z,R(s(h).app.title),1)])]),a(b,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[a(d,{md:"8",class:"d-none d-md-flex"},{default:t(()=>[o("div",ee,[o("div",ae,[a(G,{"max-width":"613",src:s(v),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),o("img",{class:"auth-footer-mask flip-in-rtl",src:s(w),alt:"auth-footer-mask",height:"280",width:"100"},null,8,se)])]),_:1}),a(d,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[a(H,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:t(()=>[a(k,null,{default:t(()=>e[4]||(e[4]=[o("h4",{class:"text-h4 mb-1"}," Admin Area ",-1),o("p",{class:"mb-0"}," Silahkan login untuk dapat mengakses Admin Area ",-1)])),_:1}),a(k,null,{default:t(()=>[a(K,{ref_key:"refVForm",ref:f,onSubmit:B(C,["prevent"])},{default:t(()=>[a(b,null,{default:t(()=>[a(d,{cols:"12"},{default:t(()=>[a(m,{modelValue:s(l).email,"onUpdate:modelValue":e[0]||(e[0]=r=>s(l).email=r),"error-messages":s(p).email,autofocus:"",label:"Email",type:"email",placeholder:"email.anda@email.com"},null,8,["modelValue","error-messages"])]),_:1}),a(d,{cols:"12"},{default:t(()=>[a(m,{modelValue:s(l).password,"onUpdate:modelValue":e[1]||(e[1]=r=>s(l).password=r),"error-messages":s(p).password,label:"Password",placeholder:"············",type:s(u)?"text":"password",autocomplete:"password","append-inner-icon":s(u)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=r=>u.value=!s(u))},null,8,["modelValue","error-messages","type","append-inner-icon"]),o("div",te,[a(O,{modelValue:s(l).remember,"onUpdate:modelValue":e[3]||(e[3]=r=>s(l).remember=r),label:"Remember me"},null,8,["modelValue"]),e[5]||(e[5]=o("a",{class:"text-primary",href:"javascript:void(0)"}," Forgot Password? ",-1))]),a(j,{block:"",type:"submit"},{default:t(()=>e[6]||(e[6]=[P(" Login ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{ye as default};
