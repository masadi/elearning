import{_ as J}from"./ConfirmDialog-DFbzgQW8.js";import{_ as K}from"./ShowAlert-DfFAv44p.js";import{V as M,_ as W,a as X}from"./VDataTableServer-MiFAOmgu.js";import{_ as Y}from"./AppTextField-BNKfsWJc.js";import{u as Z}from"./useApi-Crmmmh9g.js";import{c as ee}from"./createUrl-XQL3s935.js";import{r as i,j as te,k as S,l as ae,c as le,b as a,w as s,u as l,m as oe,p as d,q as ie,f as se,s as ne,o as U,a as h,V as re,d as k,v as V,t as P}from"./main-CJqJ5jgX.js";import{$ as me}from"./api-C1l3fXy6.js";import{V as pe}from"./VCard-BoPs5wzw.js";import{V as ue}from"./VCardText-Dyk9rFBW.js";import{V as ce}from"./VSpacer-D7tKLNB5.js";import{V as de}from"./VDivider-BMkwtQos.js";import"./VDialog-DcAvQr3h.js";import"./VOverlay-BB1DNga5.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-DRPIkl48.js";import"./dialog-transition-Bu6FTd__.js";import"./VTextField-BhLkXAqD.js";import"./filter-Bgaj9e79.js";import"./VList-BxrZyx63.js";import"./VAvatar-TRklItJV.js";import"./VMenu-BM9B6Kyn.js";import"./VCheckboxBtn-DyTQd6So.js";import"./VChip-DxlNBE8M.js";import"./index-9rIf2CJL.js";/* empty css              */const fe={class:"d-flex gap-2 align-center"},ve={class:"d-flex align-center flex-wrap gap-4"},Oe={__name:"index",async setup(_e){let v,D;const r=i({icon:null,title:null,text:null,color:null}),m=i(!1),_=i(""),p=i(10),u=i(1),x=i("created_at"),C=i("DESC"),T=o=>{var t,c;o.sortBy.length&&(x.value=(t=o.sortBy[0])==null?void 0:t.key,C.value=(c=o.sortBy[0])==null?void 0:c.order)},q=[{title:"judul",key:"judul",sortable:!1},{title:"mapel",key:"mapel",sortable:!1},{title:"rombel",key:"rombel",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],{data:g,execute:j}=([v,D]=te(()=>Z(ee("/table",{query:{data:"materi-ajar",q:_,itemsPerPage:p,page:u,sortBy:x,orderBy:C}}))),v=await v,D(),v);g.value.color&&(r.value=g.value,m.value=!0);const E=S(()=>g.value.lists.data),$=S(()=>g.value.lists.total),w=se(),I=()=>{w.push({name:"materi-ajar-tambah"})},y=i(),b=i(),N=async o=>{y.value=o,b.value=!0},R=async o=>{o&&await me(`/referensi/destroy/materi-ajar/${y.value}`,{method:"DELETE",onResponse({request:t,response:c,options:A}){let f=c._data;r.value=f,m.value=!0,y.value=null,j()}})},z=i(!1);i(!1);const F=i(),L=async o=>{z.value=!0,F.value=o},O=async o=>{console.log(o),w.push(`/materi-ajar/${o}`)};return ae(m,()=>{m.value||j()}),(o,t)=>{const c=W,A=Y,f=ne("IconBtn"),Q=X,G=K,H=J;return U(),le("section",null,[a(pe,null,{default:s(()=>[a(ue,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[h("div",fe,[a(c,{"model-value":l(p),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=parseInt(e,10))},null,8,["model-value"])]),a(ce),h("div",ve,[a(A,{modelValue:l(_),"onUpdate:modelValue":t[1]||(t[1]=e=>d(_)?_.value=e:null),placeholder:"Cari...",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),a(re,{onClick:I},{default:s(()=>[t[7]||(t[7]=k("Tambah ")),a(V,{end:"",icon:"tabler-plus"})]),_:1})])]),_:1}),a(de),a(M,{"items-per-page":l(p),"onUpdate:itemsPerPage":t[3]||(t[3]=e=>d(p)?p.value=e:null),page:l(u),"onUpdate:page":t[4]||(t[4]=e=>d(u)?u.value=e:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:l(E),"items-length":l($),headers:q,class:"text-no-wrap","onUpdate:options":T},{"item.mapel":s(({item:e})=>{var n;return[k(P((n=e.pembelajaran)==null?void 0:n.nama_mata_pelajaran),1)]}),"item.rombel":s(({item:e})=>{var n,B;return[k(P((B=(n=e.pembelajaran)==null?void 0:n.rombongan_belajar)==null?void 0:B.nama),1)]}),"item.actions":s(({item:e})=>[a(f,{onClick:n=>N(e.materi_ajar_id)},{default:s(()=>[a(V,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(f,{onClick:n=>L(e)},{default:s(()=>[a(V,{icon:"tabler-eye"})]),_:2},1032,["onClick"]),a(f,{onClick:n=>O(e.materi_ajar_id)},{default:s(()=>[a(V,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),bottom:s(()=>[a(Q,{page:l(u),"onUpdate:page":t[2]||(t[2]=e=>d(u)?u.value=e:null),"items-per-page":l(p),"total-items":l($)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),l(r).color?(U(),oe(G,{key:0,color:l(r).color,icon:l(r).icon,title:l(r).title,text:l(r).text,"disable-time-out":!1,isSnackbarVisible:l(m),"onUpdate:isSnackbarVisible":t[5]||(t[5]=e=>d(m)?m.value=e:null)},null,8,["color","icon","title","text","isSnackbarVisible"])):ie("",!0),a(H,{isDialogVisible:l(b),"onUpdate:isDialogVisible":t[6]||(t[6]=e=>d(b)?b.value=e:null),"confirmation-question":"Apakah Anda yakin ingin menghapus data ini?","show-notif":!1,onConfirm:R},null,8,["isDialogVisible"])])}}};export{Oe as default};
