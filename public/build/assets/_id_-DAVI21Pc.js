import{r as y}from"./validators-BHkKs9Dp.js";import{f as T,g as U,e as i,E as $,c as g,w as l,u as t,y as h,x as B,o as R,a as o,j as x,d as N,h as E,i as _,A as O}from"./main-scvWyTOU.js";import{_ as P}from"./ShowAlert-fgCrFe-K.js";import{_ as Q}from"./AppTextField-Ek_AyAv4.js";import{Q as J}from"./vue-quill.snow-cVZE56pf.js";import{u as M}from"./useApi-CeTQQjfx.js";import{c as z}from"./createUrl-Biyn0cwN.js";import{$ as G}from"./api-D6fsIEsL.js";import{V as H}from"./VCard-JOWG8Qbz.js";import{V as C}from"./VCardText-BgqeFTQi.js";import{V as q,a as k}from"./VRow-CEA2EGhF.js";import{V as I}from"./VForm-tsfG5yXc.js";import"./VOverlay-DTfC24iM.js";import"./forwardRefs-D9kYFWgq.js";import"./VImg-Do8vpaI9.js";import"./VInput-BhraEJ-a.js";import"./VTextField-CeXEcOOt.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BxkgbwWS.js";import"./VAvatar-C6585Jv4.js";/* empty css              */const ke={__name:"[id]",async setup(K){let m,v;const D=h(),S=B(),{data:j,execute:L}=([m,v]=T(()=>M(z("/referensi/show",{query:{data:"sesi",pelatihan_id:S.params.id}}))),m=await m,v(),m),p=U(()=>j.value),r=i({icon:null,title:null,text:null,color:null}),f=i(!1),n=i(!1),u=i({pelatihan_id:p.value.pelatihan_id,judul:`Sesi ${p.value.sesi_count+1}`,urut:p.value.sesi_count+1,deskripsi:null}),b=i(!1),w=i(),c=i(!1),A=async()=>{var s;(s=w.value)==null||s.validate().then(async({valid:e})=>{if(e){c.value=!0;const d=new FormData;d.append("data","sesi");for(const[V,a]of Object.entries(u.value))d.append(V,a||"");await G("/referensi/store",{method:"POST",body:d,onResponse({request:V,response:a,options:W}){let F=a._data;r.value=F,f.value=!0,c.value=!1}})}})};return $(n,()=>{n.value&&D.push({name:"pelatihan-sesi-id",params:{id:S.params.id}})}),(s,e)=>{const d=Q,V=P;return R(),g(H,{title:`Tambah Sesi Pelatihan ${t(p).judul}`},{default:l(()=>[o(I,{ref_key:"refForm",ref:w,modelValue:t(b),"onUpdate:modelValue":e[2]||(e[2]=a=>_(b)?b.value=a:null),onSubmit:O(A,["prevent"])},{default:l(()=>[o(C,{class:"pb-12"},{default:l(()=>[o(q,null,{default:l(()=>[o(k,{cols:"12"},{default:l(()=>[o(d,{modelValue:t(u).judul,"onUpdate:modelValue":e[0]||(e[0]=a=>t(u).judul=a),rules:["requiredValidator"in s?s.requiredValidator:t(y)]},{label:l(()=>e[5]||(e[5]=[x("Judul Sesi")])),_:1},8,["modelValue","rules"])]),_:1}),o(k,{cols:"12"},{default:l(()=>[e[6]||(e[6]=N("label",{for:""},"Deskripsi Sesi",-1)),o(t(J),{theme:"snow",toolbar:"full",content:t(u).deskripsi,"onUpdate:content":e[1]||(e[1]=a=>t(u).deskripsi=a),contentType:"html",rules:["requiredValidator"in s?s.requiredValidator:t(y)]},null,8,["content","rules"])]),_:1})]),_:1})]),_:1}),o(C,{class:"mt-16"},{default:l(()=>[o(q,null,{default:l(()=>[o(k,{cols:"12"},{default:l(()=>[o(E,{type:"submit",loading:t(c),disabled:t(c)},{default:l(()=>e[7]||(e[7]=[x("Submit")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(V,{color:t(r).color,icon:t(r).icon,title:t(r).title,text:t(r).text,"disable-time-out":!1,isSnackbarVisible:t(f),"onUpdate:isSnackbarVisible":e[3]||(e[3]=a=>_(f)?f.value=a:null),isSnackbarClicked:t(n),"onUpdate:isSnackbarClicked":e[4]||(e[4]=a=>_(n)?n.value=a:null)},null,8,["color","icon","title","text","isSnackbarVisible","isSnackbarClicked"])]),_:1},8,["title"])}}};export{ke as default};
